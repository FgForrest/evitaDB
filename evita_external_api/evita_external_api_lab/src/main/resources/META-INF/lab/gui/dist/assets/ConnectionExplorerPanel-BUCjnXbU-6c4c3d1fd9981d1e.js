import{p as ue,Q as x,R as O,L as R,S as $e,T as W,v as de,U as ye,g as be,W as Ee,X as te,Y as ne,Z as _e,b as we,$ as nt,a0 as xe,h as S,H as Y,a1 as Pe,a2 as st,a3 as Me,a4 as it,e as Le,n as rt,d as re,c as b,a5 as ct,a6 as ut,a7 as dt,u as mt,a as vt,a8 as gt,a9 as Ie,aa as pt,ab as ft,ac as ht,ad as yt,ae as bt,af as _t,ag as wt,ah as St,m as Tt,ai as Ct,aj as kt,ak as Vt,al as Nt,am as xt,an as It,ao as Bt,F as H,ap as Rt,P as Se,aq as Dt,i as P,t as U,j as D,o as g,ar as Ae,D as f,K as h,_ as G,l as oe,f as k,B as M,as as $t,at as Et,au as Pt,av as Mt,aw as Lt,A as I,ax as J,r as Q,w as m,ay as At,N as Ue,az as We,aA as Be,s as q,aB as K,aC as He,aD as me,I as pe,aE as Ut,aF as Wt,aG as Ht,aH as zt,aI as jt,aJ as Ft,aK as qt,k as Ot,aL as Yt,C as X,x as ze,aM as Gt,aN as Xt,aO as Kt,aP as fe,J as se,G as Zt,aQ as Z,E as Jt,aR as Qt,aS as le,aT as ve,O as ce,V as je,y as he,aU as Te,aV as Fe,aW as qe,aX as ea,aY as ta,aZ as aa,a_ as oa,a$ as la,b0 as Ce,b1 as na,b2 as sa,b3 as ia,b4 as ra,b5 as ca,b6 as ua,b7 as da,b8 as ma,b9 as va}from"./index-6c4c3d1fd9981d1e.js";import{u as Oe,a as Ye,b as ga}from"./layout-QS-SuRi6-6c4c3d1fd9981d1e.js";const pa=ue({scrollTarget:{type:String},scrollThreshold:{type:[String,Number],default:300}},"scroll");function fa(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{canScroll:l}=r;let n=0,e=0;const a=x(null),s=O(0),i=O(0),o=O(0),d=O(!1),T=O(!1),v=R(()=>Number(t.scrollThreshold)),u=R(()=>$e((v.value-s.value)/v.value||0)),p=()=>{const y=a.value;if(!y||l&&!l.value)return;n=s.value,s.value="window"in y?y.pageYOffset:y.scrollTop;const c=y instanceof Window?document.documentElement.scrollHeight:y.scrollHeight;if(e!==c){e=c;return}T.value=s.value<n,o.value=Math.abs(s.value-v.value)};return W(T,()=>{i.value=i.value||s.value}),W(d,()=>{i.value=0}),de(()=>{W(()=>t.scrollTarget,y=>{const c=y?document.querySelector(y):window;c&&c!==a.value&&(a.value?.removeEventListener("scroll",p),a.value=c,a.value.addEventListener("scroll",p,{passive:!0}))},{immediate:!0})}),ye(()=>{a.value?.removeEventListener("scroll",p)}),l&&W(l,p,{immediate:!0}),{scrollThreshold:v,currentScroll:s,currentThreshold:o,isScrollActive:d,scrollRatio:u,isScrollingUp:T,savedScroll:i}}const ha=ue({scrollBehavior:String,modelValue:{type:Boolean,default:!0},location:{type:String,default:"top",validator:t=>["top","bottom"].includes(t)},...nt(),...Ye(),...pa(),height:{type:[Number,String],default:64}},"VAppBar"),Ge=be()({name:"VAppBar",props:ha(),emits:{"update:modelValue":t=>!0},setup(t,r){let{slots:l}=r;const n=x(),e=Ee(t,"modelValue"),a=R(()=>{const V=new Set(t.scrollBehavior?.split(" ")??[]);return{hide:V.has("hide"),fullyHide:V.has("fully-hide"),inverted:V.has("inverted"),collapse:V.has("collapse"),elevate:V.has("elevate"),fadeImage:V.has("fade-image")}}),s=R(()=>{const V=a.value;return V.hide||V.fullyHide||V.inverted||V.collapse||V.elevate||V.fadeImage||!e.value}),{currentScroll:i,scrollThreshold:o,isScrollingUp:d,scrollRatio:T}=fa(t,{canScroll:s}),v=te(()=>a.value.hide||a.value.fullyHide),u=R(()=>t.collapse||a.value.collapse&&(a.value.inverted?T.value>0:T.value===0)),p=R(()=>t.flat||a.value.fullyHide&&!e.value||a.value.elevate&&(a.value.inverted?i.value>0:i.value===0)),y=R(()=>a.value.fadeImage?a.value.inverted?1-T.value:T.value:void 0),c=R(()=>{if(a.value.hide&&a.value.inverted)return 0;const V=n.value?.contentHeight??0,L=n.value?.extensionHeight??0;return v.value?i.value<o.value||a.value.fullyHide?V+L:V:V+L});ne(()=>!!t.scrollBehavior,()=>{Pe(()=>{v.value?a.value.inverted?e.value=i.value>o.value:e.value=d.value||i.value<o.value:e.value=!0})});const{ssrBootStyles:_}=_e(),{layoutItemStyles:w}=Oe({id:t.name,order:R(()=>parseInt(t.order,10)),position:te(()=>t.location),layoutSize:c,elementSize:O(void 0),active:e,absolute:te(()=>t.absolute)});return we(()=>{const V=xe.filterProps(t);return S(xe,Y({ref:n,class:["v-app-bar",{"v-app-bar--bottom":t.location==="bottom"},t.class],style:[{...w.value,"--v-toolbar-image-opacity":y.value,height:void 0,..._.value},t.style]},V,{collapse:u.value,flat:p.value}),l)}),{}}}),ya=ue({scrollable:Boolean,...Le(),...it(),...Me({tag:"main"})},"VMain"),ba=be()({name:"VMain",props:ya(),setup(t,r){let{slots:l}=r;const{dimensionStyles:n}=st(t),{mainStyles:e}=ga(),{ssrBootStyles:a}=_e();return we(()=>S(t.tag,{class:re(["v-main",{"v-main--scrollable":t.scrollable},t.class]),style:rt([e.value,a.value,n.value,t.style])},{default:()=>[t.scrollable?b("div",{class:"v-main__scroller"},[l.default?.()]):l.default?.()]})),{}}});function _a(t){let{rootEl:r,isSticky:l,layoutItemStyles:n}=t;const e=O(!1),a=O(0),s=R(()=>{const d=typeof e.value=="boolean"?"top":e.value;return[l.value?{top:"auto",bottom:"auto",height:void 0}:void 0,e.value?{[d]:ct(a.value)}:{top:n.value.top}]});de(()=>{W(l,d=>{d?window.addEventListener("scroll",o,{passive:!0}):window.removeEventListener("scroll",o)},{immediate:!0})}),ye(()=>{window.removeEventListener("scroll",o)});let i=0;function o(){const d=i>window.scrollY?"up":"down",T=r.value.getBoundingClientRect(),v=parseFloat(n.value.top??0),u=window.scrollY-Math.max(0,a.value-v),p=T.height+Math.max(a.value,v)-window.scrollY-window.innerHeight,y=parseFloat(getComputedStyle(r.value).getPropertyValue("--v-body-scroll-y"))||0;T.height<window.innerHeight-v?(e.value="top",a.value=v):d==="up"&&e.value==="bottom"||d==="down"&&e.value==="top"?(a.value=window.scrollY+T.top-y,e.value=!0):d==="down"&&p<=0?(a.value=0,e.value="bottom"):d==="up"&&u<=0&&(y?e.value!=="top"&&(a.value=-u+y+v,e.value="top"):(a.value=T.top+u,e.value="top")),i=window.scrollY}return{isStuck:e,stickyStyles:s}}const wa=100,Sa=20;function Re(t){return(t<0?-1:1)*Math.sqrt(Math.abs(t))*1.41421356237}function De(t){if(t.length<2)return 0;if(t.length===2)return t[1].t===t[0].t?0:(t[1].d-t[0].d)/(t[1].t-t[0].t);let r=0;for(let l=t.length-1;l>0;l--){if(t[l].t===t[l-1].t)continue;const n=Re(r),e=(t[l].d-t[l-1].d)/(t[l].t-t[l-1].t);r+=(e-n)*Math.abs(e),l===t.length-1&&(r*=.5)}return Re(r)*1e3}function Ta(){const t={};function r(e){Array.from(e.changedTouches).forEach(a=>{(t[a.identifier]??(t[a.identifier]=new ut(Sa))).push([e.timeStamp,a])})}function l(e){Array.from(e.changedTouches).forEach(a=>{delete t[a.identifier]})}function n(e){const a=t[e]?.values().reverse();if(!a)throw new Error(`No samples for touch id ${e}`);const s=a[0],i=[],o=[];for(const d of a){if(s[0]-d[0]>wa)break;i.push({t:d[0],d:d[1].clientX}),o.push({t:d[0],d:d[1].clientY})}return{x:De(i),y:De(o),get direction(){const{x:d,y:T}=this,[v,u]=[Math.abs(d),Math.abs(T)];return v>u&&d>=0?"right":v>u&&d<=0?"left":u>v&&T>=0?"down":u>v&&T<=0?"up":Ca()}}}return{addMovement:r,endTouch:l,getVelocity:n}}function Ca(){throw new Error}function ka(t){let{el:r,isActive:l,isTemporary:n,width:e,touchless:a,position:s}=t;de(()=>{window.addEventListener("touchstart",V,{passive:!0}),window.addEventListener("touchmove",L,{passive:!1}),window.addEventListener("touchend",z,{passive:!0})}),ye(()=>{window.removeEventListener("touchstart",V),window.removeEventListener("touchmove",L),window.removeEventListener("touchend",z)});const i=R(()=>["left","right"].includes(s.value)),{addMovement:o,endTouch:d,getVelocity:T}=Ta();let v=!1;const u=O(!1),p=O(0),y=O(0);let c;function _(C,$){return(s.value==="left"?C:s.value==="right"?document.documentElement.clientWidth-C:s.value==="top"?C:s.value==="bottom"?document.documentElement.clientHeight-C:ee())-($?e.value:0)}function w(C){let $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const N=s.value==="left"?(C-y.value)/e.value:s.value==="right"?(document.documentElement.clientWidth-C-y.value)/e.value:s.value==="top"?(C-y.value)/e.value:s.value==="bottom"?(document.documentElement.clientHeight-C-y.value)/e.value:ee();return $?$e(N):N}function V(C){if(a.value)return;const $=C.changedTouches[0].clientX,N=C.changedTouches[0].clientY,B=25,E=s.value==="left"?$<B:s.value==="right"?$>document.documentElement.clientWidth-B:s.value==="top"?N<B:s.value==="bottom"?N>document.documentElement.clientHeight-B:ee(),F=l.value&&(s.value==="left"?$<e.value:s.value==="right"?$>document.documentElement.clientWidth-e.value:s.value==="top"?N<e.value:s.value==="bottom"?N>document.documentElement.clientHeight-e.value:ee());(E||F||l.value&&n.value)&&(c=[$,N],y.value=_(i.value?$:N,l.value),p.value=w(i.value?$:N),v=y.value>-20&&y.value<80,d(C),o(C))}function L(C){const $=C.changedTouches[0].clientX,N=C.changedTouches[0].clientY;if(v){if(!C.cancelable){v=!1;return}const E=Math.abs($-c[0]),F=Math.abs(N-c[1]);(i.value?E>F&&E>3:F>E&&F>3)?(u.value=!0,v=!1):(i.value?F:E)>3&&(v=!1)}if(!u.value)return;C.preventDefault(),o(C);const B=w(i.value?$:N,!1);p.value=Math.max(0,Math.min(1,B)),B>1?y.value=_(i.value?$:N,!0):B<0&&(y.value=_(i.value?$:N,!1))}function z(C){if(v=!1,!u.value)return;o(C),u.value=!1;const $=T(C.changedTouches[0].identifier),N=Math.abs($.x),B=Math.abs($.y);(i.value?N>B&&N>400:B>N&&B>3)?l.value=$.direction===({left:"right",right:"left",top:"down",bottom:"up"}[s.value]||ee()):l.value=p.value>.5}const A=R(()=>u.value?{transform:s.value==="left"?`translateX(calc(-100% + ${p.value*e.value}px))`:s.value==="right"?`translateX(calc(100% - ${p.value*e.value}px))`:s.value==="top"?`translateY(calc(-100% + ${p.value*e.value}px))`:s.value==="bottom"?`translateY(calc(100% - ${p.value*e.value}px))`:ee(),transition:"none"}:void 0);return ne(u,()=>{const C=r.value?.style.transform??null,$=r.value?.style.transition??null;Pe(()=>{r.value?.style.setProperty("transform",A.value?.transform||"none"),r.value?.style.setProperty("transition",A.value?.transition||null)}),dt(()=>{r.value?.style.setProperty("transform",C),r.value?.style.setProperty("transition",$)})}),{isDragging:u,dragProgress:p,dragStyles:A}}function ee(){throw new Error}const Va=["start","end","left","right","top","bottom"],Na=ue({color:String,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,modelValue:{type:Boolean,default:null},permanent:Boolean,rail:{type:Boolean,default:null},railWidth:{type:[Number,String],default:56},scrim:{type:[Boolean,String],default:!0},image:String,temporary:Boolean,persistent:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},location:{type:String,default:"start",validator:t=>Va.includes(t)},sticky:Boolean,...xt(),...Le(),...Nt(),...Vt({mobile:null}),...kt(),...Ye(),...Ct(),...Me({tag:"nav"}),...Tt()},"VNavigationDrawer"),xa=be()({name:"VNavigationDrawer",props:Na(),emits:{"update:modelValue":t=>!0,"update:rail":t=>!0},setup(t,r){let{attrs:l,emit:n,slots:e}=r;const{isRtl:a}=mt(),{themeClasses:s}=vt(t),{borderClasses:i}=gt(t),{backgroundColorClasses:o,backgroundColorStyles:d}=Ie(()=>t.color),{elevationClasses:T}=pt(t),{displayClasses:v,mobile:u}=ft(t),{roundedClasses:p}=ht(t),y=yt(),c=Ee(t,"modelValue",null,j=>!!j),{ssrBootStyles:_}=_e(),{scopeId:w}=bt(),V=x(),L=O(!1),{runOpenDelay:z,runCloseDelay:A}=It(t,j=>{L.value=j}),C=R(()=>t.rail&&t.expandOnHover&&L.value?Number(t.width):Number(t.rail?t.railWidth:t.width)),$=R(()=>_t(t.location,a.value)),N=te(()=>t.persistent),B=R(()=>!t.permanent&&(u.value||t.temporary)),E=R(()=>t.sticky&&!B.value&&$.value!=="bottom");ne(()=>t.expandOnHover&&t.rail!=null,()=>{W(L,j=>n("update:rail",!j))}),ne(()=>!t.disableResizeWatcher,()=>{W(B,j=>!t.permanent&&Rt(()=>c.value=!j))}),ne(()=>!t.disableRouteWatcher&&!!y,()=>{W(y.currentRoute,()=>B.value&&(c.value=!1))}),W(()=>t.permanent,j=>{j&&(c.value=!0)}),t.modelValue==null&&!B.value&&(c.value=t.permanent||!u.value);const{isDragging:F,dragProgress:ge}=ka({el:V,isActive:c,isTemporary:B,width:C,touchless:te(()=>t.touchless),position:$}),tt=R(()=>{const j=B.value?0:t.rail&&t.expandOnHover?Number(t.railWidth):C.value;return F.value?j*ge.value:j}),{layoutItemStyles:ke,layoutItemScrimStyles:at}=Oe({id:t.name,order:R(()=>parseInt(t.order,10)),position:$,layoutSize:tt,elementSize:C,active:wt(c),disableTransitions:te(()=>F.value),absolute:R(()=>t.absolute||E.value&&typeof Ve.value!="string")}),{isStuck:Ve,stickyStyles:ot}=_a({rootEl:V,isSticky:E,layoutItemStyles:ke}),Ne=Ie(()=>typeof t.scrim=="string"?t.scrim:null),lt=R(()=>({...F.value?{opacity:ge.value*.2,transition:"none"}:void 0,...at.value}));return St({VList:{bgColor:"transparent"}}),we(()=>{const j=e.image||t.image;return b(H,null,[S(t.tag,Y({ref:V,onMouseenter:z,onMouseleave:A,class:["v-navigation-drawer",`v-navigation-drawer--${$.value}`,{"v-navigation-drawer--expand-on-hover":t.expandOnHover,"v-navigation-drawer--floating":t.floating,"v-navigation-drawer--is-hovering":L.value,"v-navigation-drawer--rail":t.rail,"v-navigation-drawer--temporary":B.value,"v-navigation-drawer--persistent":N.value,"v-navigation-drawer--active":c.value,"v-navigation-drawer--sticky":E.value},s.value,o.value,i.value,v.value,T.value,p.value,t.class],style:[d.value,ke.value,_.value,ot.value,t.style]},w,l),{default:()=>[j&&b("div",{key:"image",class:"v-navigation-drawer__img"},[e.image?S(Dt,{key:"image-defaults",disabled:!t.image,defaults:{VImg:{alt:"",cover:!0,height:"inherit",src:t.image}}},e.image):S(Se,{key:"image-img",alt:"",cover:!0,height:"inherit",src:t.image},null)]),e.prepend&&b("div",{class:"v-navigation-drawer__prepend"},[e.prepend?.()]),b("div",{class:"v-navigation-drawer__content"},[e.default?.()]),e.append&&b("div",{class:"v-navigation-drawer__append"},[e.append?.()])]}),S(Bt,{name:"fade-transition"},{default:()=>[B.value&&(F.value||c.value)&&!!t.scrim&&b("div",Y({class:["v-navigation-drawer__scrim",Ne.backgroundColorClasses.value],style:[lt.value,Ne.backgroundColorStyles.value],onClick:()=>{N.value||(c.value=!1)}},w),null)]})])}),{isStuck:Ve}}});function Ia(t,r){return t.length<=r?t:t.substring(0,r-3)+"..."}const Ba={class:"loading-screen"},Ra={class:"loading-screen-info"},Da=P({__name:"TabLoadingScreen",setup(t){const{t:r}=U();return(l,n)=>(g(),D("div",Ba,[b("div",Ra,[S(Ae,{size:48}),b("span",null,f(h(r)("tab.placeholder.loading")),1)])]))}}),$a=G(Da,[["__scopeId","data-v-b23d11da"]]),Ea=P({__name:"TabWindow",props:{id:{},component:{},componentProps:{}},setup(t){const r=oe(),l=t,n=x(!1),e=x();W(e,()=>{i()});function a(){n.value=!0,i()}function s(o){r.replaceTabData(l.id,o),i()}function i(){if(n.value&&e.value!=null&&e.value.path!=null){const o=e.value.path();o!=null&&r.subjectPathStatus.definePath(l.id,o)}}return(o,d)=>(g(),D(H,null,[(g(),k(Mt,null,[$t((g(),k(Pt(o.component),Y({ref_key:"componentInstance",ref:e},o.componentProps,{onReady:a,"onUpdate:data":s}),null,16)),[[Et,n.value]])],1024)),n.value?M("",!0):(g(),k($a,{key:0}))],64))}}),Xe="/lab/logo/evitalab-logo-representative.svg",Pa={class:"editor-welcome-screen"},Ma={class:"editor-welcome-screen-hero"},La={class:"editor-welcome-screen-hero__header"},Aa={class:"editor-welcome-screen-hero__title"},Ua={class:"font-weight-bold mb-2",style:{"font-size":"4.375rem"}},Wa={class:"text-white",style:{"font-size":"1rem"}},Ha={class:"text-primary-lightest text-body-2",href:"https://github.com/FgForrest/evitalab/releases",target:"_blank"},za={class:"text-gray-light",style:{"font-size":"1rem"}},ja={class:"editor-welcome-screen-blog"},Fa=["href"],qa={class:"editor-welcome-screen-blog-img__wrap"},Oa=["src","alt"],Ya={class:"editor-welcome-screen-blog-item__title"},Ga={class:"editor-welcome-screen-blog-item__perex"},Xa={class:"editor-welcome-screen-blog-item__btn"},Ka={class:"editor-welcome-screen-hero__links"},Za={href:"https://evitadb.io/documentation",target:"_blank"},Ja={href:"https://github.com/FgForrest/evitalab/",target:"_blank"},Qa={href:"https://discord.gg/VsNBWxgmSw",target:"_blank"},eo={href:"https://github.com/FgForrest/evitalab/issues",target:"_blank"},to=P({__name:"StandaloneWelcomeContent",props:{version:{}},setup(t){const r=Lt(),{t:l}=U(),n=x([]);return r.getBlogPosts().then(e=>{n.value=e}),(e,a)=>{const s=Q("I18nT");return g(),D("div",Pa,[b("div",Ma,[b("header",La,[S(Se,{width:"240",height:"240","max-width":"240","max-height":"240",alt:"evitaLab Logo",src:Xe,class:"evitalab-logo"}),b("div",Aa,[b("h1",Ua,f(h(l)("app.name")),1),b("p",Wa,[I(f(e.version)+" ",1),b("a",Ha,"("+f(h(l)("welcomeScreen.standalone.changelog"))+")",1)]),b("p",za,f(h(l)("welcomeScreen.standalone.description")),1)])]),b("div",ja,[(g(!0),D(H,null,J(n.value,i=>(g(),D("a",{key:i.url,href:i.url,target:"_blank"},[b("span",qa,[b("img",{class:"Blog_BlogMotive__72hVr",height:"160",width:"480",src:i.thumbnailUrl,alt:h(l)("welcomeScreen.standalone.blog.thumbnail.alt",{title:i.title})},null,8,Oa)]),b("span",Ya,f(i.title),1),b("span",Ga,[S(At,{source:i.perex},null,8,["source"])]),b("span",Xa,f(h(l)("welcomeScreen.standalone.blog.button.read")),1)],8,Fa))),128))]),a[0]||(a[0]=b("span",{class:"editor-welcome-screen-hr"},"Â ",-1)),b("ul",Ka,[S(s,{keypath:"welcomeScreen.standalone.link.evitaDBDocumentation.text",tag:"li"},{link:m(()=>[b("a",Za,f(h(l)("welcomeScreen.standalone.link.evitaDBDocumentation.link")),1)]),_:1}),S(s,{keypath:"welcomeScreen.standalone.link.evitaLabGitHub.text",tag:"li"},{link:m(()=>[b("a",Ja,f(h(l)("welcomeScreen.standalone.link.evitaLabGitHub.link")),1)]),_:1}),S(s,{keypath:"welcomeScreen.standalone.link.discord.text",tag:"li"},{link:m(()=>[b("a",Qa,f(h(l)("welcomeScreen.standalone.link.discord.link")),1)]),_:1}),b("li",null,[b("a",eo,f(h(l)("welcomeScreen.standalone.link.submitIssue")),1)])])])])}}}),ao=G(to,[["__scopeId","data-v-2555c168"]]),oo={class:"editor-welcome-screen"},lo={class:"editor-welcome-screen-hero"},no={class:"editor-welcome-screen-hero__header"},so={class:"editor-welcome-screen-hero__title"},io={class:"font-weight-light mb-2",style:{"font-size":"2rem"}},ro={class:"font-weight-bold"},co={class:"text-white",style:{"font-size":"1rem"}},uo={class:"text-primary-lightest text-body-2",href:"https://github.com/FgForrest/evitalab/releases",target:"_blank"},mo=P({__name:"DriverWelcomeContent",props:{version:{}},setup(t){const r=Ue(),{t:l}=U(),n=R(()=>r.getConnection().name),e=localStorage.getItem("test");return(a,s)=>(g(),D("div",oo,[b("div",lo,[b("header",no,[S(Se,{width:"60",height:"60","max-width":"60","max-height":"60",alt:"evitaLab Logo",src:Xe,class:"evitalab-logo"}),b("div",so,[I(f(h(e))+" ",1),b("h1",io,[s[0]||(s[0]=I(" Connected to: ")),b("span",ro,f(n.value),1)]),b("p",co,[I(f(h(l)("welcomeScreen.driver.description"))+" "+f(a.version)+" ",1),b("a",uo,"("+f(h(l)("welcomeScreen.driver.changelog"))+")",1)])])])])]))}}),vo=G(mo,[["__scopeId","data-v-825f264b"]]),go=P({__name:"WelcomeScreen",setup(t){const r=We(),l=R(()=>{const n="v2025.5.2";return n.length===0?"?":n.substring(1)});return(n,e)=>h(r).runMode===h(Be).Standalone?(g(),k(ao,{key:0,version:l.value},null,8,["version"])):h(r).runMode===h(Be).Driver?(g(),k(vo,{key:1,version:l.value},null,8,["version"])):M("",!0)}}),po=P({__name:"TabSharedTroubleshooterDialog",props:{modelValue:{type:Boolean},originalConnectionName:{default:void 0},troubleshooterCallback:{type:Function,default:void 0}},emits:["resolve","reject"],setup(t,{emit:r}){const l=Ue(),n=q(),{t:e}=U(),a=t,s=r,i=x([]),o=x(!1),d=x(void 0),T=x(!1),v=R(()=>d.value!=null&&d.value.trim().length>0);W(()=>a.modelValue,y=>{if(y){const c=l.getConnection();i.value=[c],o.value=!0,d.value=c.id,T.value=a.originalConnectionName!=null&&a.originalConnectionName.trim().length>0&&a.originalConnectionName.trim().toLowerCase()===c.name.trim().toLowerCase()}});function u(){s("reject"),i.value=[],o.value=!1,d.value=void 0}async function p(){if(a.troubleshooterCallback==null)throw new Error("Cannot accept shared tab without troubleshooter callback.");try{const y=await a.troubleshooterCallback(d.value);return s("resolve",y),!0}catch(y){return await n.error("Could not resolve shared tab",y),!1}}return(y,c)=>(g(),k(K,{"model-value":y.modelValue,changed:v.value,"confirm-button-icon":"mdi-check",confirm:p,reset:u},{activator:m(({props:_})=>[pe(y.$slots,"activator",Ut(Wt({props:_})))]),title:m(()=>[I(f(h(e)("tabShare.sharedTroubleshooterDialog.title")),1)]),"prepend-form":m(()=>[S(me,{type:"warning",icon:"mdi-alert-outline"},{default:m(()=>[I(f(h(e)("tabShare.sharedTroubleshooterDialog.info")),1)]),_:1})]),default:m(()=>[S(He,{modelValue:d.value,"onUpdate:modelValue":c[0]||(c[0]=_=>d.value=_),label:h(e)("tabShare.sharedTroubleshooterDialog.form.newConnectionId.label"),hint:T.value?h(e)("tabShare.sharedTroubleshooterDialog.form.newConnectionId.hint.connectionMatchedByName"):h(e)("tabShare.sharedTroubleshooterDialog.form.newConnectionId.hint.connectionNotMatchedByName"),items:i.value,"item-title":"name","item-value":"id",required:"",disabled:""},null,8,["modelValue","label","hint","items"])]),"confirm-button-body":m(()=>[I(f(h(e)("common.button.accept")),1)]),_:3},8,["model-value","changed"]))}}),fo=["innerHTML"],ho=["innerHTML"],yo=["innerHTML"],bo=P({__name:"TabSharedDialog",props:{modelValue:{type:Boolean}},emits:["update:modelValue"],setup(t,{emit:r}){const l=oe(),n=Ht(),e=q(),{t:a}=U(),s=t,i=r;W(()=>s.modelValue,w=>{if(w){const L=new URLSearchParams(document.location.search).get("sharedTab");L!=null&&(o.value=qt.fromLinkParam(L))}});const o=x(void 0),d=R(()=>o.value==null?!1:o.value.tabData!=null),T=x(!1),v=x(void 0),u=x(void 0);async function p(){if(o.value!=null)try{const w=await n.resolve(o.value);l.createTab(w),_()}catch(w){w instanceof Ft?(T.value=!0,v.value=w.originalConnectionName,u.value=w.troubleshooterCallback):await e.error("Could not resolve shared tab",w)}}function y(w){l.createTab(w),_()}function c(){T.value=!1}function _(){i("update:modelValue",!1)}return(w,V)=>(g(),D(H,null,[S(zt,{"model-value":w.modelValue,persistent:"","max-width":"36rem"},{title:m(()=>[I(f(h(a)("tabShare.sharedDialog.title")),1)]),default:m(()=>[d.value?(g(),D("span",{key:0,innerHTML:h(a)("tabShare.sharedDialog.text.withoutInitialData")},null,8,fo)):(g(),D("span",{key:1,innerHTML:h(a)("tabShare.sharedDialog.text.withInitialData")},null,8,ho)),d.value?(g(),k(me,{key:2,icon:"mdi-alert-outline",type:"warning",class:"mt-4"},{default:m(()=>[b("span",{innerHTML:h(a)("tabShare.sharedDialog.warning.potentiallyUnsafe")},null,8,yo)]),_:1})):M("",!0)]),"confirm-button":m(()=>[S(jt,{icon:"mdi-check",onConfirm:p},{default:m(()=>[I(f(h(a)("common.button.accept")),1)]),_:1})]),_:1},8,["model-value"]),S(po,{"model-value":T.value,"original-connection-name":v.value,"troubleshooter-callback":u.value,onResolve:y,onReject:c},null,8,["model-value","original-connection-name","troubleshooter-callback"])],64))}}),_o={key:1,style:{position:"relative"}},wo=P({__name:"WorkspaceTabWindowList",setup(t){const r=We(),l=q(),n=Ot(),{t:e}=U(),a=oe(),s=Yt(),i=x(!1),o=x(a.getTabDefinitions());W(o,()=>{const c=a.getTheNewTab();c&&(d.value=c.id,a.markTabAsVisited(c.id))},{deep:!0});const d=x();W(d,(c,_)=>{c!=null?(n.setContext(c),a.subjectPathStatus.activatePath(c)):_!=null&&(n.resetActivatedContext(),a.subjectPathStatus.deactivatePath())});function T(c){if(d.value==null)return;let w=a.getTabIndex(d.value)+c;w<0?w=o.value.length-1:w>=o.value.length&&(w=0),d.value=o.value[w].id}function v(c){const _=o.value.length,w=o.value.findIndex(L=>L.id===d.value),V=o.value.findIndex(L=>L.id===c);a.destroyTab(c),n.deleteContext(c),a.subjectPathStatus.deletePath(c),o.value.length===0?d.value=null:V===w&&V===_-1?d.value=o.value[V-1].id:V===w&&V<_-1&&(d.value=o.value[V].id)}async function u(c){const _=c.get("demoSnippetRequest");if(_!=null)try{return await s.resolve(_)}catch(w){await l.error("Could not resolve demo code snippet",w)}}async function p(c){return c.get("sharedTab")!=null}function y(){try{let c=!1;a.restoreTabsFromLastSession()&&(c=!0),a.restoreTabHistory()&&(c=!0),c&&l.info("Your last session has been restored.").then()}catch(c){console.error(c),l.warning("Failed to fully restore your last session.").then()}}if(r.playgroundMode){const c=new URLSearchParams(document.location.search);u(c).then(_=>(_!=null&&a.createTab(_),p(c))).then(_=>{_&&(i.value=!0)})}else y();return de(()=>{n.bindGlobal(X.System_Editor_PreviousTab,()=>T(-1)),n.bindGlobal(X.System_Editor_NextTab,()=>T(1)),n.bindGlobal(X.System_Editor_CloseTab,()=>{d.value!=null&&v(d.value)}),n.bindGlobal(X.System_Editor_CloseAllTabs,()=>a.destroyAllTabs())}),ze(()=>{n.unbindGlobal(X.System_Editor_PreviousTab),n.unbindGlobal(X.System_Editor_NextTab),n.unbindGlobal(X.System_Editor_CloseTab),n.unbindGlobal(X.System_Editor_CloseAllTabs)}),(c,_)=>(g(),D(H,null,[o.value.length>0?(g(),k(Ge,{key:0,density:"compact",elevation:"0"},{default:m(()=>[S(Gt,{modelValue:d.value,"onUpdate:modelValue":_[0]||(_[0]=w=>d.value=w)},{default:m(()=>[(g(!0),D(H,null,J(o.value,w=>(g(),k(Kt,{key:w.id,value:w.id,"prepend-icon":w.icon,onMousedown:fe(V=>v(w.id),["middle"]),class:"lab-tab"},{default:m(()=>[b("span",null,[I(f(h(Ia)(w.title,30))+" ",1),w.title.length>30?(g(),k(se,{key:0,activator:"parent"},{default:m(()=>[I(f(w.title),1)]),_:2},1024)):M("",!0)]),S(Zt,{icon:"",variant:"plain",density:"compact",class:"ml-3",onClick:fe(V=>v(w.id),["stop"])},{default:m(()=>[S(Z,null,{default:m(()=>_[3]||(_[3]=[I("mdi-close")])),_:1,__:[3]}),S(Jt,{command:h(X).System_Editor_CloseTab},{default:m(()=>[I(f(h(e)("tab.button.closeTab")),1)]),_:1},8,["command"])]),_:2},1032,["onClick"])]),_:2},1032,["value","prepend-icon","onMousedown"]))),128))]),_:1},8,["modelValue"])]),_:1})):M("",!0),S(ba,{scrollable:!1,class:"lab-editor"},{default:m(()=>[o.value.length>0?(g(),k(Xt,{key:0,modelValue:d.value,"onUpdate:modelValue":_[1]||(_[1]=w=>d.value=w)},{default:m(()=>[(g(!0),D(H,null,J(o.value,w=>(g(),k(Qt,{key:w.id,value:w.id,transition:!1,"reverse-transition":!1,class:"window-item"},{default:m(()=>[S(Ea,{id:w.id,component:w.component,"component-props":w.componentProps()},null,8,["id","component","component-props"])]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])):(g(),D("div",_o,[S(go)]))]),_:1}),S(bo,{modelValue:i.value,"onUpdate:modelValue":_[2]||(_[2]=w=>i.value=w)},null,8,["modelValue"])],64))}}),rl=G(wo,[["__scopeId","data-v-a534ed3b"]]),So={key:0,class:"editor-status"},To=P({__name:"EditorStatus",props:{status:{}},setup(t){const{t:r}=U(),l=t,n=R(()=>l.status.activatedEditorInfo),e=R(()=>{if(n.value!=null&&n.value.selections.size==1)return n.value.selections.get(0)});return(a,s)=>n.value?(g(),D("div",So,[S(se,null,{activator:m(({props:i})=>[b("span",Y({class:"text-no-wrap"},i),[n.value.selections.size!=1?(g(),D(H,{key:0},[I(f(h(r)("common.statusBar.activeEditorStatus.selections.value.multipleSelections",{count:n.value.selections.size})),1)],64)):(g(),D(H,{key:1},[I(f(h(r)("common.statusBar.activeEditorStatus.selections.value.singleSelection.cursorPosition",{line:e.value.line,column:e.value.column}))+" ",1),e.value.selectedCharacterCount>0?(g(),D(H,{key:0},[I(" ("+f(h(r)("common.statusBar.activeEditorStatus.selections.value.singleSelection.selectionRange",{charsCount:e.value.selectedCharacterCount})),1),e.value.lineBreaks>0?(g(),D(H,{key:0},[I(", "+f(h(r)("common.statusBar.activeEditorStatus.selections.value.singleSelection.lineBreaks",{lineBreaks:e.value.lineBreaks})),1)],64)):M("",!0),s[0]||(s[0]=I(") "))],64)):M("",!0)],64))],16)]),default:m(()=>[I(f(h(r)("common.statusBar.activeEditorStatus.selections.label")),1)]),_:1}),S(se,null,{activator:m(({props:i})=>[b("span",Y({class:"text-no-wrap"},i),f(h(r)("common.statusBar.activeEditorStatus.tabSize.value",{tabSize:n.value.tabSize})),17)]),default:m(()=>[I(f(h(r)("common.statusBar.activeEditorStatus.tabSize.label")),1)]),_:1}),S(se,null,{activator:m(({props:i})=>[b("span",Y({class:"text-no-wrap"},i),f(n.value.language),17)]),default:m(()=>[I(f(h(r)("common.statusBar.activeEditorStatus.language.label")),1)]),_:1})])):M("",!0)}}),Co=G(To,[["__scopeId","data-v-ab91fc98"]]),ko=P({__name:"SubjectPathStatusItem",props:{item:{}},setup(t){const r=t;function l(){r.item.onClick!=null&&r.item.onClick()}return(n,e)=>(g(),D("div",{class:re(["subject-path-status-item",{"subject-path-status-item--clickable":n.item.onClick!=null}]),onClick:l},[n.item.icon?(g(),k(Z,{key:0,icon:n.item.icon,size:"12"},null,8,["icon"])):M("",!0),b("span",null,f(n.item.value),1)],2))}}),Vo=G(ko,[["__scopeId","data-v-fd5155de"]]),No={};function xo(t,r){return g(),k(Z,{icon:"mdi-chevron-right",size:"12",class:"text-disabled subject-path-status-item-delimiter"})}const Io=G(No,[["render",xo],["__scopeId","data-v-a85df1cb"]]),Bo={key:0,class:"subject-path-status"},Ro=P({__name:"SubjectPathStatus",props:{status:{}},setup(t){const r=t,l=R(()=>r.status.activatedPath);return(n,e)=>l.value?(g(),D("div",Bo,[(g(!0),D(H,null,J(l.value.items,(a,s)=>(g(),D(H,{key:s},[S(Vo,{item:a},null,8,["item"]),s+1<l.value.items.size?(g(),k(Io,{key:0})):M("",!0)],64))),128))])):M("",!0)}}),Do=G(Ro,[["__scopeId","data-v-91b66f15"]]),$o={class:"left-content"},Eo={class:"right-content"},Po=P({__name:"WorkspaceStatusBar",setup(t){const r=oe(),l=R(()=>r.subjectPathStatus),n=R(()=>r.editorStatus);return(e,a)=>(g(),k(Ge,{height:"28",location:"bottom",flat:"",class:"bg-primary-dark status-bar"},{default:m(()=>[b("div",$o,[S(Do,{status:l.value},null,8,["status"])]),b("div",Eo,[S(Co,{status:n.value},null,8,["status"])])]),_:1}))}}),cl=G(Po,[["__scopeId","data-v-18101a46"]]),Mo=P({__name:"CreateCatalogDialog",props:{modelValue:{type:Boolean}},emits:["update:modelValue"],setup(t,{emit:r}){const l=le(),n=q(),{t:e}=U(),a=r,s=[v=>v!=null&&v.trim().length>0?!0:e("explorer.catalog.create.form.catalogName.validations.required"),async v=>{const u=await l.isCatalogNameValid(v);return u==null?!0:e(`explorer.catalog.create.form.catalogName.validations.${u}`)},async v=>await l.isCatalogNameAvailable(v)?!0:e("explorer.catalog.create.form.catalogName.validations.notAvailable")],i=x(""),o=R(()=>i.value.length>0);function d(){i.value=""}async function T(){try{return await l.createCatalog(i.value),await n.success(e("explorer.catalog.create.notification.catalogCreated",{catalogName:i.value})),!0}catch(v){return await n.error(e("explorer.catalog.create.notification.couldNotCreateCatalog",{catalogName:i.value,reason:v.message})),!1}}return(v,u)=>(g(),k(K,{"model-value":v.modelValue,changed:o.value,"confirm-button-icon":"mdi-plus",confirm:T,reset:d,"onUpdate:modelValue":u[1]||(u[1]=p=>a("update:modelValue",p))},{title:m(()=>[I(f(h(e)("explorer.catalog.create.title")),1)]),default:m(()=>[S(ve,{modelValue:i.value,"onUpdate:modelValue":u[0]||(u[0]=p=>i.value=p),label:h(e)("explorer.catalog.create.form.catalogName.label"),rules:s,required:""},null,8,["modelValue","label"])]),"confirm-button-body":m(()=>[I(f(h(e)("common.button.create")),1)]),_:1},8,["model-value","changed"]))}});var ie=(t=>(t.Info="info",t.Warning="warning",t.Error="error",t))(ie||{});class ae{value;type;constructor(r,l){this.value=r,this.type=l}static info(r){return new ae(r,ie.Info)}static warning(r){return new ae(r,ie.Warning)}static error(r){return new ae(r,ie.Error)}}const Lo={class:"tree-view-item__content"},Ao={key:0,class:"tree-view-item__flags"},Uo={key:0,class:"tree-view-item__flags"},Wo=P({__name:"VTreeViewItem",props:{openable:{type:Boolean,default:!1},isOpen:{type:Boolean,default:!1},prependIcon:{},loading:{type:Boolean,default:!1},flags:{default:()=>[]},actions:{default:()=>[]}},emits:["click:action","click:actionMenu"],setup(t,{emit:r}){const l=t,n=x(!1),e=r;function a(){e("click:actionMenu"),l.actions&&l.actions.length>0&&(n.value=!0)}return(s,i)=>(g(),k(ce,{"prepend-icon":null,"append-icon":null,onContextmenu:fe(a,["prevent"])},{default:m(()=>[b("div",Lo,[s.openable?(g(),k(Z,{key:0},{default:m(()=>[I(f(s.isOpen?"mdi-chevron-up":"mdi-chevron-down"),1)]),_:1})):(g(),k(Z,{key:1})),s.loading?(g(),k(Ae,{key:2})):(g(),k(Z,{key:3},{default:m(()=>[I(f(s.prependIcon),1)]),_:1})),S(se,null,{activator:m(({props:o})=>[b("span",Y(o,{class:"tree-view-item__text text-truncate"}),[pe(s.$slots,"default",{},()=>[i[3]||(i[3]=b("span",{class:"text-disabled"}," No items found ",-1))],!0),s.flags.length>0?(g(),D("span",Ao,[(g(!0),D(H,null,J(s.flags,d=>(g(),D("span",{key:d.value,class:re(["tree-view-item__flag",`tree-view-item__flag--${d.type}`])},f(d.value),3))),128))])):M("",!0)],16)]),default:m(()=>[pe(s.$slots,"default",{},void 0,!0),s.flags.length>0?(g(),D("span",Uo,[(g(!0),D(H,null,J(s.flags,o=>(g(),D("span",{key:o.value,class:re(["tree-view-item__flag","tree-view-item__lg-flag",`tree-view-item__flag--${o.type}`])},f(o.value),3))),128))])):M("",!0)]),_:3}),s.actions&&s.actions.length>0?(g(),k(je,{key:4,"menu-items":s.actions,modelValue:n.value,"onUpdate:modelValue":i[2]||(i[2]=o=>n.value=o)},{activator:m(({props:o})=>[S(Z,Y(o,{class:"text-gray-light",onClick:i[0]||(i[0]=d=>e("click:actionMenu"))}),{default:m(()=>i[4]||(i[4]=[I(" mdi-dots-vertical ")])),_:2,__:[4]},1040)]),default:m(()=>[S(he,{density:"compact",items:s.actions,"onClick:select":i[1]||(i[1]=o=>s.$emit("click:action",o.id))},{item:m(({props:o})=>[S(ce,{"prepend-icon":o.prependIcon,value:o.value,disabled:o.disabled},{default:m(()=>[I(f(o.title),1)]),_:2},1032,["prepend-icon","value","disabled"])]),_:1},8,["items"])]),_:1},8,["menu-items","modelValue"])):M("",!0)])]),_:3}))}}),Ke=G(Wo,[["__scopeId","data-v-1de5328e"]]),Ho={class:"pl-8 text-disabled"},Ze=P({__name:"VTreeViewEmptyItem",setup(t){const{t:r}=U();return(l,n)=>(g(),k(ce,null,{default:m(()=>[b("span",Ho,f(h(r)("common.list.empty")),1)]),_:1}))}}),zo=P({__name:"DeleteCollectionDialog",props:{modelValue:{type:Boolean},catalogName:{},entityType:{}},emits:["update:modelValue"],setup(t,{emit:r}){const l=Te(),n=q(),{t:e}=U(),a=t,s=r;async function i(){try{return await l.deleteCollection(a.catalogName,a.entityType)?await n.success(e("explorer.collection.delete.notification.collectionDeleted",{entityType:a.entityType})):await n.info(e("explorer.collection.delete.notification.collectionNotDeleted",{entityType:a.entityType})),!0}catch(o){return await n.error(e("explorer.collection.delete.notification.couldNotDeleteCollection",{entityType:a.entityType,reason:o.message})),!1}}return(o,d)=>{const T=Q("I18nT");return g(),k(K,{"model-value":o.modelValue,dangerous:"",changed:"","confirm-button-icon":"mdi-delete-outline",confirm:i,"onUpdate:modelValue":d[0]||(d[0]=v=>s("update:modelValue",v))},{title:m(()=>[S(T,{keypath:"explorer.collection.delete.title"},{entityType:m(()=>[b("strong",null,f(o.entityType),1)]),_:1})]),"prepend-form":m(()=>[I(f(h(e)("explorer.collection.delete.question")),1)]),"confirm-button-body":m(()=>[I(f(h(e)("common.button.delete")),1)]),_:1},8,["model-value"])}}}),jo=P({__name:"RenameCollectionDialog",props:{modelValue:{type:Boolean},catalogName:{},entityType:{}},emits:["update:modelValue"],setup(t,{emit:r}){const l=Te(),n=q(),{t:e}=U(),a=t,s=r,i=[u=>u!=null&&u.trim().length>0?!0:e("explorer.collection.rename.form.newName.validations.required"),async u=>{const p=await l.isEntityTypeValid(u);return p==null?!0:e(`explorer.collection.rename.form.newName.validations.${p}`)},async u=>u===a.entityType||await l.isEntityTypeAvailable(a.catalogName,u)?!0:e("explorer.collection.rename.form.newName.validations.notAvailable")],o=x(a.entityType),d=R(()=>o.value!==a.entityType);function T(){o.value=a.entityType}async function v(){try{return await l.renameCollection(a.catalogName,a.entityType,o.value)?await n.success(e("explorer.collection.rename.notification.collectionRenamed",{entityType:a.entityType,newName:o.value})):await n.info(e("explorer.collection.rename.notification.collectionNotRenamed",{entityType:a.entityType})),!0}catch(u){return await n.error(e("explorer.collection.rename.notification.couldNotRenameCollection",{entityType:a.entityType,reason:u.message})),!1}}return(u,p)=>{const y=Q("I18nT");return g(),k(K,{"model-value":u.modelValue,changed:d.value,dangerous:"","confirm-button-icon":"mdi-pencil-outline",confirm:v,reset:T,"onUpdate:modelValue":p[1]||(p[1]=c=>s("update:modelValue",c))},{title:m(()=>[S(y,{keypath:"explorer.collection.rename.title"},{entityType:m(()=>[b("strong",null,f(u.entityType),1)]),_:1})]),default:m(()=>[S(ve,{modelValue:o.value,"onUpdate:modelValue":p[0]||(p[0]=c=>o.value=c),label:h(e)("explorer.collection.rename.form.newName.label"),rules:i,required:""},null,8,["modelValue","label"])]),"confirm-button-body":m(()=>[I(f(h(e)("common.button.rename")),1)]),_:1},8,["model-value","changed"])}}}),Je=Symbol("serverStatus");function Fo(t){qe(Je,t)}function Qe(){return Fe(Je)}const et=Symbol("catalog");function qo(t){qe(et,t)}function Oo(){return Fe(et)}const Yo={class:"tree-view-item-data__content"},Go=P({__name:"CollectionItem",props:{entityCollection:{}},setup(t){const r=oe(),l=ea(),n=ta(),e=t,a=Qe(),s=x(!1),i=x(!1),o=Oo(),d=x(),T=R(()=>d.value==null?[]:Array.from(d.value.values()));if(W([a,o,()=>e.entityCollection],async()=>d.value=await p(),{immediate:!0}),o.value==null)throw new aa("Catalog is not loaded yet, but collection item is already rendered!");function v(){r.createTab(l.createNew(o.value.name,e.entityCollection.entityType,void 0,!0))}function u(y){const c=d.value?.get(y);c instanceof Ce&&c.execute()}async function p(){return await n.createItems(a.value,o.value,e.entityCollection,()=>i.value=!0,()=>s.value=!0)}return(y,c)=>(g(),D("div",null,[S(Ke,{"prepend-icon":"mdi-list-box-outline",actions:T.value,onClick:v,"onClick:action":u,class:"text-gray-light"},{default:m(()=>[b("div",Yo,[b("span",null,f(y.entityCollection.entityType),1),S(oa,{size:"x-small",label:"",class:"chip ml-2",variant:"plain"},{default:m(()=>[I(f(h(la)(y.entityCollection.totalRecords,1)),1)]),_:1})])]),_:1},8,["actions"]),i.value?(g(),k(jo,{key:0,modelValue:i.value,"onUpdate:modelValue":c[0]||(c[0]=_=>i.value=_),"catalog-name":h(o).name,"entity-type":y.entityCollection.entityType},null,8,["modelValue","catalog-name","entity-type"])):M("",!0),s.value?(g(),k(zo,{key:1,modelValue:s.value,"onUpdate:modelValue":c[1]||(c[1]=_=>s.value=_),"catalog-name":h(o).name,"entity-type":y.entityCollection.entityType},null,8,["modelValue","catalog-name","entity-type"])):M("",!0)]))}}),Xo=G(Go,[["__scopeId","data-v-8fd15b5b"]]),Ko=P({__name:"RenameCatalogDialog",props:{modelValue:{type:Boolean},catalogName:{}},emits:["update:modelValue"],setup(t,{emit:r}){const l=le(),n=q(),{t:e}=U(),a=t,s=r,i=[u=>u!=null&&u.trim().length>0?!0:e("explorer.catalog.rename.form.newName.validations.required"),async u=>{const p=await l.isCatalogNameValid(u);return p==null?!0:e(`explorer.catalog.rename.form.newName.validations.${p}`)},async u=>u===a.catalogName||await l.isCatalogNameAvailable(u)?!0:e("explorer.catalog.rename.form.newName.validations.notAvailable")],o=x(a.catalogName),d=R(()=>a.catalogName!==o.value);function T(){o.value=a.catalogName}async function v(){try{return await l.renameCatalog(a.catalogName,o.value)?await n.success(e("explorer.catalog.rename.notification.catalogRenamed",{catalogName:a.catalogName,newName:o.value})):await n.info(e("explorer.catalog.rename.notification.catalogNotRenamed",{catalogName:a.catalogName})),!0}catch(u){return await n.error(e("explorer.catalog.rename.notification.couldNotRenameCatalog",{catalogName:a.catalogName,reason:u.message})),!1}}return(u,p)=>{const y=Q("I18nT");return g(),k(K,{"model-value":u.modelValue,changed:d.value,dangerous:"","confirm-button-icon":"mdi-pencil-outline",confirm:v,reset:T,"onUpdate:modelValue":p[1]||(p[1]=c=>s("update:modelValue",c))},{title:m(()=>[S(y,{keypath:"explorer.catalog.rename.title"},{catalogName:m(()=>[b("strong",null,f(u.catalogName),1)]),_:1})]),default:m(()=>[S(ve,{modelValue:o.value,"onUpdate:modelValue":p[0]||(p[0]=c=>o.value=c),label:h(e)("explorer.catalog.rename.form.newName.label"),rules:i,required:""},null,8,["modelValue","label"])]),"confirm-button-body":m(()=>[I(f(h(e)("common.button.rename")),1)]),_:1},8,["model-value","changed"])}}}),Zo=P({__name:"DeleteCatalogDialog",props:{modelValue:{type:Boolean},catalogName:{}},emits:["update:modelValue"],setup(t,{emit:r}){const l=le(),n=q(),{t:e}=U(),a=t,s=r;async function i(){try{return await l.deleteCatalog(a.catalogName)?await n.success(e("explorer.catalog.delete.notification.catalogDeleted",{catalogName:a.catalogName})):await n.info(e("explorer.catalog.delete.notification.catalogNotDeleted",{catalogName:a.catalogName})),!0}catch(o){return await n.error(e("explorer.catalog.delete.notification.couldNotDeleteCatalog",{catalogName:a.catalogName,reason:o.message})),!1}}return(o,d)=>{const T=Q("I18nT");return g(),k(K,{"model-value":o.modelValue,dangerous:"",changed:"","confirm-button-icon":"mdi-delete-outline",confirm:i,"onUpdate:modelValue":d[0]||(d[0]=v=>s("update:modelValue",v))},{title:m(()=>[S(T,{keypath:"explorer.catalog.delete.title"},{catalogName:m(()=>[b("strong",null,f(o.catalogName),1)]),_:1})]),"prepend-form":m(()=>[I(f(h(e)("explorer.catalog.delete.question")),1)]),"confirm-button-body":m(()=>[I(f(h(e)("common.button.delete")),1)]),_:1},8,["model-value"])}}}),Jo=P({__name:"ReplaceCatalogDialog",props:{modelValue:{type:Boolean},catalogName:{}},emits:["update:modelValue"],setup(t,{emit:r}){const l=le(),n=q(),{t:e}=U(),a=t,s=r,i=[c=>c!=null&&c.trim().length>0?!0:e("explorer.catalog.replace.form.catalogNameToBeReplacedWith.validations.required"),async c=>c===a.catalogName||await l.isCatalogExists(c)?!0:e("explorer.catalog.replace.form.catalogNameToBeReplacedWith.validations.notExists")],o=x(),d=R(()=>o.value==null?[]:o.value.map(c=>c.name)),T=x(!1),v=x(),u=R(()=>v.value!=null&&v.value.length>0);l.getCatalogs().then(c=>{o.value=c.filter(_=>_.name!==a.catalogName).toArray(),T.value=!0});function p(){o.value=[],T.value=!1,v.value=""}async function y(){try{return await l.replaceCatalog(v.value,a.catalogName)?await n.success(e("explorer.catalog.replace.notification.catalogReplaced",{catalogNameToBeReplaced:a.catalogName,catalogNameToBeReplacedWith:v.value})):await n.info(e("explorer.catalog.replace.notification.catalogNotReplaced",{catalogNameToBeReplaced:a.catalogName})),!0}catch(c){return await n.error(e("explorer.catalog.replace.notification.couldNotReplaceCatalog",{catalogNameToBeReplaced:a.catalogName,reason:c.message})),!1}}return(c,_)=>{const w=Q("I18nT");return g(),k(K,{"model-value":c.modelValue,dangerous:"",changed:u.value,"confirm-button-icon":"mdi-file-replace-outline",confirm:y,reset:p,"onUpdate:modelValue":_[1]||(_[1]=V=>s("update:modelValue",V))},{title:m(()=>[S(w,{keypath:"explorer.catalog.replace.title"},{catalogNameToBeReplaced:m(()=>[b("strong",null,f(c.catalogName),1)]),_:1})]),default:m(()=>[S(He,{modelValue:v.value,"onUpdate:modelValue":_[0]||(_[0]=V=>v.value=V),label:h(e)("explorer.catalog.replace.form.catalogNameToBeReplacedWith.label"),items:d.value,rules:i},null,8,["modelValue","label","items"])]),"append-form":m(()=>[S(me,{icon:"mdi-information-outline",type:"info"},{default:m(()=>[S(w,{keypath:"explorer.catalog.replace.info"},na({catalogNameToBeReplaced:m(()=>[b("strong",null,f(c.catalogName),1)]),_:2},[u.value?{name:"catalogNameToBeReplacedWith",fn:m(()=>[b("strong",null,f(v.value),1)]),key:"0"}:{name:"catalogNameToBeReplacedWith",fn:m(()=>[_[2]||(_[2]=b("strong",null,"?",-1))]),key:"1"}]),1024)]),_:1})]),"confirm-button-body":m(()=>[I(f(h(e)("common.button.replace")),1)]),_:1},8,["model-value","changed"])}}}),Qo=P({__name:"CreateCollectionDialog",props:{modelValue:{type:Boolean},catalogName:{}},emits:["update:modelValue"],setup(t,{emit:r}){const l=Te(),n=q(),{t:e}=U(),a=t,s=r,i=[u=>u!=null&&u.trim().length>0?!0:e("explorer.collection.create.form.entityType.validations.required"),async u=>{const p=await l.isEntityTypeValid(u);return p==null?!0:e(`explorer.collection.create.form.entityType.validations.${p}`)},async u=>await l.isEntityTypeAvailable(a.catalogName,u)?!0:e("explorer.collection.create.form.entityType.validations.notAvailable")],o=x(""),d=R(()=>o.value.length>0);function T(){o.value=""}async function v(){try{return await l.createCollection(a.catalogName,o.value),await n.success(e("explorer.collection.create.notification.collectionCreated",{entityType:o.value})),!0}catch(u){return await n.error(e("explorer.collection.create.notification.couldNotCreateCollection",{entityType:o.value,reason:u.message})),!1}}return(u,p)=>{const y=Q("I18nT");return g(),k(K,{"model-value":u.modelValue,changed:d.value,"confirm-button-icon":"mdi-plus",confirm:v,reset:T,"onUpdate:modelValue":p[1]||(p[1]=c=>s("update:modelValue",c))},{title:m(()=>[S(y,{keypath:"explorer.collection.create.title"},{catalogName:m(()=>[b("strong",null,f(u.catalogName),1)]),_:1})]),default:m(()=>[S(ve,{modelValue:o.value,"onUpdate:modelValue":p[0]||(p[0]=c=>o.value=c),label:h(e)("explorer.collection.create.form.entityType.label"),rules:i,required:""},null,8,["modelValue","label"])]),"confirm-button-body":m(()=>[I(f(h(e)("common.button.create")),1)]),_:1},8,["model-value","changed"])}}}),el=P({__name:"SwitchCatalogToAliveStateDialog",props:{modelValue:{type:Boolean},catalogName:{}},emits:["update:modelValue"],setup(t,{emit:r}){const l=le(),n=q(),{t:e}=U(),a=t,s=r;async function i(){try{return await l.switchCatalogToAliveState(a.catalogName)?await n.success(e("explorer.catalog.switchToAliveState.notification.catalogSwitched",{catalogName:a.catalogName})):await n.info(e("explorer.catalog.switchToAliveState.notification.catalogNotSwitched",{catalogName:a.catalogName})),!0}catch(o){return await n.error(e("explorer.catalog.switchToAliveState.notification.couldNotSwitchCatalog",{catalogName:a.catalogName,reason:o.message})),!1}}return(o,d)=>{const T=Q("I18nT");return g(),k(K,{"model-value":o.modelValue,dangerous:"",changed:"","confirm-button-icon":"mdi-toggle-switch-outline",confirm:i,"onUpdate:modelValue":d[0]||(d[0]=v=>s("update:modelValue",v))},{title:m(()=>[S(T,{keypath:"explorer.catalog.switchToAliveState.title"},{catalogName:m(()=>[b("strong",null,f(o.catalogName),1)]),_:1})]),"prepend-form":m(()=>[I(f(h(e)("explorer.catalog.switchToAliveState.description")),1)]),"append-form":m(()=>[S(me,{icon:"mdi-alert-outline",type:"warning"},{default:m(()=>[I(f(h(e)("explorer.catalog.switchToAliveState.warning")),1)]),_:1})]),"confirm-button-body":m(()=>[I(f(h(e)("common.button.switch")),1)]),_:1},8,["model-value"])}}}),tl={key:0},al=P({__name:"CatalogItem",props:{catalog:{}},setup(t){const r=le(),l=sa(),n=ia(),e=oe(),a=q(),{t:s}=U(),i=t,o=Qe(),d=x(!1),T=x(!1),v=x(!1),u=x(!1),p=x(!1),y=x(!1),c=R(()=>{const N=[];return i.catalog.corrupted&&N.push(ae.error(s("explorer.catalog.flag.corrupted"))),i.catalog.isInWarmup&&N.push(ae.warning(s("explorer.catalog.flag.warmingUp"))),N}),_=x();W([o,()=>i.catalog],async()=>_.value=await $(),{immediate:!0});const w=R(()=>_.value==null?[]:Array.from(_.value.values())),V=R(()=>ra(i.catalog.entityCollectionStatistics).sort((N,B)=>N.entityType.localeCompare(B.entityType))),L=x(i.catalog);qo(L);const z=x(!1);async function A(){try{await r.closeSharedSession(i.catalog.name),await a.success(s("explorer.catalog.notification.closedSharedSession",{catalogName:i.catalog.name}))}catch(N){await a.error(s("explorer.catalog.notification.couldNotCloseSharedSession",{catalogName:i.catalog.name,reason:N.message}))}}function C(N){const B=_.value?.get(N);B&&B instanceof Ce&&B.execute()}async function $(){return await l.createItems(o.value,i.catalog,()=>A().then(),()=>d.value=!0,()=>T.value=!0,()=>v.value=!0,()=>u.value=!0,()=>p.value=!0,()=>y.value=!0)}return(N,B)=>(g(),k(ca,{value:N.catalog.name},{activator:m(({isOpen:E,props:F})=>[S(Ke,Y(F,{openable:!N.catalog.corrupted,"is-open":E,"prepend-icon":"mdi-menu",loading:z.value,flags:c.value,actions:w.value,"onClick:action":C,class:"text-gray-light"}),{default:m(()=>[I(f(N.catalog.name),1)]),_:2},1040,["openable","is-open","loading","flags","actions"])]),default:m(()=>[N.catalog.corrupted?M("",!0):(g(),D("div",tl,[N.catalog.entityCollectionStatistics.size>0?(g(!0),D(H,{key:0},J(V.value,E=>(g(),k(Xo,{key:E.entityType,"entity-collection":E},null,8,["entity-collection"]))),128)):(g(),k(Ze,{key:1}))])),y.value?(g(),k(ua,{key:1,"model-value":y.value,catalog:N.catalog.name,onBackup:B[0]||(B[0]=()=>{y.value=!1,h(e).createTab(h(n).createNew())})},null,8,["model-value","catalog"])):M("",!0),d.value?(g(),k(Ko,{key:2,modelValue:d.value,"onUpdate:modelValue":B[1]||(B[1]=E=>d.value=E),"catalog-name":N.catalog.name},null,8,["modelValue","catalog-name"])):M("",!0),T.value?(g(),k(Jo,{key:3,modelValue:T.value,"onUpdate:modelValue":B[2]||(B[2]=E=>T.value=E),"catalog-name":N.catalog.name},null,8,["modelValue","catalog-name"])):M("",!0),v.value?(g(),k(el,{key:4,modelValue:v.value,"onUpdate:modelValue":B[3]||(B[3]=E=>v.value=E),"catalog-name":N.catalog.name},null,8,["modelValue","catalog-name"])):M("",!0),u.value?(g(),k(Zo,{key:5,modelValue:u.value,"onUpdate:modelValue":B[4]||(B[4]=E=>u.value=E),"catalog-name":N.catalog.name},null,8,["modelValue","catalog-name"])):M("",!0),p.value?(g(),k(Qo,{key:6,modelValue:p.value,"onUpdate:modelValue":B[5]||(B[5]=E=>p.value=E),"catalog-name":N.catalog.name},null,8,["modelValue","catalog-name"])):M("",!0)]),_:1},8,["value"]))}}),ol={class:"panel-header"},ll={class:"text-gray-light text-sm-body-2 font-weight-medium"},nl=P({__name:"ConnectionExplorerPanel",setup(t){const r=da(),l=ma(),n=q(),{t:e}=U();let a=!1;const s=x(!1),i=x(),o=r.registerServerStatusChangeCallback(async()=>{await _()});Fo(i);const d=x(),T=r.registerCatalogChangeCallback(async()=>{await w()}),v=x(!1),u=x();W(i,async()=>u.value=await V(),{immediate:!0});const p=x(!1),y=R(()=>u.value==null?[]:Array.from(u.value.values()));async function c(){a||(s.value=!0,a=await _().then(z=>z?w():!1),s.value=!1)}async function _(){try{return i.value=await r.getServerStatus(),!0}catch(z){return await n.error(e("explorer.connection.notification.couldNotLoadServerStatus",{reason:z.message})),!1}}async function w(){try{return d.value=await r.getCatalogs(),!0}catch(z){return await n.error(e("explorer.connection.notification.couldNotLoadCatalogs",{reason:z.message})),!1}}async function V(){return l.createItems(i.value,()=>v.value=!0,()=>s.value=!0,()=>s.value=!1)}function L(z){if(u.value==null)return;const A=u.value.get(z);A instanceof Ce&&A.execute()}return ze(()=>{r.unregisterServerStatusChangeCallback(o),r.unregisterCatalogChangeCallback(T)}),c().then(),(z,A)=>(g(),k(xa,{permanent:"",width:325,"onUpdate:modelValue":A[3]||(A[3]=C=>z.$emit("update:modelValue",C)),class:"bg-primary"},{default:m(()=>[S(he,{density:"compact",nav:""},{default:m(()=>[b("div",ol,[b("span",ll,f(h(e)("explorer.title")),1),S(je,{"menu-items":u.value,modelValue:p.value,"onUpdate:modelValue":A[1]||(A[1]=C=>p.value=C)},{activator:m(({props:C})=>[s.value?(g(),k(va,Y({key:0},C,{indeterminate:"",size:"16",class:"connection-loading"}),null,16)):(g(),k(Z,Y({key:1},C,{class:"text-gray-light"}),{default:m(()=>A[4]||(A[4]=[I(" mdi-dots-vertical ")])),_:2,__:[4]},1040))]),default:m(()=>[S(he,{density:"compact",items:y.value,"onClick:select":A[0]||(A[0]=C=>L(C.id))},{item:m(({props:C})=>[S(ce,{"prepend-icon":C.prependIcon,value:C.value,disabled:C.disabled},{default:m(()=>[I(f(C.title),1)]),_:2},1032,["prepend-icon","value","disabled"])]),_:1},8,["items"])]),_:1},8,["menu-items","modelValue"])]),d.value!=null&&d.value.size>0?(g(!0),D(H,{key:0},J(d.value,C=>(g(),k(al,{key:C.name,catalog:C},null,8,["catalog"]))),128)):(g(),k(Ze,{key:1})),v.value?(g(),k(Mo,{key:2,modelValue:v.value,"onUpdate:modelValue":A[2]||(A[2]=C=>v.value=C)},null,8,["modelValue"])):M("",!0)]),_:1})]),_:1}))}}),ul=G(nl,[["__scopeId","data-v-c743af6c"]]);export{ul as C,xa as V,cl as W,rl as a};
