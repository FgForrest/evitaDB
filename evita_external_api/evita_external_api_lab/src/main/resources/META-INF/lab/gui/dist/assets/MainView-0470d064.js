var Rt=Object.defineProperty;var At=(e,d,r)=>d in e?Rt(e,d,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[d]=r;var Ee=(e,d,r)=>(At(e,typeof d!="symbol"?d+"":d,r),r);import{p as fe,f as E,s as O,h as $,i as Bt,j as K,k as ve,l as Re,n as Nt,g as Ce,q as st,t as Mt,v as Ae,x as be,c as Ve,V as Ke,d as l,y as ee,z as Pt,m as Be,A as qt,B as Gt,C as Ht,D as rt,E as Ot,F as Wt,G as Ft,H as Qt,I as zt,a as Yt,u as Kt,b as jt,J as Xt,K as je,L as Zt,M as Jt,N as ea,O as ta,P as aa,Q as na,R as oa,S as la,T as ia,U as sa,W as Q,X as B,Y as Ne,Z as pe,$ as ra,a0 as ge,a1 as P,a2 as H,a3 as Me,o as w,e as T,w as o,a4 as ke,a5 as A,a6 as _,a7 as I,a8 as ca,a9 as p,aa as Pe,ab as W,ac as Se,ad as ct,ae as ce,_ as F,af as se,ag as ua,ah as ut,ai as k,aj as n,ak as M,al as re,am as qe,an as me,ao as dt,ap as mt,aq as vt,ar as Ue,as as pt,at as ft,au as j,av as oe,aw as Y,ax as X,ay as ue,az as ne,aA as da,aB as gt,aC as Te,aD as ma,aE as le,aF as $e,aG as Xe,aH as va,aI as _t,aJ as bt,aK as Ie,aL as pa,aM as xe,r as ht,aN as yt,aO as wt,aP as he,aQ as Ge,aR as He,aS as fa,aT as Le,aU as ga,aV as _a,aW as ba,aX as ha,aY as ya,aZ as wa,a_ as Ca,a$ as Va,b0 as ka,b1 as Sa,b2 as Ta,b3 as xa,b4 as Da,b5 as Ea,b6 as La,b7 as Ua}from"./index-4526b3cb.js";import{a as Ct,u as Vt,b as $a}from"./layout-c731f5cb.js";const Ia=fe({scrollTarget:{type:String},scrollThreshold:{type:[String,Number],default:300}},"scroll");function Ra(e){let d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{canScroll:r}=d;let i=0;const a=E(null),t=O(0),b=O(0),h=O(0),f=O(!1),v=O(!1),s=$(()=>Number(e.scrollThreshold)),m=$(()=>Bt((s.value-t.value)/s.value||0)),g=()=>{const V=a.value;!V||r&&!r.value||(i=t.value,t.value="window"in V?V.pageYOffset:V.scrollTop,v.value=t.value<i,h.value=Math.abs(t.value-s.value))};return K(v,()=>{b.value=b.value||t.value}),K(f,()=>{b.value=0}),ve(()=>{K(()=>e.scrollTarget,V=>{var U;const S=V?document.querySelector(V):window;S&&S!==a.value&&((U=a.value)==null||U.removeEventListener("scroll",g),a.value=S,a.value.addEventListener("scroll",g,{passive:!0}))},{immediate:!0})}),Re(()=>{var V;(V=a.value)==null||V.removeEventListener("scroll",g)}),r&&K(r,g,{immediate:!0}),{scrollThreshold:s,currentScroll:t,currentThreshold:h,isScrollActive:f,scrollRatio:m,isScrollingUp:v,savedScroll:b}}const Aa=fe({scrollBehavior:String,modelValue:{type:Boolean,default:!0},location:{type:String,default:"top",validator:e=>["top","bottom"].includes(e)},...Nt(),...Ct(),...Ia(),height:{type:[Number,String],default:64}},"VAppBar"),Ba=Ce()({name:"VAppBar",props:Aa(),emits:{"update:modelValue":e=>!0},setup(e,d){let{slots:r}=d;const i=E(),a=st(e,"modelValue"),t=$(()=>{var y;const D=new Set(((y=e.scrollBehavior)==null?void 0:y.split(" "))??[]);return{hide:D.has("hide"),inverted:D.has("inverted"),collapse:D.has("collapse"),elevate:D.has("elevate"),fadeImage:D.has("fade-image")}}),b=$(()=>{const D=t.value;return D.hide||D.inverted||D.collapse||D.elevate||D.fadeImage||!a.value}),{currentScroll:h,scrollThreshold:f,isScrollingUp:v,scrollRatio:s}=Ra(e,{canScroll:b}),m=$(()=>e.collapse||t.value.collapse&&(t.value.inverted?s.value>0:s.value===0)),g=$(()=>e.flat||t.value.elevate&&(t.value.inverted?h.value>0:h.value===0)),V=$(()=>t.value.fadeImage?t.value.inverted?1-s.value:s.value:void 0),S=$(()=>{var x,u;if(t.value.hide&&t.value.inverted)return 0;const D=((x=i.value)==null?void 0:x.contentHeight)??0,y=((u=i.value)==null?void 0:u.extensionHeight)??0;return D+y});Mt($(()=>!!e.scrollBehavior),()=>{Pt(()=>{t.value.hide?t.value.inverted?a.value=h.value>f.value:a.value=v.value||h.value<f.value:a.value=!0})});const{ssrBootStyles:U}=Ae(),{layoutItemStyles:N}=Vt({id:e.name,order:$(()=>parseInt(e.order,10)),position:be(e,"location"),layoutSize:S,elementSize:O(void 0),active:a,absolute:be(e,"absolute")});return Ve(()=>{const[D]=Ke.filterProps(e);return l(Ke,ee({ref:i,class:["v-app-bar",{"v-app-bar--bottom":e.location==="bottom"},e.class],style:[{...N.value,"--v-toolbar-image-opacity":V.value,height:void 0,...U.value},e.style]},D,{collapse:m.value,flat:g.value}),r)}),{}}}),Na=fe({...Be(),...qt()},"VForm"),Ma=Ce()({name:"VForm",props:Na(),emits:{"update:modelValue":e=>!0,submit:e=>!0},setup(e,d){let{slots:r,emit:i}=d;const a=Gt(e),t=E();function b(f){f.preventDefault(),a.reset()}function h(f){const v=f,s=a.validate();v.then=s.then.bind(s),v.catch=s.catch.bind(s),v.finally=s.finally.bind(s),i("submit",v),v.defaultPrevented||s.then(m=>{var V;let{valid:g}=m;g&&((V=t.value)==null||V.submit())}),v.preventDefault()}return Ve(()=>{var f;return l("form",{ref:t,class:["v-form",e.class],style:e.style,novalidate:!0,onReset:b,onSubmit:h},[(f=r.default)==null?void 0:f.call(r,a)])}),Ht(a,t)}});const Pa=fe({scrollable:Boolean,...Be(),...rt({tag:"main"})},"VMain"),qa=Ce()({name:"VMain",props:Pa(),setup(e,d){let{slots:r}=d;const{mainStyles:i}=$a(),{ssrBootStyles:a}=Ae();return Ve(()=>l(e.tag,{class:["v-main",{"v-main--scrollable":e.scrollable},e.class],style:[i.value,a.value,e.style]},{default:()=>{var t,b;return[e.scrollable?l("div",{class:"v-main__scroller"},[(t=r.default)==null?void 0:t.call(r)]):(b=r.default)==null?void 0:b.call(r)]}})),{}}});function Ga(e){let{rootEl:d,isSticky:r,layoutItemStyles:i}=e;const a=O(!1),t=O(0),b=$(()=>{const v=typeof a.value=="boolean"?"top":a.value;return[r.value?{top:"auto",bottom:"auto",height:void 0}:void 0,a.value?{[v]:Ot(t.value)}:{top:i.value.top}]});ve(()=>{K(r,v=>{v?window.addEventListener("scroll",f,{passive:!0}):window.removeEventListener("scroll",f)},{immediate:!0})}),Re(()=>{window.removeEventListener("scroll",f)});let h=0;function f(){const v=h>window.scrollY?"up":"down",s=d.value.getBoundingClientRect(),m=parseFloat(i.value.top??0),g=window.scrollY-Math.max(0,t.value-m),V=s.height+Math.max(t.value,m)-window.scrollY-window.innerHeight,S=parseFloat(getComputedStyle(d.value).getPropertyValue("--v-body-scroll-y"))||0;s.height<window.innerHeight-m?(a.value="top",t.value=m):v==="up"&&a.value==="bottom"||v==="down"&&a.value==="top"?(t.value=window.scrollY+s.top-S,a.value=!0):v==="down"&&V<=0?(t.value=0,a.value="bottom"):v==="up"&&g<=0&&(S?a.value!=="top"&&(t.value=-g+S+m,a.value="top"):(t.value=s.top+g,a.value="top")),h=window.scrollY}return{isStuck:a,stickyStyles:b}}const Ha=100,Oa=20;function Ze(e){const d=1.41421356237;return(e<0?-1:1)*Math.sqrt(Math.abs(e))*d}function Je(e){if(e.length<2)return 0;if(e.length===2)return e[1].t===e[0].t?0:(e[1].d-e[0].d)/(e[1].t-e[0].t);let d=0;for(let r=e.length-1;r>0;r--){if(e[r].t===e[r-1].t)continue;const i=Ze(d),a=(e[r].d-e[r-1].d)/(e[r].t-e[r-1].t);d+=(a-i)*Math.abs(a),r===e.length-1&&(d*=.5)}return Ze(d)*1e3}function Wa(){const e={};function d(a){Array.from(a.changedTouches).forEach(t=>{(e[t.identifier]??(e[t.identifier]=new Wt(Oa))).push([a.timeStamp,t])})}function r(a){Array.from(a.changedTouches).forEach(t=>{delete e[t.identifier]})}function i(a){var v;const t=(v=e[a])==null?void 0:v.values().reverse();if(!t)throw new Error(`No samples for touch id ${a}`);const b=t[0],h=[],f=[];for(const s of t){if(b[0]-s[0]>Ha)break;h.push({t:s[0],d:s[1].clientX}),f.push({t:s[0],d:s[1].clientY})}return{x:Je(h),y:Je(f),get direction(){const{x:s,y:m}=this,[g,V]=[Math.abs(s),Math.abs(m)];return g>V&&s>=0?"right":g>V&&s<=0?"left":V>g&&m>=0?"down":V>g&&m<=0?"up":Fa()}}}return{addMovement:d,endTouch:r,getVelocity:i}}function Fa(){throw new Error}function Qa(e){let{isActive:d,isTemporary:r,width:i,touchless:a,position:t}=e;ve(()=>{window.addEventListener("touchstart",D,{passive:!0}),window.addEventListener("touchmove",y,{passive:!1}),window.addEventListener("touchend",x,{passive:!0})}),Re(()=>{window.removeEventListener("touchstart",D),window.removeEventListener("touchmove",y),window.removeEventListener("touchend",x)});const b=$(()=>["left","right"].includes(t.value)),{addMovement:h,endTouch:f,getVelocity:v}=Wa();let s=!1;const m=O(!1),g=O(0),V=O(0);let S;function U(c,C){return(t.value==="left"?c:t.value==="right"?document.documentElement.clientWidth-c:t.value==="top"?c:t.value==="bottom"?document.documentElement.clientHeight-c:de())-(C?i.value:0)}function N(c){let C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const L=t.value==="left"?(c-V.value)/i.value:t.value==="right"?(document.documentElement.clientWidth-c-V.value)/i.value:t.value==="top"?(c-V.value)/i.value:t.value==="bottom"?(document.documentElement.clientHeight-c-V.value)/i.value:de();return C?Math.max(0,Math.min(1,L)):L}function D(c){if(a.value)return;const C=c.changedTouches[0].clientX,L=c.changedTouches[0].clientY,q=25,te=t.value==="left"?C<q:t.value==="right"?C>document.documentElement.clientWidth-q:t.value==="top"?L<q:t.value==="bottom"?L>document.documentElement.clientHeight-q:de(),ae=d.value&&(t.value==="left"?C<i.value:t.value==="right"?C>document.documentElement.clientWidth-i.value:t.value==="top"?L<i.value:t.value==="bottom"?L>document.documentElement.clientHeight-i.value:de());(te||ae||d.value&&r.value)&&(s=!0,S=[C,L],V.value=U(b.value?C:L,d.value),g.value=N(b.value?C:L),f(c),h(c))}function y(c){const C=c.changedTouches[0].clientX,L=c.changedTouches[0].clientY;if(s){if(!c.cancelable){s=!1;return}const te=Math.abs(C-S[0]),ae=Math.abs(L-S[1]);(b.value?te>ae&&te>3:ae>te&&ae>3)?(m.value=!0,s=!1):(b.value?ae:te)>3&&(s=!1)}if(!m.value)return;c.preventDefault(),h(c);const q=N(b.value?C:L,!1);g.value=Math.max(0,Math.min(1,q)),q>1?V.value=U(b.value?C:L,!0):q<0&&(V.value=U(b.value?C:L,!1))}function x(c){if(s=!1,!m.value)return;h(c),m.value=!1;const C=v(c.changedTouches[0].identifier),L=Math.abs(C.x),q=Math.abs(C.y);(b.value?L>q&&L>400:q>L&&q>3)?d.value=C.direction===({left:"right",right:"left",top:"down",bottom:"up"}[t.value]||de()):d.value=g.value>.5}const u=$(()=>m.value?{transform:t.value==="left"?`translateX(calc(-100% + ${g.value*i.value}px))`:t.value==="right"?`translateX(calc(100% - ${g.value*i.value}px))`:t.value==="top"?`translateY(calc(-100% + ${g.value*i.value}px))`:t.value==="bottom"?`translateY(calc(100% - ${g.value*i.value}px))`:de(),transition:"none"}:void 0);return{isDragging:m,dragProgress:g,dragStyles:u}}function de(){throw new Error}const za=["start","end","left","right","top","bottom"],Ya=fe({color:String,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,modelValue:{type:Boolean,default:null},permanent:Boolean,rail:{type:Boolean,default:null},railWidth:{type:[Number,String],default:56},scrim:{type:[Boolean,String],default:!0},image:String,temporary:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},location:{type:String,default:"start",validator:e=>za.includes(e)},sticky:Boolean,...Ft(),...Be(),...Qt(),...Ct(),...zt(),...rt({tag:"nav"}),...Yt()},"VNavigationDrawer"),kt=Ce()({name:"VNavigationDrawer",props:Ya(),emits:{"update:modelValue":e=>!0,"update:rail":e=>!0},setup(e,d){let{attrs:r,emit:i,slots:a}=d;const{isRtl:t}=Kt(),{themeClasses:b}=jt(e),{borderClasses:h}=Xt(e),{backgroundColorClasses:f,backgroundColorStyles:v}=je(be(e,"color")),{elevationClasses:s}=Zt(e),{mobile:m}=Jt(),{roundedClasses:g}=ea(e),V=ta(),S=st(e,"modelValue",null,z=>!!z),{ssrBootStyles:U}=Ae(),{scopeId:N}=aa(),D=E(),y=O(!1),x=$(()=>e.rail&&e.expandOnHover&&y.value?Number(e.width):Number(e.rail?e.railWidth:e.width)),u=$(()=>na(e.location,t.value)),c=$(()=>!e.permanent&&(m.value||e.temporary)),C=$(()=>e.sticky&&!c.value&&u.value!=="bottom");e.expandOnHover&&e.rail!=null&&K(y,z=>i("update:rail",!z)),e.disableResizeWatcher||K(c,z=>!e.permanent&&ia(()=>S.value=!z)),!e.disableRouteWatcher&&V&&K(V.currentRoute,()=>c.value&&(S.value=!1)),K(()=>e.permanent,z=>{z&&(S.value=!0)}),oa(()=>{e.modelValue!=null||c.value||(S.value=e.permanent||!m.value)});const{isDragging:L,dragProgress:q,dragStyles:te}=Qa({isActive:S,isTemporary:c,width:x,touchless:be(e,"touchless"),position:u}),ae=$(()=>{const z=c.value?0:e.rail&&e.expandOnHover?Number(e.railWidth):x.value;return L.value?z*q.value:z}),{layoutItemStyles:De,layoutItemScrimStyles:Et}=Vt({id:e.name,order:$(()=>parseInt(e.order,10)),position:u,layoutSize:ae,elementSize:x,active:$(()=>S.value||L.value),disableTransitions:$(()=>L.value),absolute:$(()=>e.absolute||C.value&&typeof Oe.value!="string")}),{isStuck:Oe,stickyStyles:Lt}=Ga({rootEl:D,isSticky:C,layoutItemStyles:De}),We=je($(()=>typeof e.scrim=="string"?e.scrim:null)),Ut=$(()=>({...L.value?{opacity:q.value*.2,transition:"none"}:void 0,...Et.value}));la({VList:{bgColor:"transparent"}});function $t(){y.value=!0}function It(){y.value=!1}return Ve(()=>{const z=a.image||e.image;return l(Q,null,[l(e.tag,ee({ref:D,onMouseenter:$t,onMouseleave:It,class:["v-navigation-drawer",`v-navigation-drawer--${u.value}`,{"v-navigation-drawer--expand-on-hover":e.expandOnHover,"v-navigation-drawer--floating":e.floating,"v-navigation-drawer--is-hovering":y.value,"v-navigation-drawer--rail":e.rail,"v-navigation-drawer--temporary":c.value,"v-navigation-drawer--active":S.value,"v-navigation-drawer--sticky":C.value},b.value,f.value,h.value,s.value,g.value,e.class],style:[v.value,De.value,te.value,U.value,Lt.value,e.style]},N,r),{default:()=>{var Fe,Qe,ze,Ye;return[z&&l("div",{key:"image",class:"v-navigation-drawer__img"},[a.image?(Fe=a.image)==null?void 0:Fe.call(a,{image:e.image}):l("img",{src:e.image,alt:""},null)]),a.prepend&&l("div",{class:"v-navigation-drawer__prepend"},[(Qe=a.prepend)==null?void 0:Qe.call(a)]),l("div",{class:"v-navigation-drawer__content"},[(ze=a.default)==null?void 0:ze.call(a)]),a.append&&l("div",{class:"v-navigation-drawer__append"},[(Ye=a.append)==null?void 0:Ye.call(a)])]}}),l(sa,{name:"fade-transition"},{default:()=>[c.value&&(L.value||S.value)&&!!e.scrim&&l("div",ee({class:["v-navigation-drawer__scrim",We.backgroundColorClasses.value],style:[Ut.value,We.backgroundColorStyles.value],onClick:()=>S.value=!1},N),null)]})])}),{isStuck:Oe}}});var ie=(e=>(e.Explorer="explorer",e))(ie||{});const Ka="/lab/logo/evitalab-logo-mini.png?raw=true",ja="/lab/documentation.svg",Xa="/lab/discord.svg";var R=(e=>(e.Keymap="keymap",e.EvitaLabGithub="evitaLabGithub",e.DiscussEvitaLab="discussEvitaLab",e.ReportEvitaLabIssue="reportEvitaLabIssue",e.EvitaDBDocumentation="evitaDBDocumentation",e.EvitaDBGithub="evitaDBGithub",e.DiscussEvitaDB="discussEvitaDB",e.ReportEvitaDBIssue="reportEvitaDBIssue",e))(R||{});const Za=B({__name:"ManageMenu",setup(e){const d=Ne(),r=pe(),i=ra(),a=ge(),{t}=P(),b=[{type:"subheader",title:t("panel.manage.manage.title")},{title:t(`panel.manage.manage.item.${R.Keymap}`),value:R.Keymap,command:H.System_Keymap,props:{prependIcon:"mdi-keyboard-outline"}},{type:"subheader",title:t("panel.manage.evitaLabHelp.title")},{title:t(`panel.manage.evitaLabHelp.item.${R.EvitaLabGithub}`),value:R.EvitaLabGithub,props:{prependIcon:"mdi-github"}},{title:t(`panel.manage.evitaLabHelp.item.${R.DiscussEvitaLab}`),value:R.DiscussEvitaLab,props:{prependIcon:"mdi-forum-outline"}},{title:t(`panel.manage.evitaLabHelp.item.${R.ReportEvitaLabIssue}`),value:R.ReportEvitaLabIssue,props:{prependIcon:"mdi-bug"}},{type:"subheader",title:t("panel.manage.evitaDBHelp.title")},{title:t(`panel.manage.evitaDBHelp.item.${R.EvitaDBDocumentation}`),value:R.EvitaDBDocumentation,props:{prependIcon:"mdi-book-open-variant"}},{title:t(`panel.manage.evitaDBHelp.item.${R.EvitaDBGithub}`),value:R.EvitaDBGithub,props:{prependIcon:"mdi-github"}},{title:t(`panel.manage.evitaDBHelp.item.${R.DiscussEvitaDB}`),value:R.DiscussEvitaDB,props:{prependIcon:"mdi-forum-outline"}},{title:t(`panel.manage.evitaDBHelp.item.${R.ReportEvitaDBIssue}`),value:R.ReportEvitaDBIssue,props:{prependIcon:"mdi-bug"}}];function h(){r.createTab(i.createNew())}function f(v){if(v.length>0)switch(v[0]){case R.Keymap:h();break;case R.EvitaLabGithub:window.open("https://github.com/lukashornych/evitalab","_blank");break;case R.DiscussEvitaLab:window.open("https://discord.gg/VsNBWxgmSw","_blank");break;case R.ReportEvitaLabIssue:window.open("https://github.com/lukashornych/evitalab/issues/new","_blank");break;case R.EvitaDBDocumentation:window.open("https://evitadb.io/documentation","_blank");break;case R.EvitaDBGithub:window.open("https://github.com/FgForrest/evitaDB","_blank");break;case R.DiscussEvitaDB:window.open("https://discord.gg/VsNBWxgmSw","_blank");break;case R.ReportEvitaDBIssue:window.open("https://github.com/FgForrest/evitaDB/issues/new","_blank");break;default:a.error(new ce(`Unknown manage option ${v[0]}`))}}return ve(()=>{d.bindGlobal(H.System_Keymap,h)}),Me(()=>{d.unbindGlobal(H.System_Keymap)}),(v,s)=>(w(),T(ct,null,{activator:o(({props:m})=>[l(I,ee(m,{icon:"",variant:"text",class:"manage-button"}),{default:o(()=>[ke(v.$slots,"default",{},void 0,!0),l(A,{activator:"parent"},{default:o(()=>[_(" Manage evitaLab ")]),_:1})]),_:2},1040)]),default:o(()=>[l(Se,{items:b,"onUpdate:selected":f},{title:o(({item:m})=>[l(ca,null,{default:o(()=>[_(p(m.title)+" ",1),m.command!=null?(w(),T(Pe,{key:0,command:m.command},{default:o(()=>[_(p(m.title),1)]),_:2},1032,["command"])):W("",!0)]),_:2},1024)]),_:1})]),_:3}))}});const Ja=F(Za,[["__scopeId","data-v-d2e32f29"]]),en={class:"lab-nav-links"},tn={href:"https://evitadb.io/documentation",target:"_blank"},an=["alt"],nn={href:"https://discord.gg/VsNBWxgmSw",target:"_blank"},on=["alt"],ln=B({__name:"WorkspacePanel",props:{panel:{}},emits:["update:panel"],setup(e,{emit:d}){const r=e,i=Ne(),{t:a}=P(),t=b();function b(){const f=[];return f.push(new se(ie.Explorer,a(`panel.item.${ie.Explorer}`),"mdi-connection",()=>{},H.System_Panels_ConnectionsExplorer)),f}function h(f){f.value?d("update:panel",f.id):d("update:panel",null)}return ve(()=>{i.bindGlobal(H.System_Panels_ConnectionsExplorer,()=>{r.panel===ie.Explorer?d("update:panel",null):d("update:panel",ie.Explorer)})}),Me(()=>{i.unbindGlobal(H.System_Panels_ConnectionsExplorer)}),(f,v)=>(w(),T(kt,{permanent:"",rail:"",class:"bg-primary-dark"},{prepend:o(()=>[l(Ja,null,{default:o(()=>[l(ua,{size:"30px"},{default:o(()=>[l(ut,{alt:"evitaLab Logo",width:"30px",height:"30px",src:Ka})]),_:1})]),_:1})]),append:o(()=>[k("ul",en,[k("li",null,[k("a",tn,[k("img",{src:ja,alt:n(a)("panel.link.evitaDBDocumentation.icon.alt")},null,8,an),l(A,{activator:"parent"},{default:o(()=>[_(p(n(a)("panel.link.evitaDBDocumentation.tooltip")),1)]),_:1})])]),k("li",null,[k("a",nn,[k("img",{src:Xa,alt:n(a)("panel.link.discord.icon.alt")},null,8,on),l(A,{activator:"parent"},{default:o(()=>[_(p(n(a)("panel.link.discord.tooltip")),1)]),_:1})])])])]),default:o(()=>[l(Se,{density:"compact",nav:"",selected:[f.panel],"onClick:select":h,class:"navigation-items"},{default:o(()=>[(w(!0),M(Q,null,re(n(t),s=>(w(),T(qe,{key:s.value,value:s.value},{default:o(()=>[l(me,null,{default:o(()=>[_(p(s.prependIcon),1)]),_:2},1024),l(Pe,{command:s.command},{default:o(()=>[_(p(s.title),1)]),_:2},1032,["command"])]),_:2},1032,["value"]))),128))]),_:1},8,["selected"])]),_:1}))}});const sn=F(ln,[["__scopeId","data-v-d2d1dd7a"]]);var Z=(e=>(e.OpenGraphQLSystemAPIConsole="openGraphQLSystemApiConsole",e.Edit="edit",e.Remove="remove",e.Detail="detail",e.ModifySubheader="modifySubheader",e.Create="create",e))(Z||{});const St=Symbol("connection");function rn(e){dt(St,e)}function Tt(){return mt(St)}const xt=Symbol("catalog");function cn(e){dt(xt,e)}function un(){return mt(xt)}const dn=e=>(pt("data-v-4e340cfb"),e=e(),ft(),e),mn={class:"tree-view-item__content"},vn={class:"text-truncate"},pn=dn(()=>k("span",{class:"text-disabled"}," No items found ",-1)),fn=B({__name:"VTreeViewItem",props:{openable:{type:Boolean,default:!1},isOpen:{type:Boolean,default:!1},prependIcon:{},loading:{type:Boolean,default:!1},actions:{default:()=>[]}},emits:["click:action"],setup(e,{emit:d}){const r=e,i=E(!1);function a(){r.actions&&r.actions.length>0&&(i.value=!0)}return(t,b)=>(w(),T(qe,{"prepend-icon":null,"append-icon":null,onContextmenu:Ue(a,["prevent"])},{default:o(()=>[k("div",mn,[t.openable?(w(),T(me,{key:0},{default:o(()=>[_(p(t.isOpen?"mdi-chevron-up":"mdi-chevron-down"),1)]),_:1})):(w(),T(me,{key:1})),t.loading?(w(),T(vt,{key:2})):(w(),T(me,{key:3},{default:o(()=>[_(p(t.prependIcon),1)]),_:1})),k("span",vn,[ke(t.$slots,"default",{},()=>[pn],!0)]),t.actions&&t.actions.length>0?(w(),T(ct,{key:4,"menu-items":t.actions,modelValue:i.value,"onUpdate:modelValue":b[1]||(b[1]=h=>i.value=h)},{activator:o(({props:h})=>[l(me,ee(h,{class:"text-gray-light"}),{default:o(()=>[_(" mdi-dots-vertical ")]),_:2},1040)]),default:o(()=>[l(Se,{density:"compact",items:t.actions,"onClick:select":b[0]||(b[0]=h=>t.$emit("click:action",h.id))},null,8,["items"])]),_:1},8,["menu-items","modelValue"])):W("",!0)])]),_:3},8,["onContextmenu"]))}});const ye=F(fn,[["__scopeId","data-v-4e340cfb"]]);var G=(e=>(e.OpenEvitaQLConsole="openEvitaQLConsole",e.OpenGraphQLDataAPIConsole="openGraphQLDataApiConsole",e.OpenGraphQLSchemaAPIConsole="openGraphQLSchemaApiConsole",e.ViewSchema="viewSchema",e.DropCatalog="dropCatalog",e.RenameCatalog="renameCatalog",e.ReplaceCatalog="replaceCatalog",e.ModifySubheader="modifySubheader",e.CollectionsSubheader="collectionsSubheader",e.CreateCollection="createCollection",e))(G||{});const gn={class:"pl-8 text-disabled"},Dt=B({__name:"VTreeViewEmptyItem",setup(e){const{t:d}=P();return(r,i)=>(w(),T(qe,null,{default:o(()=>[k("span",gn,p(n(d)("common.list.empty")),1)]),_:1}))}});var J=(e=>(e.ViewEntities="viewEntities",e.ViewSchema="viewSchema",e.ModifySubheader="modifySubheader",e.DropCollection="dropCollection",e.RenameCollection="renameCollection",e))(J||{});const _n={class:"buttons"},bn=B({__name:"ConfirmDialog",emits:["confirmed"],setup(e,{emit:d}){const r=E(!0),{t:i}=P();function a(t){d("confirmed",t)}return(t,b)=>(w(),T(n(X),{modelValue:r.value,"onUpdate:modelValue":b[2]||(b[2]=h=>r.value=h),class:"w-25"},{default:o(()=>[l(n(j),null,{default:o(()=>[l(oe,null,{default:o(()=>[_(p(n(i)("serverActions.confirmCatalog.title")),1)]),_:1}),l(n(Y),null,{default:o(()=>[k("p",null,p(n(i)("serverActions.confirmCatalog.description")),1),k("div",_n,[l(n(I),{variant:"outlined",density:"compact",onClick:b[0]||(b[0]=h=>a(!1))},{default:o(()=>[_(p(n(i)("common.button.cancel"))+" ",1),l(n(A),{activator:"parent"},{default:o(()=>[_(p(n(i)("common.button.cancel")),1)]),_:1})]),_:1}),l(n(I),{"prepend-icon":"mdi-exclamation",variant:"outlined",color:"error",density:"compact",class:"border",onClick:b[1]||(b[1]=h=>a(!0))},{default:o(()=>[_(p(n(i)("common.button.confirm"))+" ",1),l(n(A),{activator:"parent"},{default:o(()=>[_(p(n(i)("common.button.confirm")),1)]),_:1})]),_:1})])]),_:1})]),_:1})]),_:1},8,["modelValue"]))}});const _e=F(bn,[["__scopeId","data-v-e127d2e4"]]),hn={class:"buttons"},yn=B({__name:"DropCollection",props:{visible:{type:Boolean},collectionName:{},catalogName:{},connection:{}},emits:["visibleChanged","confirmed"],setup(e,{emit:d}){const r=e,{t:i}=P(),a=E(r.visible),t=ue();function b(v){a.value=v,d("visibleChanged",a.value)}function h(){a.value=!1}async function f(v){if(v){const s=await t.dropCollection(r.connection,r.collectionName,r.catalogName);if(s)d("confirmed",s);else throw new ce("Collection can not be deleted. Try it again")}b(!1)}return(v,s)=>a.value?(w(),T(n(X),{key:0,modelValue:a.value,"onUpdate:modelValue":s[1]||(s[1]=m=>a.value=m),class:"w-25"},{default:o(()=>[l(n(j),null,{default:o(()=>[l(oe,null,{default:o(()=>[_(p(n(i)("serverActions.dropCollection.title")),1)]),_:1}),l(n(Y),null,{default:o(()=>[k("p",null,[_(p(n(i)("serverActions.dropCollection.description"))+" ",1),k("b",null,p(r.collectionName),1)]),k("div",hn,[l(n(I),{variant:"outlined",density:"compact",onClick:s[0]||(s[0]=m=>b(!1))},{default:o(()=>[_(p(n(i)("common.button.cancel"))+" ",1),l(n(A),{activator:"parent"},{default:o(()=>[_(p(n(i)("common.button.cancel")),1)]),_:1})]),_:1}),l(n(I),{"prepend-icon":"mdi-plus",variant:"outlined",density:"compact",color:"error",class:"border",onClick:h},{default:o(()=>[_(p(n(i)("common.button.drop"))+" ",1),l(n(A),{activator:"parent"},{default:o(()=>[_(p(n(i)("common.button.drop")),1)]),_:1})]),_:1})])]),_:1})]),_:1})]),_:1},8,["modelValue"])):(w(),T(_e,{key:1,onConfirmed:f}))}});const et=F(yn,[["__scopeId","data-v-260851d7"]]),wn={class:"buttons"},Cn=B({__name:"RenameCollection",props:{visible:{type:Boolean},catalogName:{},collectionName:{},connection:{}},emits:["visibleChanged","confirmed"],setup(e,{emit:d}){const r=e,{t:i}=P(),a=E(r.visible),t=E(""),b=ue();function h(s){a.value=s,d("visibleChanged",a.value)}function f(){a.value=!1}async function v(s){if(s){const m=await b.renameCollection(r.connection,r.collectionName,t.value,r.catalogName);if(m)d("confirmed",m);else throw new ce("Catalog can not be renamed. Try it again")}h(!1)}return(s,m)=>a.value?(w(),T(n(X),{key:0,modelValue:a.value,"onUpdate:modelValue":m[2]||(m[2]=g=>a.value=g),class:"w-25 min-width"},{default:o(()=>[l(n(j),null,{default:o(()=>[l(oe,null,{default:o(()=>[_(p(n(i)("serverActions.renameCollection.title")),1)]),_:1}),l(n(Y),null,{default:o(()=>[k("p",null,[_(p(n(i)("serverActions.renameCatalog.description"))+" ",1),k("b",null,p(r.collectionName),1)]),l(n(ne),{label:n(i)("serverActions.renameCollection.rename"),variant:"outlined",class:"rename-input","append-inner-icon":"mdi-pencil-outline",modelValue:t.value,"onUpdate:modelValue":m[0]||(m[0]=g=>t.value=g)},null,8,["label","modelValue"]),k("div",wn,[l(n(I),{variant:"outlined",density:"compact",onClick:m[1]||(m[1]=g=>h(!1))},{default:o(()=>[_(p(n(i)("common.button.cancel"))+" ",1),l(n(A),{activator:"parent"},{default:o(()=>[_(p(n(i)("common.button.cancel")),1)]),_:1})]),_:1}),l(n(I),{"prepend-icon":"mdi-pencil-outline",variant:"outlined",density:"compact",color:"error",class:"border",onClick:f},{default:o(()=>[_(p(n(i)("common.button.rename"))+" ",1),l(n(A),{activator:"parent"},{default:o(()=>[_(p(n(i)("common.button.rename")),1)]),_:1})]),_:1})])]),_:1})]),_:1})]),_:1},8,["modelValue"])):(w(),T(_e,{key:1,onConfirmed:v}))}});const tt=F(Cn,[["__scopeId","data-v-3d18add3"]]);class we{constructor(d){Ee(this,"title");Ee(this,"type","subheader");this.title=d}}const Vn=B({__name:"CollectionItem",props:{entityType:{},catalogName:{}},emits:["changed"],setup(e,{emit:d}){const r=e,i=pe(),a=da(),t=gt(),{t:b}=P(),h=Te(),f=E(!1),v=O(et||tt),s=Tt(),m=un(),g=N(),V=Array.from(g.values());if(m.value==null)throw new ce("Catalog schema is not loaded yet, but collection item is already rendered!");function S(){i.createTab(a.createNew(s,m.value.name,r.entityType.entityType.getOrThrow(),void 0,!0))}function U(y){const x=g.get(y);x instanceof se&&x.execute()}function N(){var u;const y=new Map;y.set(J.ViewEntities,D(J.ViewEntities,"mdi-table",S));const x=(u=m.value)==null?void 0:u.entityTypes.getIfSupported();if(x)for(const c of x)y.set(J.ViewSchema,D(J.ViewSchema,"mdi-file-code-outline",()=>i.createTab(t.createNew(s,new ma(c.entityType.getOrThrow(),r.entityType.entityType.getOrThrow())))));return h.readOnly||(y.set(J.ModifySubheader,new we(b("explorer.collection.subheader.modify"))),y.set(J.DropCollection,D(J.DropCollection,"mdi-delete-outline",()=>{v.value=le(et),f.value=!0})),y.set(J.RenameCollection,D(J.RenameCollection,"mdi-delete-outline",()=>{v.value=le(tt),f.value=!0}))),y}function D(y,x,u){return new se(y,b(`explorer.collection.actions.${y}`),x,u)}return(y,x)=>(w(),M("div",null,[l(ye,{"prepend-icon":"mdi-list-box-outline",actions:n(V),onClick:S,"onClick:action":U,class:"text-gray-light text-sm-body-2"},{default:o(()=>[_(p(y.entityType.entityType.getOrThrow())+" ",1),l(A,{activator:"parent"},{default:o(()=>[_(p(y.entityType.entityType.getOrThrow()),1)]),_:1})]),_:1},8,["actions"]),f.value?(w(),T(n(v),{key:0,visible:!0,"collection-name":y.entityType.entityType.getOrThrow(),"catalog-name":y.catalogName,connection:n(s),onVisibleChanged:x[0]||(x[0]=()=>{f.value=!1}),onConfirmed:x[1]||(x[1]=u=>{d("changed",u)})},null,8,["collection-name","catalog-name","connection"])):W("",!0)]))}}),kn={class:"buttons"},Sn=B({__name:"DropCatalog",props:{visible:{type:Boolean},catalogName:{},connection:{}},emits:["visibleChanged","confirmed"],setup(e,{emit:d}){const r=e,{t:i}=P(),a=E(r.visible),t=ue();function b(v){a.value=v,d("visibleChanged",a.value)}function h(){a.value=!1}async function f(v){if(v)if(await t.dropCatalog(r.connection,r.catalogName))d("confirmed");else throw new ce("Catalog can not be deleted. Try it again");b(!1)}return(v,s)=>a.value?(w(),T(n(X),{key:0,modelValue:a.value,"onUpdate:modelValue":s[1]||(s[1]=m=>a.value=m),class:"w-25"},{default:o(()=>[l(n(j),null,{default:o(()=>[l(oe,null,{default:o(()=>[_(p(n(i)("serverActions.dropCatalog.title")),1)]),_:1}),l(n(Y),null,{default:o(()=>[k("p",null,[_(p(n(i)("serverActions.dropCatalog.description"))+" ",1),k("b",null,p(r.catalogName),1)]),k("div",kn,[l(n(I),{variant:"outlined",density:"compact",onClick:s[0]||(s[0]=m=>b(!1))},{default:o(()=>[_(p(n(i)("common.button.cancel"))+" ",1),l(A,{activator:"parent"},{default:o(()=>[_(p(n(i)("common.button.cancel")),1)]),_:1})]),_:1}),l(n(I),{"prepend-icon":"mdi-delete-outline",variant:"outlined",density:"compact",color:"error",class:"border",onClick:h},{default:o(()=>[_(p(n(i)("common.button.drop"))+" ",1),l(A,{activator:"parent"},{default:o(()=>[_(p(n(i)("common.button.drop")),1)]),_:1})]),_:1})])]),_:1})]),_:1})]),_:1},8,["modelValue"])):(w(),T(_e,{key:1,onConfirmed:f}))}});const at=F(Sn,[["__scopeId","data-v-c468f3fa"]]),Tn={class:"buttons"},xn=B({__name:"RenameCatalog",props:{visible:{type:Boolean},catalogName:{},connection:{}},emits:["visibleChanged","confirmed"],setup(e,{emit:d}){const r=e,{t:i}=P(),a=E(r.visible),t=E(""),b=ue();function h(s){a.value=s,d("visibleChanged",a.value)}function f(){a.value=!1}async function v(s){if(s)if(await b.renameCatalog(r.connection,r.catalogName,t.value))d("confirmed");else throw new ce("Catalog can not be renamed. Try it again");h(!1)}return(s,m)=>a.value?(w(),T(n(X),{key:0,modelValue:a.value,"onUpdate:modelValue":m[2]||(m[2]=g=>a.value=g),class:"w-25 min-width"},{default:o(()=>[l(n(j),null,{default:o(()=>[l(oe,null,{default:o(()=>[_(p(n(i)("serverActions.renameCatalog.title")),1)]),_:1}),l(n(Y),null,{default:o(()=>[k("p",null,[_(p(n(i)("serverActions.renameCatalog.description"))+" ",1),k("b",null,p(r.catalogName),1)]),l(n(ne),{label:n(i)("serverActions.renameCatalog.rename"),variant:"outlined",class:"rename-input","append-inner-icon":"mdi-pencil-outline",modelValue:t.value,"onUpdate:modelValue":m[0]||(m[0]=g=>t.value=g)},null,8,["label","modelValue"]),k("div",Tn,[l(n(I),{variant:"outlined",density:"compact",onClick:m[1]||(m[1]=g=>h(!1))},{default:o(()=>[_(p(n(i)("common.button.cancel"))+" ",1),l(A,{activator:"parent"},{default:o(()=>[_(p(n(i)("common.button.cancel")),1)]),_:1})]),_:1}),l(n(I),{"prepend-icon":"mdi-pencil-outline",variant:"outlined",density:"compact",color:"error",class:"border",onClick:f},{default:o(()=>[_(p(n(i)("common.button.rename"))+" ",1),l(A,{activator:"parent"},{default:o(()=>[_(p(n(i)("common.button.rename")),1)]),_:1})]),_:1})])]),_:1})]),_:1})]),_:1},8,["modelValue"])):(w(),T(_e,{key:1,onConfirmed:v}))}});const nt=F(xn,[["__scopeId","data-v-e217204e"]]),Dn={class:"buttons"},En=B({__name:"CreateCollection",props:{visible:{type:Boolean},catalogName:{},connection:{}},emits:["visibleChanged","confirmed"],setup(e,{emit:d}){const r=e,{t:i}=P(),a=E(r.visible),t=E(""),b=ue();function h(v){a.value=v,d("visibleChanged",a.value)}async function f(v){if(v){const s=await b.createCollection(r.connection,t.value,r.catalogName);s&&d("confirmed",s)}h(!1)}return(v,s)=>(w(),T(n(X),{modelValue:a.value,"onUpdate:modelValue":s[2]||(s[2]=m=>a.value=m),class:"w-25"},{default:o(()=>[l(n(j),null,{default:o(()=>[l(oe,null,{default:o(()=>[_(p(n(i)("serverActions.createCollection.title")),1)]),_:1}),l(n(Y),null,{default:o(()=>[k("p",null,p(n(i)("serverActions.createCollection.newCatalogName")),1),l(n(ne),{variant:"outlined",class:"mt-3",modelValue:t.value,"onUpdate:modelValue":s[0]||(s[0]=m=>t.value=m)},null,8,["modelValue"]),k("div",Dn,[l(n(I),{variant:"outlined",density:"compact",onClick:s[1]||(s[1]=m=>h(!1))},{default:o(()=>[_(p(n(i)("common.button.cancel"))+" ",1),l(n(A),{activator:"parent"},{default:o(()=>[_(p(n(i)("common.button.cancel")),1)]),_:1})]),_:1}),l(n(I),{"prepend-icon":"mdi-plus",variant:"outlined",density:"compact",color:"success",class:"border",onClick:f},{default:o(()=>[_(p(n(i)("common.button.add"))+" ",1),l(n(A),{activator:"parent"},{default:o(()=>[_(p(n(i)("common.button.add")),1)]),_:1})]),_:1})])]),_:1})]),_:1})]),_:1},8,["modelValue"]))}});const ot=F(En,[["__scopeId","data-v-08ffa583"]]),Ln={class:"buttons"},Un=B({__name:"ReplaceCatalog",props:{visible:{type:Boolean},catalogName:{},connection:{}},emits:["visibleChanged","confirmed"],setup(e,{emit:d}){const r=e,{t:i}=P(),a=ue(),t=E(r.visible),b=E(r.catalogName),h=E(""),f=E(!1),v=E();a.getCatalogs(r.connection).then(V=>{v.value=V,f.value=!0});function s(V){t.value=V,d("visibleChanged",t.value)}function m(){t.value=!1}async function g(V){if(V)if(await a.replaceCatalog(r.connection,h.value,b.value))d("confirmed");else throw new ce("Catalog can not be replaced. Try it again");s(!1)}return(V,S)=>t.value?(w(),T(n(X),{key:0,modelValue:t.value,"onUpdate:modelValue":S[3]||(S[3]=U=>t.value=U),class:"w-25"},{default:o(()=>[l(n(j),null,{default:o(()=>[l(oe,null,{default:o(()=>[_(p(n(i)("serverActions.replaceCatalog.title")),1)]),_:1}),l(n(Y),null,{default:o(()=>{var U,N;return[l(n($e),null,{default:o(()=>[_(p(n(i)("serverActions.replaceCatalog.fromCatalogLabel")),1)]),_:1}),l(n(Xe),{label:n(i)("serverActions.replaceCatalog.fromCatalog"),variant:"outlined",modelValue:b.value,"onUpdate:modelValue":S[0]||(S[0]=D=>b.value=D),items:(U=v.value)==null?void 0:U.filter(D=>D.name!==h.value).map(D=>D.name),class:"mt-4"},null,8,["label","modelValue","items"]),l(n($e),null,{default:o(()=>[_(p(n(i)("serverActions.replaceCatalog.toCatalogLabel")),1)]),_:1}),l(n(Xe),{label:n(i)("serverActions.replaceCatalog.toCatalog"),variant:"outlined",items:(N=v.value)==null?void 0:N.filter(D=>D.name!==b.value).map(D=>D.name),class:"mt-4",modelValue:h.value,"onUpdate:modelValue":S[1]||(S[1]=D=>h.value=D)},null,8,["label","items","modelValue"]),k("div",Ln,[l(n(I),{density:"compact",variant:"outlined",onClick:S[2]||(S[2]=D=>s(!1))},{default:o(()=>[_(p(n(i)("common.button.cancel"))+" ",1),l(n(A),{activator:"parent"},{default:o(()=>[_(p(n(i)("common.button.cancel")),1)]),_:1})]),_:1}),l(n(I),{density:"compact",variant:"outlined","prepend-icon":"mdi-arrow-right-bottom",color:"error",class:"border",onClick:m},{default:o(()=>[_(p(n(i)("common.button.replace"))+" ",1),l(n(A),null,{default:o(()=>[_(p(n(i)("common.button.replace")),1)]),_:1})]),_:1})])]}),_:1})]),_:1})]),_:1},8,["modelValue"])):(w(),T(_e,{key:1,onConfirmed:g}))}});const lt=F(Un,[["__scopeId","data-v-72ab8e46"]]),$n={key:0},In=B({__name:"CatalogItem",props:{catalog:{}},emits:["changed"],setup(e,{emit:d}){const r=e,i=Te(),a=pe(),t=va(),b=_t(),h=gt(),{t:f}=P(),v=E(!1),s=O(at||nt||ot||lt),m=Tt(),g=D(),V=Array.from(g.values()),S=E(r.catalog);cn(S);const U=E(!1);function N(c){const C=g.get(c);C&&C instanceof se&&C.execute()}function D(){const c=new Map;return c.set(G.OpenEvitaQLConsole,y(G.OpenEvitaQLConsole,"mdi-variable",()=>{a.createTab(t.createNew(m,r.catalog.name))})),c.set(G.OpenGraphQLDataAPIConsole,y(G.OpenGraphQLDataAPIConsole,"mdi-graphql",()=>{a.createTab(b.createNew(m,r.catalog.name,Ie.Data))})),c.set(G.OpenGraphQLSchemaAPIConsole,y(G.OpenGraphQLSchemaAPIConsole,"mdi-graphql",()=>{a.createTab(b.createNew(m,r.catalog.name,Ie.Schema))})),c.set(G.ViewSchema,y(G.ViewSchema,"mdi-file-code-outline",()=>{a.createTab(h.createNew(m,new pa(r.catalog.name)))})),i.readOnly||(c.set(G.ModifySubheader,new we(f("explorer.catalog.subheader.modify"))),c.set(G.DropCatalog,y(G.DropCatalog,"mdi-delete-outline",()=>{s.value=le(at),v.value=!0})),c.set(G.RenameCatalog,y(G.RenameCatalog,"mdi-pencil-outline",()=>{s.value=le(nt),v.value=!0})),c.set(G.ReplaceCatalog,y(G.ReplaceCatalog,"mdi-file-replace-outline",()=>{s.value=le(lt),v.value=!0})),c.set(G.CollectionsSubheader,new we(f("explorer.catalog.subheader.collections"))),c.set(G.CreateCollection,y(G.CreateCollection,"mdi-plus",()=>{s.value=le(ot),v.value=!0}))),new Map(c)}function y(c,C,L){return new se(c,f(`explorer.catalog.actions.${c}`),C,L)}function x(c){v.value=c}function u(c){d("changed",c)}return(c,C)=>(w(),M(Q,null,[l(bt,{value:`${n(m).name}|${c.catalog.name}`},{activator:o(({isOpen:L,props:q})=>[c.catalog.corrupted.getOrElse(!1)?(w(),T(ye,ee({key:1},q,{"prepend-icon":"mdi-menu",class:"text-red"}),{default:o(()=>[_(p(c.catalog.name)+" ",1),l(A,{activator:"parent"},{default:o(()=>[_(p(n(f)("explorer.catalog.errors.couldNotLoad")),1)]),_:1})]),_:2},1040)):(w(),T(ye,ee({key:0},q,{openable:"","is-open":L,"prepend-icon":"mdi-menu",loading:U.value,actions:n(V),"onClick:action":N,class:"font-weight-bold"}),{default:o(()=>[_(p(c.catalog.name)+" ",1),l(A,{activator:"parent"},{default:o(()=>[_(p(c.catalog.name),1)]),_:1})]),_:2},1040,["is-open","loading","actions"]))]),default:o(()=>[!c.catalog.corrupted.getOrElse(!1)&&S.value!==void 0?(w(),M("div",$n,[r.catalog.entityTypes!=null&&r.catalog.entityTypes.getOrThrow().length>0?(w(!0),M(Q,{key:0},re(r.catalog.entityTypes.getIfSupported(),L=>(w(),T(Vn,{key:L.entityType.getOrThrow(),entityType:L,"catalog-name":r.catalog.name,onChanged:u},null,8,["entityType","catalog-name"]))),128)):(w(),T(Dt,{key:1}))])):W("",!0)]),_:1},8,["value"]),v.value?(w(),T(n(s),{key:0,visible:!0,connection:n(m),"catalog-name":c.catalog.name,onVisibleChanged:x,onConfirmed:u},null,8,["connection","catalog-name"])):W("",!0)],64))}}),Rn=B({__name:"RemoveConnectionDialog",props:{modelValue:{type:Boolean},connection:{}},emits:["update:modelValue"],setup(e,{emit:d}){const r=e,i=xe(),a=ge(),{t}=P();function b(){d("update:modelValue",!1)}function h(){try{i.removeConnection(r.connection.id)}catch(f){a.error(f);return}a.success("Connection removed."),d("update:modelValue",!1)}return(f,v)=>{const s=ht("I18nT");return w(),T(X,{"model-value":f.modelValue,"max-width":"30rem","onUpdate:modelValue":v[0]||(v[0]=m=>f.$emit("update:modelValue",m))},{activator:o(({props:m})=>[ke(f.$slots,"activator",yt(wt(m)))]),default:o(()=>[l(j,{class:"py-8 px-4"},{default:o(()=>[l(he,null,{default:o(()=>[_(p(n(t)("explorer.connection.remove.title")),1)]),_:1}),l(Y,{class:"mb-4"},{default:o(()=>[l(s,{keypath:"explorer.connection.remove.question"},{connectionName:o(()=>[k("strong",null,p(f.connection.name),1)]),_:1})]),_:1}),l(Ge,null,{default:o(()=>[l(He),l(I,{onClick:b,variant:"tonal"},{default:o(()=>[_(p(n(t)("common.button.cancel")),1)]),_:1}),l(I,{variant:"outlined","prepend-icon":"mdi-delete",onClick:h},{default:o(()=>[_(p(n(t)("common.button.remove")),1)]),_:1})]),_:1})]),_:1})]),_:3},8,["model-value"])}}}),An={class:"buttons"},Bn=B({__name:"CreateCatalog",props:{visible:{type:Boolean},connection:{}},emits:["visibleChanged","confirmed"],setup(e,{emit:d}){const r=e,{t:i}=P(),a=E(r.visible),t=E(""),b=ue();function h(v){a.value=v,d("visibleChanged",a.value)}async function f(v){v&&await b.createCatalog(r.connection,t.value)&&d("confirmed"),h(!1)}return(v,s)=>(w(),T(n(X),{modelValue:a.value,"onUpdate:modelValue":s[3]||(s[3]=m=>a.value=m),class:"w-25"},{default:o(()=>[l(n(j),null,{default:o(()=>[l(oe,null,{default:o(()=>[_(p(n(i)("serverActions.createCatalog.title")),1)]),_:1}),l(n(Y),null,{default:o(()=>[l(n($e),null,{default:o(()=>[_(p(n(i)("serverActions.createCatalog.description")),1)]),_:1}),l(n(ne),{variant:"outlined","append-inner-icon":"mdi-pencil-outline",class:"mt-2",modelValue:t.value,"onUpdate:modelValue":s[0]||(s[0]=m=>t.value=m)},null,8,["modelValue"]),k("div",An,[l(n(I),{variant:"outlined",density:"compact",onClick:s[1]||(s[1]=m=>h(!1))},{default:o(()=>[_(p(n(i)("common.button.cancel"))+" ",1),l(n(A),{activator:"parent"},{default:o(()=>[_(p(n(i)("common.button.cancel")),1)]),_:1})]),_:1}),l(n(I),{color:"success",class:"border",variant:"outlined",density:"compact","prepend-icon":"mdi-plus",onClick:s[2]||(s[2]=m=>f(!0))},{default:o(()=>[_(p(n(i)("common.button.add"))+" ",1),l(n(A),{activator:"parent"},{default:o(()=>[_(p(n(i)("common.button.add")),1)]),_:1})]),_:1})])]),_:1})]),_:1})]),_:1},8,["modelValue"]))}});const it=F(Bn,[["__scopeId","data-v-427ead84"]]),Nn={key:0},Mn=B({__name:"ConnectionItem",props:{connection:{}},setup(e){const d=e,r=Te(),i=pe(),a=xe(),t=_t(),b=fa(),h=ge(),{t:f}=P();rn(d.connection);const v=E(!1),s=O(it),m=$(()=>y()),g=$(()=>Array.from(m.value.values())),V=E(!1),S=E(),U=E(!1);async function N(u){if(U.value=!0,u){S.value=u,U.value=!1;return}try{S.value=await a.getCatalogs(d.connection,!0)}catch(c){h.error(c)}U.value=!1}function D(u){const c=m.value.get(u);c instanceof se&&c.execute()}function y(){const u=new Map;return u.set(Z.OpenGraphQLSystemAPIConsole,x(Z.OpenGraphQLSystemAPIConsole,"mdi-graphql",()=>i.createTab(t.createNew(d.connection,"system",Ie.System)))),u.set(Z.Detail,x(Z.Detail,"mdi-database-outline",()=>i.createTab(b.createNew(d.connection)))),r.readOnly||(d.connection.preconfigured||u.set(Z.Remove,x(Z.Remove,"mdi-delete-outline",()=>V.value=!0)),u.set(Z.ModifySubheader,new we(f("explorer.connection.subheader.modify"))),u.set(Z.Create,x(Z.Create,"mdi-plus",()=>{s.value=le(it),v.value=!0}))),u}function x(u,c,C){return new se(u,f(`explorer.connection.actions.${u}`),c,C)}return(u,c)=>(w(),M(Q,null,[k("div",null,[l(bt,{value:u.connection.name},{activator:o(({isOpen:C,props:L})=>[l(ye,ee(L,{openable:"","is-open":C,"prepend-icon":"mdi-power-plug-outline",loading:U.value,actions:g.value,onClick:c[0]||(c[0]=q=>N()),"onClick:action":D,class:"font-weight-bold"}),{default:o(()=>[_(p(u.connection.name)+" ",1),l(A,{activator:"parent"},{default:o(()=>[_(p(u.connection.name),1)]),_:1})]),_:2},1040,["is-open","loading","actions"])]),default:o(()=>[S.value!==void 0?(w(),M("div",Nn,[S.value.length>0?(w(!0),M(Q,{key:0},re(S.value,C=>(w(),T(In,{key:C.name,catalog:C,onChanged:c[1]||(c[1]=L=>N(L))},null,8,["catalog"]))),128)):(w(),T(Dt,{key:1}))])):W("",!0),l(Rn,{modelValue:V.value,"onUpdate:modelValue":c[2]||(c[2]=C=>V.value=C),connection:u.connection},null,8,["modelValue","connection"])]),_:1},8,["value"])]),v.value?(w(),T(n(s),{key:0,visible:!0,connection:d.connection,onConfirmed:N,onVisibleChanged:c[3]||(c[3]=()=>{v.value=!1})},null,8,["connection"])):W("",!0)],64))}}),Pn=B({__name:"ConnectionEditor",props:{modelValue:{type:Boolean},connection:{default:void 0}},emits:["update:modelValue"],setup(e,{emit:d}){const r=e,i=xe(),a=ge(),{t}=P(),b=[u=>u?!0:t("explorer.connection.editor.form.connectionName.validations.required"),u=>i.isConnectionExists(u)?t("explorer.connection.editor.form.connectionName.validations.duplicate"):!0],h=[u=>u?!0:t("explorer.connection.editor.form.systemApiUrl.validations.required"),u=>{try{return new URL(u),!0}catch{return t("explorer.connection.editor.form.systemApiUrl.validations.invalidUrl")}},async u=>await S()?(g.value.systemApiUrlTested=1,!0):(g.value.systemApiUrlTested=2,t("explorer.connection.editor.form.systemApiUrl.validations.unreachable"))],f=[u=>u?!0:t("explorer.connection.editor.form.grpcUrl.validations.required"),u=>{try{return new URL(u),!0}catch{return t("explorer.connection.editor.form.grpcUrl.validations.invalidUrl")}},async u=>await U()?(g.value.grpcUrlTested=1,!0):(g.value.grpcUrlTested=2,t("explorer.connection.editor.form.grpcUrl.validations.unreachable"))],v=[u=>u?!0:t("explorer.connection.editor.form.graphQLApiUrl.validations.required"),u=>{try{return new URL(u),!0}catch{return t("explorer.connection.editor.form.graphQLApiUrl.validations.invalidUrl")}},async u=>await N()?(g.value.gqlUrlTested=1,!0):(g.value.gqlUrlTested=2,t("explorer.connection.editor.form.graphQLApiUrl.validations.unreachable"))],s=E(null),m=$(()=>r.connection?1:0),g=E({name:"",systemApiUrl:"",systemApiUrlTested:0,grpcUrl:"",grpcUrlTested:0,gqlUrl:"",gqlUrlTested:0});function V(u){switch(u){case 0:return null;case 1:return"mdi-check-circle-outline";case 2:return"mdi-close-circle-outline"}}async function S(){try{const u=await Le.get(g.value.systemApiUrl+"/server-name").text();return u!=null&&u.length>0}catch{return!1}}async function U(){try{const u={};return(await Le.post(g.value.grpcUrl+"/io.evitadb.externalApi.grpc.generated.EvitaManagementService/ServerStatus",{json:u,headers:{"content-type":"application/json; charset=utf-8"}})).ok||!1}catch{return!1}}async function N(){var u;try{const c=await Le.post(g.value.gqlUrl+"/system",{headers:{"Content-Type":"application/json"},body:JSON.stringify({query:`
                    {
                        liveness
                    }
                `})}).json();return((u=c==null?void 0:c.data)==null?void 0:u.liveness)||!1}catch{return!1}}async function D(){let u=!0;return await S()?g.value.systemApiUrlTested=1:g.value.systemApiUrlTested=2,await U()?g.value.grpcUrlTested=1:(u=!1,g.value.grpcUrlTested=2),await N()?g.value.gqlUrlTested=1:(u=!1,g.value.gqlUrlTested=2),u?a.success(t("explorer.connection.editor.notification.connectionSuccess")):a.error(t("explorer.connection.editor.notification.connectionError")),u}function y(){s.value.reset(),g.value={name:"",systemApiUrl:"",systemApiUrlTested:0,grpcUrl:"",grpcUrlTested:0,gqlUrl:"",gqlUrlTested:0},d("update:modelValue",!1)}async function x(){const{valid:u}=await s.value.validate();if(u){try{i.addConnection(new ga(void 0,g.value.name,!1,g.value.systemApiUrl,g.value.grpcUrl,g.value.gqlUrl,"https://localhost:5555/rest"))}catch(c){a.error(c);return}s.value.reset(),d("update:modelValue",!1)}}return(u,c)=>(w(),T(X,{"model-value":u.modelValue,"onUpdate:modelValue":c[4]||(c[4]=C=>u.$emit("update:modelValue",C)),persistent:"","max-width":"36rem"},{activator:o(({props:C})=>[ke(u.$slots,"activator",yt(wt(C)))]),default:o(()=>[l(j,{class:"py-8 px-4"},{default:o(()=>[m.value===0?(w(),T(he,{key:0},{default:o(()=>[_(p(n(t)("explorer.connection.editor.addTitle")),1)]),_:1})):W("",!0),m.value===1?(w(),T(he,{key:1},{default:o(()=>[_(p(n(t)("explorer.connection.editor.editTitle")),1)]),_:1})):W("",!0),l(Y,null,{default:o(()=>[l(Ma,{ref_key:"form",ref:s,"validate-on":"submit"},{default:o(()=>[l(ne,{modelValue:g.value.name,"onUpdate:modelValue":c[0]||(c[0]=C=>g.value.name=C),label:n(t)("explorer.connection.editor.form.connectionName.label"),placeholder:"evitaDB",variant:"solo-filled",rules:b,required:""},null,8,["modelValue","label"]),l(ne,{modelValue:g.value.systemApiUrl,"onUpdate:modelValue":c[1]||(c[1]=C=>g.value.systemApiUrl=C),label:n(t)("explorer.connection.editor.form.systemApiUrl.label"),placeholder:"https://{evitadb-server}:5555/system",variant:"solo-filled",required:"",rules:h,"append-inner-icon":V(g.value.systemApiUrlTested)},null,8,["modelValue","label","append-inner-icon"]),l(ne,{modelValue:g.value.grpcUrl,"onUpdate:modelValue":c[2]||(c[2]=C=>g.value.grpcUrl=C),label:n(t)("explorer.connection.editor.form.grpcUrl.label"),placeholder:"https://{evitadb-server}:5555/lab/api",variant:"solo-filled",required:"",rules:f,"append-inner-icon":V(g.value.grpcUrlTested)},null,8,["modelValue","label","append-inner-icon"]),l(ne,{modelValue:g.value.gqlUrl,"onUpdate:modelValue":c[3]||(c[3]=C=>g.value.gqlUrl=C),label:n(t)("explorer.connection.editor.form.graphQLApiUrl.label"),placeholder:"https://{evitadb-server}:5555/gql",variant:"solo-filled",required:"",rules:v,"append-inner-icon":V(g.value.gqlUrlTested)},null,8,["modelValue","label","append-inner-icon"])]),_:1},512)]),_:1}),l(Ge,{class:"px-6"},{default:o(()=>[l(I,{variant:"plain","prepend-icon":"mdi-connection",onClick:D},{default:o(()=>[_(p(n(t)("explorer.connection.editor.button.testConnection")),1)]),_:1}),l(He),l(I,{variant:"tonal",onClick:y},{default:o(()=>[_(p(n(t)("common.button.cancel")),1)]),_:1}),l(I,{variant:"outlined","prepend-icon":"mdi-content-save",onClick:x,class:"ml-4"},{default:o(()=>[_(p(n(t)("common.button.save")),1)]),_:1})]),_:1})]),_:1})]),_:3},8,["model-value"]))}}),qn={key:0,class:"pa-2"},Gn=B({__name:"ConnectionExplorerPanel",props:{modelValue:{type:Boolean}},emits:["update:modelValue"],setup(e,{emit:d}){const r=Te(),i=xe(),{t:a}=P(),t=E(!1),b=$(()=>i.getConnections());return(h,f)=>(w(),T(kt,{permanent:"","model-value":h.modelValue,"onUpdate:modelValue":f[2]||(f[2]=v=>h.$emit("update:modelValue",v)),class:"bg-primary"},{append:o(()=>[n(r).readOnly?W("",!0):(w(),M("div",qn,[l(Pn,{modelValue:t.value,"onUpdate:modelValue":f[1]||(f[1]=v=>t.value=v)},{activator:o(({props:v})=>[l(I,ee({"prepend-icon":"mdi-plus",block:"",variant:"outlined"},v,{onClick:f[0]||(f[0]=s=>t.value=!0)}),{default:o(()=>[_(p(n(a)("explorer.button.addConnection")),1)]),_:2},1040)]),_:1},8,["modelValue"])]))]),default:o(()=>[l(Se,{density:"compact",nav:""},{default:o(()=>[l(_a,{class:"text-gray-light text-sm-body-2 font-weight-medium"},{default:o(()=>[_(p(n(a)("explorer.title")),1)]),_:1}),(w(!0),M(Q,null,re(b.value,v=>(w(),T(Mn,{key:v.name,connection:v},null,8,["connection"]))),128))]),_:1})]),_:1},8,["model-value"]))}});function Hn(e,d){return e.length<=d?e:e.substring(0,d-3)+"..."}const On={class:"loading-screen"},Wn={class:"loading-screen-info"},Fn=B({__name:"TabLoadingScreen",setup(e){const{t:d}=P();return(r,i)=>(w(),M("div",On,[k("div",Wn,[l(vt,{size:48}),k("span",null,p(n(d)("tab.placeholder.loading")),1)])]))}});const Qn=F(Fn,[["__scopeId","data-v-b23d11da"]]),zn=B({__name:"TabWindow",props:{component:{},componentProps:{}},emits:["dataUpdate"],setup(e,{emit:d}){const r=E(!1);return(i,a)=>(w(),M(Q,null,[(w(),T(wa,null,[ba((w(),T(ya(i.component),ee(i.componentProps,{onReady:a[0]||(a[0]=t=>r.value=!0),onDataUpdate:a[1]||(a[1]=t=>d("dataUpdate",t))}),null,16)),[[ha,r.value]])],1024)),r.value?W("",!0):(w(),T(Qn,{key:0}))],64))}}),Yn="/lab/logo/evitalab-logo-representative.svg",Kn=e=>(pt("data-v-70fa2ac3"),e=e(),ft(),e),jn={class:"editor-welcome-screen"},Xn={class:"editor-welcome-screen-hero"},Zn={class:"editor-welcome-screen-hero__header"},Jn={class:"editor-welcome-screen-hero__title"},eo={class:"font-weight-bold mb-2",style:{"font-size":"4.375rem"}},to={class:"text-white",style:{"font-size":"1rem"}},ao={class:"text-primary-lightest text-body-2",href:"https://github.com/lukashornych/evitalab/releases",target:"_blank"},no={class:"text-gray-light",style:{"font-size":"1rem"}},oo={class:"editor-welcome-screen-blog"},lo=["href"],io={class:"editor-welcome-screen-blog-img__wrap"},so=["src","alt"],ro={class:"editor-welcome-screen-blog-item__title"},co={class:"editor-welcome-screen-blog-item__perex"},uo={class:"editor-welcome-screen-blog-item__btn"},mo=Kn(()=>k("span",{class:"editor-welcome-screen-hr"},"",-1)),vo={class:"editor-welcome-screen-hero__links"},po={href:"https://evitadb.io/documentation",target:"_blank"},fo={href:"https://github.com/lukashornych/evitalab/",target:"_blank"},go={href:"https://discord.gg/VsNBWxgmSw",target:"_blank"},_o={href:"https://github.com/lukashornych/evitalab/issues",target:"_blank"},bo=B({__name:"WelcomeScreen",setup(e){const d=Ca(),{t:r}=P(),i=$(()=>{const t="";return t.length===0?"?":t.substring(1)}),a=E([]);return d.getBlogPosts().then(t=>{a.value=t}),(t,b)=>{const h=ht("I18nT");return w(),M("div",jn,[k("div",Xn,[k("header",Zn,[l(ut,{width:"240",height:"240","max-width":"240","max-height":"240",alt:"evitaLab Logo",src:Yn,class:"evitalab-logo"}),k("div",Jn,[k("h1",eo,p(n(r)("app.name")),1),k("p",to,[_(p(i.value)+" ",1),k("a",ao,"("+p(n(r)("welcomeScreen.changelog"))+")",1)]),k("p",no,p(n(r)("welcomeScreen.description")),1)])]),k("div",oo,[(w(!0),M(Q,null,re(a.value,f=>(w(),M("a",{key:f.url,href:f.url,target:"_blank"},[k("span",io,[k("img",{class:"Blog_BlogMotive__72hVr",height:"160",width:"480",src:f.thumbnailUrl,alt:n(r)("welcomeScreen.blog.thumbnail.alt",{title:f.title})},null,8,so)]),k("span",ro,p(f.title),1),k("span",co,[l(Va,{source:f.perex},null,8,["source"])]),k("span",uo,p(n(r)("welcomeScreen.blog.button.read")),1)],8,lo))),128))]),mo,k("ul",vo,[l(h,{keypath:"welcomeScreen.link.evitaDBDocumentation.text",tag:"li"},{link:o(()=>[k("a",po,p(n(r)("welcomeScreen.link.evitaDBDocumentation.link")),1)]),_:1}),l(h,{keypath:"welcomeScreen.link.evitaLabGitHub.text",tag:"li"},{link:o(()=>[k("a",fo,p(n(r)("welcomeScreen.link.evitaLabGitHub.link")),1)]),_:1}),l(h,{keypath:"welcomeScreen.link.discord.text",tag:"li"},{link:o(()=>[k("a",go,p(n(r)("welcomeScreen.link.discord.link")),1)]),_:1}),k("li",null,[k("a",_o,p(n(r)("welcomeScreen.link.submitIssue")),1)])])])])}}});const ho=F(bo,[["__scopeId","data-v-70fa2ac3"]]),yo=["innerHTML"],wo=["innerHTML"],Co=["innerHTML"],Vo=B({__name:"TabSharedDialog",props:{tabRequest:{}},emits:["resolve"],setup(e,{emit:d}){const r=e,i=pe(),{t:a}=P();function t(){i.createTab(r.tabRequest),d("resolve")}function b(){d("resolve")}return(h,f)=>(w(),T(X,{"model-value":!0,"max-width":"36rem","onUpdate:modelValue":b},{default:o(()=>[l(j,{class:"py-8 px-4"},{default:o(()=>[l(he,null,{default:o(()=>[_(p(n(a)("tabShare.sharedDialog.title")),1)]),_:1}),l(Y,null,{default:o(()=>[h.tabRequest.initialData!=null?(w(),M("span",{key:0,innerHTML:n(a)("tabShare.sharedDialog.text.withoutInitialData")},null,8,yo)):(w(),M("span",{key:1,innerHTML:n(a)("tabShare.sharedDialog.text.withInitialData")},null,8,wo))]),_:1}),h.tabRequest.initialData!=null?(w(),T(Y,{key:0},{default:o(()=>[l(ka,{icon:"mdi-alert-outline",type:"warning"},{default:o(()=>[k("span",{innerHTML:n(a)("tabShare.sharedDialog.warning.potentiallyUnsafe")},null,8,Co)]),_:1})]),_:1})):W("",!0),l(Ge,{class:"px-6"},{default:o(()=>[l(He),l(I,{variant:"tonal",onClick:b},{default:o(()=>[_(p(n(a)("tabShare.sharedDialog.button.reject")),1)]),_:1}),l(I,{variant:"outlined","prepend-icon":"mdi-check",onClick:t,class:"ml-4"},{default:o(()=>[_(p(n(a)("tabShare.sharedDialog.button.accept")),1)]),_:1})]),_:1})]),_:1})]),_:1}))}}),ko={key:1,style:{position:"relative"}},So=B({__name:"WorkspaceTabWindowList",setup(e){const d=Sa(),r=ge(),i=Ne(),a=pe(),t=Ta(),b=xa(),h=E(!1),f=E(!1),v=E(),s=E(a.getTabDefinitions());K(s,()=>{const y=a.getTheNewTab();y&&(m.value=y.id,a.markTabAsVisited(y.id))},{deep:!0});const m=E();K(m,(y,x)=>{y!=null?i.setContext(y):x!=null&&i.resetActivatedContext()});function g(y){if(m.value==null)return;let u=a.getTabIndex(m.value)+y;u<0?u=s.value.length-1:u>=s.value.length&&(u=0),m.value=s.value[u].id}function V(y){const x=s.value.length,u=s.value.findIndex(C=>C.id===m.value),c=s.value.findIndex(C=>C.id===y);a.destroyTab(y),i.deleteContext(y),s.value.length===0?m.value=null:c===u&&c===x-1?m.value=s.value[c-1].id:c===u&&c<x-1&&(m.value=s.value[c].id)}async function S(){const y=d.query.demoSnippetRequest;if(y!=null)try{return await t.resolve(y)}catch(x){r.error(x)}}async function U(){const y=d.query.sharedTab;if(y!=null)try{return await b.resolve(y)}catch(x){r.error(x)}}function N(){try{let y=!1;a.restoreTabsFromLastSession()&&(y=!0),a.restoreTabHistory()&&(y=!0),y&&r.info("Your last session has been restored.")}catch(y){console.error(y),r.warning("Failed to fully restore your last session.")}}function D(){a.storeOpenedTabs(),a.storeTabHistory()}return S().then(y=>(y!=null&&(h.value=!0,a.createTab(y)),U())).then(y=>{y!=null&&(h.value=!0,v.value=y,f.value=!0),h.value||N()}),ve(()=>{i.bindGlobal(H.System_Editor_PreviousTab,()=>g(-1)),i.bindGlobal(H.System_Editor_NextTab,()=>g(1)),i.bindGlobal(H.System_Editor_CloseTab,()=>{m.value!=null&&V(m.value)}),i.bindGlobal(H.System_Editor_CloseAllTabs,()=>a.destroyAllTabs())}),Me(()=>{i.unbindGlobal(H.System_Editor_PreviousTab),i.unbindGlobal(H.System_Editor_NextTab),i.unbindGlobal(H.System_Editor_CloseTab),i.unbindGlobal(H.System_Editor_CloseAllTabs)}),window.addEventListener("beforeunload",()=>{h.value||D()}),(y,x)=>(w(),M(Q,null,[s.value.length>0?(w(),T(Ba,{key:0,density:"compact",elevation:"0"},{default:o(()=>[l(Da,{modelValue:m.value,"onUpdate:modelValue":x[0]||(x[0]=u=>m.value=u)},{default:o(()=>[(w(!0),M(Q,null,re(s.value,u=>(w(),T(La,{key:u.id,value:u.id,"prepend-icon":u.icon,onMousedown:Ue(c=>V(u.id),["middle"]),class:"lab-tab"},{default:o(()=>[k("span",null,[_(p(n(Hn)(u.title,30))+" ",1),u.title.length>30?(w(),T(A,{key:0,activator:"parent"},{default:o(()=>[_(p(u.title),1)]),_:2},1024)):W("",!0)]),l(I,{icon:"",variant:"plain",density:"compact",class:"ml-3",onClick:Ue(c=>V(u.id),["stop"])},{default:o(()=>[l(me,null,{default:o(()=>[_("mdi-close")]),_:1}),l(Pe,{command:n(H).System_Editor_CloseTab},{default:o(()=>[_(" Close tab ")]),_:1},8,["command"])]),_:2},1032,["onClick"])]),_:2},1032,["value","prepend-icon","onMousedown"]))),128))]),_:1},8,["modelValue"])]),_:1})):W("",!0),l(qa,{scrollable:!1,class:"lab-editor"},{default:o(()=>[s.value.length>0?(w(),T(Ea,{key:0,modelValue:m.value,"onUpdate:modelValue":x[1]||(x[1]=u=>m.value=u)},{default:o(()=>[(w(!0),M(Q,null,re(s.value,u=>(w(),T(Ua,{key:u.id,value:u.id,transition:!1,"reverse-transition":!1,class:"window-item"},{default:o(()=>[l(zn,{component:u.component,"component-props":u.componentProps(),onDataUpdate:c=>n(a).replaceTabData(u.id,c)},null,8,["component","component-props","onDataUpdate"])]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])):(w(),M("div",ko,[l(ho)]))]),_:1}),v.value?(w(),T(Vo,{key:1,"tab-request":v.value,onResolve:x[2]||(x[2]=u=>v.value=void 0)},null,8,["tab-request"])):W("",!0)],64))}});const To=F(So,[["__scopeId","data-v-5405a18f"]]),Lo=B({__name:"MainView",setup(e){const d=E(ie.Explorer);return(r,i)=>(w(),M(Q,null,[l(sn,{panel:d.value,"onUpdate:panel":i[0]||(i[0]=a=>d.value=a)},null,8,["panel"]),l(Gn,{"model-value":d.value===n(ie).Explorer},null,8,["model-value"]),l(To)],64))}});export{Lo as default};
