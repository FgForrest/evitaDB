/*
 *
 *                         _ _        ____  ____
 *               _____   _(_) |_ __ _|  _ \| __ )
 *              / _ \ \ / / | __/ _` | | | |  _ \
 *             |  __/\ V /| | || (_| | |_| | |_) |
 *              \___| \_/ |_|\__\__,_|____/|____/
 *
 *   Copyright (c) 2024
 *
 *   Licensed under the Business Source License, Version 1.1 (the "License");
 *   you may not use this file except in compliance with the License.
 *   You may obtain a copy of the License at
 *
 *   https://github.com/FgForrest/evitaDB/blob/master/LICENSE
 *
 *   Unless required by applicable law or agreed to in writing, software
 *   distributed under the License is distributed on an "AS IS" BASIS,
 *   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 *   See the License for the specific language governing permissions and
 *   limitations under the License.
 */

import{p as ne,h as I,s as P,i as C,j as ct,k as G,l as X,n as we,q as dt,b as re,t as He,v as vt,x as Se,y as oe,d as ue,V as Pe,e as i,z as H,A as mt,m as ke,B as pt,C as ft,D as ht,E as We,F as bt,G as _t,H as gt,I as yt,J as wt,a as St,u as kt,c as Tt,K as Vt,L as Me,M as Lt,N as Ct,O as It,P as Et,Q as xt,R as Rt,S as Bt,T as Ut,U as $t,W as Dt,X as A,Y as D,Z as Te,$ as Z,a0 as J,a1 as $,a2 as Ve,o as p,f as T,w as l,a3 as ce,a4 as Y,a5 as g,a6 as O,a7 as At,a8 as B,a9 as Le,aa as M,ab as de,ac as Fe,ad as qt,ae as Ye,_ as Q,af as te,ag as Pt,ah as ze,ai as V,aj as R,ak as z,al as ve,am as me,an as Ce,ao as K,ap as Qe,aq as be,ar as _e,as as Mt,at as je,au as Nt,av as ee,aw as Ke,ax as ae,ay as Xe,az as Gt,aA as ge,aB as ye,aC as Ot,aD as Ze,aE as Je,aF as Ie,aG as le,aH as se,aI as Ee,aJ as xe,aK as Re,aL as Ht,aM as he,aN as Ne,aO as Wt,aP as Ft,aQ as Yt,aR as zt,aS as Qt,aT as jt,aU as Kt,aV as Xt,aW as Zt,aX as Jt,aY as ea,aZ as ta,a_ as aa,a$ as na,b0 as oa,b1 as la}from"./index-553d2b69.js";import{a as et,u as tt,b as sa}from"./layout-7b3b7988.js";const ia=ne({scrollTarget:{type:String},scrollThreshold:{type:[String,Number],default:300}},"scroll");function ra(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{canScroll:c}=s;let o=0;const t=I(null),a=P(0),r=P(0),u=P(0),v=P(!1),b=P(!1),n=C(()=>Number(e.scrollThreshold)),d=C(()=>ct((n.value-a.value)/n.value||0)),w=()=>{const _=t.value;!_||c&&!c.value||(o=a.value,a.value="window"in _?_.pageYOffset:_.scrollTop,b.value=a.value<o,u.value=Math.abs(a.value-n.value))};return G(b,()=>{r.value=r.value||a.value}),G(v,()=>{r.value=0}),X(()=>{G(()=>e.scrollTarget,_=>{var U;const L=_?document.querySelector(_):window;L&&L!==t.value&&((U=t.value)==null||U.removeEventListener("scroll",w),t.value=L,t.value.addEventListener("scroll",w,{passive:!0}))},{immediate:!0})}),we(()=>{var _;(_=t.value)==null||_.removeEventListener("scroll",w)}),c&&G(c,w,{immediate:!0}),{scrollThreshold:n,currentScroll:a,currentThreshold:u,isScrollActive:v,scrollRatio:d,isScrollingUp:b,savedScroll:r}}const ua=ne({scrollBehavior:String,modelValue:{type:Boolean,default:!0},location:{type:String,default:"top",validator:e=>["top","bottom"].includes(e)},...dt(),...et(),...ia(),height:{type:[Number,String],default:64}},"VAppBar"),ca=re()({name:"VAppBar",props:ua(),emits:{"update:modelValue":e=>!0},setup(e,s){let{slots:c}=s;const o=I(),t=He(e,"modelValue"),a=C(()=>{var S;const m=new Set(((S=e.scrollBehavior)==null?void 0:S.split(" "))??[]);return{hide:m.has("hide"),inverted:m.has("inverted"),collapse:m.has("collapse"),elevate:m.has("elevate"),fadeImage:m.has("fade-image")}}),r=C(()=>{const m=a.value;return m.hide||m.inverted||m.collapse||m.elevate||m.fadeImage||!t.value}),{currentScroll:u,scrollThreshold:v,isScrollingUp:b,scrollRatio:n}=ra(e,{canScroll:r}),d=C(()=>e.collapse||a.value.collapse&&(a.value.inverted?n.value>0:n.value===0)),w=C(()=>e.flat||a.value.elevate&&(a.value.inverted?u.value>0:u.value===0)),_=C(()=>a.value.fadeImage?a.value.inverted?1-n.value:n.value:void 0),L=C(()=>{var E,y;if(a.value.hide&&a.value.inverted)return 0;const m=((E=o.value)==null?void 0:E.contentHeight)??0,S=((y=o.value)==null?void 0:y.extensionHeight)??0;return m+S});vt(C(()=>!!e.scrollBehavior),()=>{mt(()=>{a.value.hide?a.value.inverted?t.value=u.value>v.value:t.value=b.value||u.value<v.value:t.value=!0})});const{ssrBootStyles:U}=Se(),{layoutItemStyles:N}=tt({id:e.name,order:C(()=>parseInt(e.order,10)),position:oe(e,"location"),layoutSize:L,elementSize:P(void 0),active:t,absolute:oe(e,"absolute")});return ue(()=>{const[m]=Pe.filterProps(e);return i(Pe,H({ref:o,class:["v-app-bar",{"v-app-bar--bottom":e.location==="bottom"},e.class],style:[{...N.value,"--v-toolbar-image-opacity":_.value,height:void 0,...U.value},e.style]},m,{collapse:d.value,flat:w.value}),c)}),{}}}),da=ne({...ke(),...pt()},"VForm"),va=re()({name:"VForm",props:da(),emits:{"update:modelValue":e=>!0,submit:e=>!0},setup(e,s){let{slots:c,emit:o}=s;const t=ft(e),a=I();function r(v){v.preventDefault(),t.reset()}function u(v){const b=v,n=t.validate();b.then=n.then.bind(n),b.catch=n.catch.bind(n),b.finally=n.finally.bind(n),o("submit",b),b.defaultPrevented||n.then(d=>{var _;let{valid:w}=d;w&&((_=a.value)==null||_.submit())}),b.preventDefault()}return ue(()=>{var v;return i("form",{ref:a,class:["v-form",e.class],style:e.style,novalidate:!0,onReset:r,onSubmit:u},[(v=c.default)==null?void 0:v.call(c,t)])}),ht(t,a)}});const ma=ne({scrollable:Boolean,...ke(),...We({tag:"main"})},"VMain"),pa=re()({name:"VMain",props:ma(),setup(e,s){let{slots:c}=s;const{mainStyles:o}=sa(),{ssrBootStyles:t}=Se();return ue(()=>i(e.tag,{class:["v-main",{"v-main--scrollable":e.scrollable},e.class],style:[o.value,t.value,e.style]},{default:()=>{var a,r;return[e.scrollable?i("div",{class:"v-main__scroller"},[(a=c.default)==null?void 0:a.call(c)]):(r=c.default)==null?void 0:r.call(c)]}})),{}}});function fa(e){let{rootEl:s,isSticky:c,layoutItemStyles:o}=e;const t=P(!1),a=P(0),r=C(()=>{const b=typeof t.value=="boolean"?"top":t.value;return[c.value?{top:"auto",bottom:"auto",height:void 0}:void 0,t.value?{[b]:bt(a.value)}:{top:o.value.top}]});X(()=>{G(c,b=>{b?window.addEventListener("scroll",v,{passive:!0}):window.removeEventListener("scroll",v)},{immediate:!0})}),we(()=>{window.removeEventListener("scroll",v)});let u=0;function v(){const b=u>window.scrollY?"up":"down",n=s.value.getBoundingClientRect(),d=parseFloat(o.value.top??0),w=window.scrollY-Math.max(0,a.value-d),_=n.height+Math.max(a.value,d)-window.scrollY-window.innerHeight,L=parseFloat(getComputedStyle(s.value).getPropertyValue("--v-body-scroll-y"))||0;n.height<window.innerHeight-d?(t.value="top",a.value=d):b==="up"&&t.value==="bottom"||b==="down"&&t.value==="top"?(a.value=window.scrollY+n.top-L,t.value=!0):b==="down"&&_<=0?(a.value=0,t.value="bottom"):b==="up"&&w<=0&&(L?t.value!=="top"&&(a.value=-w+L+d,t.value="top"):(a.value=n.top+w,t.value="top")),u=window.scrollY}return{isStuck:t,stickyStyles:r}}const ha=100,ba=20;function Ge(e){const s=1.41421356237;return(e<0?-1:1)*Math.sqrt(Math.abs(e))*s}function Oe(e){if(e.length<2)return 0;if(e.length===2)return e[1].t===e[0].t?0:(e[1].d-e[0].d)/(e[1].t-e[0].t);let s=0;for(let c=e.length-1;c>0;c--){if(e[c].t===e[c-1].t)continue;const o=Ge(s),t=(e[c].d-e[c-1].d)/(e[c].t-e[c-1].t);s+=(t-o)*Math.abs(t),c===e.length-1&&(s*=.5)}return Ge(s)*1e3}function _a(){const e={};function s(t){Array.from(t.changedTouches).forEach(a=>{(e[a.identifier]??(e[a.identifier]=new _t(ba))).push([t.timeStamp,a])})}function c(t){Array.from(t.changedTouches).forEach(a=>{delete e[a.identifier]})}function o(t){var b;const a=(b=e[t])==null?void 0:b.values().reverse();if(!a)throw new Error(`No samples for touch id ${t}`);const r=a[0],u=[],v=[];for(const n of a){if(r[0]-n[0]>ha)break;u.push({t:n[0],d:n[1].clientX}),v.push({t:n[0],d:n[1].clientY})}return{x:Oe(u),y:Oe(v),get direction(){const{x:n,y:d}=this,[w,_]=[Math.abs(n),Math.abs(d)];return w>_&&n>=0?"right":w>_&&n<=0?"left":_>w&&d>=0?"down":_>w&&d<=0?"up":ga()}}}return{addMovement:s,endTouch:c,getVelocity:o}}function ga(){throw new Error}function ya(e){let{isActive:s,isTemporary:c,width:o,touchless:t,position:a}=e;X(()=>{window.addEventListener("touchstart",m,{passive:!0}),window.addEventListener("touchmove",S,{passive:!1}),window.addEventListener("touchend",E,{passive:!0})}),we(()=>{window.removeEventListener("touchstart",m),window.removeEventListener("touchmove",S),window.removeEventListener("touchend",E)});const r=C(()=>["left","right"].includes(a.value)),{addMovement:u,endTouch:v,getVelocity:b}=_a();let n=!1;const d=P(!1),w=P(0),_=P(0);let L;function U(f,h){return(a.value==="left"?f:a.value==="right"?document.documentElement.clientWidth-f:a.value==="top"?f:a.value==="bottom"?document.documentElement.clientHeight-f:j())-(h?o.value:0)}function N(f){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const k=a.value==="left"?(f-_.value)/o.value:a.value==="right"?(document.documentElement.clientWidth-f-_.value)/o.value:a.value==="top"?(f-_.value)/o.value:a.value==="bottom"?(document.documentElement.clientHeight-f-_.value)/o.value:j();return h?Math.max(0,Math.min(1,k)):k}function m(f){if(t.value)return;const h=f.changedTouches[0].clientX,k=f.changedTouches[0].clientY,x=25,W=a.value==="left"?h<x:a.value==="right"?h>document.documentElement.clientWidth-x:a.value==="top"?k<x:a.value==="bottom"?k>document.documentElement.clientHeight-x:j(),F=s.value&&(a.value==="left"?h<o.value:a.value==="right"?h>document.documentElement.clientWidth-o.value:a.value==="top"?k<o.value:a.value==="bottom"?k>document.documentElement.clientHeight-o.value:j());(W||F||s.value&&c.value)&&(n=!0,L=[h,k],_.value=U(r.value?h:k,s.value),w.value=N(r.value?h:k),v(f),u(f))}function S(f){const h=f.changedTouches[0].clientX,k=f.changedTouches[0].clientY;if(n){if(!f.cancelable){n=!1;return}const W=Math.abs(h-L[0]),F=Math.abs(k-L[1]);(r.value?W>F&&W>3:F>W&&F>3)?(d.value=!0,n=!1):(r.value?F:W)>3&&(n=!1)}if(!d.value)return;f.preventDefault(),u(f);const x=N(r.value?h:k,!1);w.value=Math.max(0,Math.min(1,x)),x>1?_.value=U(r.value?h:k,!0):x<0&&(_.value=U(r.value?h:k,!1))}function E(f){if(n=!1,!d.value)return;u(f),d.value=!1;const h=b(f.changedTouches[0].identifier),k=Math.abs(h.x),x=Math.abs(h.y);(r.value?k>x&&k>400:x>k&&x>3)?s.value=h.direction===({left:"right",right:"left",top:"down",bottom:"up"}[a.value]||j()):s.value=w.value>.5}const y=C(()=>d.value?{transform:a.value==="left"?`translateX(calc(-100% + ${w.value*o.value}px))`:a.value==="right"?`translateX(calc(100% - ${w.value*o.value}px))`:a.value==="top"?`translateY(calc(-100% + ${w.value*o.value}px))`:a.value==="bottom"?`translateY(calc(100% - ${w.value*o.value}px))`:j(),transition:"none"}:void 0);return{isDragging:d,dragProgress:w,dragStyles:y}}function j(){throw new Error}const wa=["start","end","left","right","top","bottom"],Sa=ne({color:String,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,modelValue:{type:Boolean,default:null},permanent:Boolean,rail:{type:Boolean,default:null},railWidth:{type:[Number,String],default:56},scrim:{type:[Boolean,String],default:!0},image:String,temporary:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},location:{type:String,default:"start",validator:e=>wa.includes(e)},sticky:Boolean,...gt(),...ke(),...yt(),...et(),...wt(),...We({tag:"nav"}),...St()},"VNavigationDrawer"),at=re()({name:"VNavigationDrawer",props:Sa(),emits:{"update:modelValue":e=>!0,"update:rail":e=>!0},setup(e,s){let{attrs:c,emit:o,slots:t}=s;const{isRtl:a}=kt(),{themeClasses:r}=Tt(e),{borderClasses:u}=Vt(e),{backgroundColorClasses:v,backgroundColorStyles:b}=Me(oe(e,"color")),{elevationClasses:n}=Lt(e),{mobile:d}=Ct(),{roundedClasses:w}=It(e),_=Et(),L=He(e,"modelValue",null,q=>!!q),{ssrBootStyles:U}=Se(),{scopeId:N}=xt(),m=I(),S=P(!1),E=C(()=>e.rail&&e.expandOnHover&&S.value?Number(e.width):Number(e.rail?e.railWidth:e.width)),y=C(()=>Rt(e.location,a.value)),f=C(()=>!e.permanent&&(d.value||e.temporary)),h=C(()=>e.sticky&&!f.value&&y.value!=="bottom");e.expandOnHover&&e.rail!=null&&G(S,q=>o("update:rail",!q)),e.disableResizeWatcher||G(f,q=>!e.permanent&&$t(()=>L.value=!q)),!e.disableRouteWatcher&&_&&G(_.currentRoute,()=>f.value&&(L.value=!1)),G(()=>e.permanent,q=>{q&&(L.value=!0)}),Bt(()=>{e.modelValue!=null||f.value||(L.value=e.permanent||!d.value)});const{isDragging:k,dragProgress:x,dragStyles:W}=ya({isActive:L,isTemporary:f,width:E,touchless:oe(e,"touchless"),position:y}),F=C(()=>{const q=f.value?0:e.rail&&e.expandOnHover?Number(e.railWidth):E.value;return k.value?q*x.value:q}),{layoutItemStyles:fe,layoutItemScrimStyles:lt}=tt({id:e.name,order:C(()=>parseInt(e.order,10)),position:y,layoutSize:F,elementSize:E,active:C(()=>L.value||k.value),disableTransitions:C(()=>k.value),absolute:C(()=>e.absolute||h.value&&typeof Be.value!="string")}),{isStuck:Be,stickyStyles:st}=fa({rootEl:m,isSticky:h,layoutItemStyles:fe}),Ue=Me(C(()=>typeof e.scrim=="string"?e.scrim:null)),it=C(()=>({...k.value?{opacity:x.value*.2,transition:"none"}:void 0,...lt.value}));Ut({VList:{bgColor:"transparent"}});function rt(){S.value=!0}function ut(){S.value=!1}return ue(()=>{const q=t.image||e.image;return i(A,null,[i(e.tag,H({ref:m,onMouseenter:rt,onMouseleave:ut,class:["v-navigation-drawer",`v-navigation-drawer--${y.value}`,{"v-navigation-drawer--expand-on-hover":e.expandOnHover,"v-navigation-drawer--floating":e.floating,"v-navigation-drawer--is-hovering":S.value,"v-navigation-drawer--rail":e.rail,"v-navigation-drawer--temporary":f.value,"v-navigation-drawer--active":L.value,"v-navigation-drawer--sticky":h.value},r.value,v.value,u.value,n.value,w.value,e.class],style:[b.value,fe.value,W.value,U.value,st.value,e.style]},N,c),{default:()=>{var $e,De,Ae,qe;return[q&&i("div",{key:"image",class:"v-navigation-drawer__img"},[t.image?($e=t.image)==null?void 0:$e.call(t,{image:e.image}):i("img",{src:e.image,alt:""},null)]),t.prepend&&i("div",{class:"v-navigation-drawer__prepend"},[(De=t.prepend)==null?void 0:De.call(t)]),i("div",{class:"v-navigation-drawer__content"},[(Ae=t.default)==null?void 0:Ae.call(t)]),t.append&&i("div",{class:"v-navigation-drawer__append"},[(qe=t.append)==null?void 0:qe.call(t)])]}}),i(Dt,{name:"fade-transition"},{default:()=>[f.value&&(k.value||L.value)&&!!e.scrim&&i("div",H({class:["v-navigation-drawer__scrim",Ue.backgroundColorClasses.value],style:[it.value,Ue.backgroundColorStyles.value],onClick:()=>L.value=!1},N),null)]})])}),{isStuck:Be}}}),ka="/lab/logo/evitalab-logo-mini.png?raw=true",Ta="/lab/documentation.svg",Va="/lab/discord.svg",La=D({__name:"LabPanelManageMenu",setup(e){const s=Te(),c=Z(),o=J(),t=[{type:"subheader",title:"Manage"},{title:"Keymap",value:"keymap",command:$.System_Keymap,props:{prependIcon:"mdi-keyboard-outline"}},{type:"subheader",title:"evitaLab Help"},{title:"evitaLab GitHub",value:"evitaLabGithub",props:{prependIcon:"mdi-github"}},{title:"Discuss evitaLab",value:"discussEvitaLab",props:{prependIcon:"mdi-forum-outline"}},{title:"Report evitaLab issue",value:"reportEvitaLabIssue",props:{prependIcon:"mdi-bug"}},{type:"subheader",title:"evitaDB Help"},{title:"evitaDB Documentation",value:"evitaDBDocumentation",props:{prependIcon:"mdi-book-open-variant"}},{title:"evitaDB GitHub",value:"evitaDBGithub",props:{prependIcon:"mdi-github"}},{title:"Discuss evitaDB",value:"discussEvitaDB",props:{prependIcon:"mdi-forum-outline"}},{title:"Report evitaDB issue",value:"reportEvitaDBIssue",props:{prependIcon:"mdi-bug"}}];function a(){c.createTab(qt.createNew())}function r(u){if(u.length>0)switch(u[0]){case"keymap":a();break;case"evitaLabGithub":window.open("https://github.com/lukashornych/evitalab","_blank");break;case"discussEvitaLab":window.open("https://discord.gg/VsNBWxgmSw","_blank");break;case"reportEvitaLabIssue":window.open("https://github.com/lukashornych/evitalab/issues/new","_blank");break;case"evitaDBDocumentation":window.open("https://evitadb.io/documentation","_blank");break;case"evitaDBGithub":window.open("https://github.com/FgForrest/evitaDB","_blank");break;case"discussEvitaDB":window.open("https://discord.gg/VsNBWxgmSw","_blank");break;case"reportEvitaDBIssue":window.open("https://github.com/FgForrest/evitaDB/issues/new","_blank");break;default:o.error(new Ye(void 0,`Unknown manage option ${u[0]}`))}}return X(()=>{s.bindGlobal($.System_Keymap,a)}),Ve(()=>{s.unbindGlobal($.System_Keymap)}),(u,v)=>(p(),T(Fe,null,{activator:l(({props:b})=>[i(O,H(b,{icon:"",variant:"text",class:"manage-button"}),{default:l(()=>[ce(u.$slots,"default",{},void 0,!0),i(Y,{activator:"parent"},{default:l(()=>[g(" Manage evitaLab ")]),_:1})]),_:2},1040)]),default:l(()=>[i(de,{items:t,"onUpdate:selected":r},{title:l(({item:b})=>[i(At,null,{default:l(()=>[g(B(b.title)+" ",1),b.command!=null?(p(),T(Le,{key:0,command:b.command},{default:l(()=>[g(B(b.title),1)]),_:2},1032,["command"])):M("",!0)]),_:2},1024)]),_:1})]),_:3}))}});const Ca=Q(La,[["__scopeId","data-v-9fa6ba83"]]),nt=e=>(ve("data-v-fb4ad121"),e=e(),me(),e),Ia={class:"lab-nav-links"},Ea={href:"https://evitadb.io/documentation",target:"_blank"},xa=nt(()=>V("img",{src:Ta,alt:"evitaDB Documentation"},null,-1)),Ra={href:"https://discord.gg/VsNBWxgmSw",target:"_blank"},Ba=nt(()=>V("img",{src:Va,alt:"Discord icon"},null,-1)),Ua=D({__name:"LabPanel",props:{panel:{}},emits:["update:panel"],setup(e,{emit:s}){const c=e,o=Te(),t=[{title:"Explorer",value:te.Explorer,prependIcon:"mdi-connection",command:$.System_Panels_ConnectionsExplorer}];function a(r){r.value?s("update:panel",r.id):s("update:panel",null)}return X(()=>{o.bindGlobal($.System_Panels_ConnectionsExplorer,()=>{c.panel===te.Explorer?s("update:panel",null):s("update:panel",te.Explorer)})}),Ve(()=>{o.unbindGlobal($.System_Panels_ConnectionsExplorer)}),(r,u)=>(p(),T(at,{permanent:"",rail:"",class:"bg-primary-dark"},{prepend:l(()=>[i(Ca,null,{default:l(()=>[i(Pt,{size:"30px"},{default:l(()=>[i(ze,{alt:"evitaLab Logo",width:"30px",height:"30px",src:ka})]),_:1})]),_:1})]),append:l(()=>[V("ul",Ia,[V("li",null,[V("a",Ea,[xa,i(Y,{activator:"parent"},{default:l(()=>[g(" Open evitaDB documentation ")]),_:1})])]),V("li",null,[V("a",Ra,[Ba,i(Y,{activator:"parent"},{default:l(()=>[g(" Discuss on Discord ")]),_:1})])])])]),default:l(()=>[i(de,{density:"compact",nav:"",selected:[r.panel],"onClick:select":a,class:"navigation-items"},{default:l(()=>[(p(),R(A,null,z(t,v=>i(Ce,{key:v.value,value:v.value},{default:l(()=>[i(K,null,{default:l(()=>[g(B(v.prependIcon),1)]),_:2},1024),i(Le,{command:v.command},{default:l(()=>[g(B(v.title),1)]),_:2},1032,["command"])]),_:2},1032,["value"])),64))]),_:1},8,["selected"])]),_:1}))}});const $a=Q(Ua,[["__scopeId","data-v-fb4ad121"]]),Da=e=>(ve("data-v-1bfb882e"),e=e(),me(),e),Aa={class:"tree-view-item__content"},qa={class:"text-truncate"},Pa=Da(()=>V("span",{class:"text-disabled"}," No items found ",-1)),Ma=D({__name:"VTreeViewItem",props:{openable:{type:Boolean,default:!1},isOpen:{type:Boolean,default:!1},prependIcon:{},loading:{type:Boolean,default:!1},actions:{default:()=>[]}},emits:["click:action"],setup(e,{emit:s}){const c=e,o=I(!1);function t(){c.actions&&c.actions.length>0&&(o.value=!0)}return(a,r)=>(p(),T(Ce,{"prepend-icon":null,"append-icon":null,onContextmenu:be(t,["prevent"])},{default:l(()=>[V("div",Aa,[a.openable?(p(),T(K,{key:0},{default:l(()=>[g(B(a.isOpen?"mdi-chevron-up":"mdi-chevron-down"),1)]),_:1})):(p(),T(K,{key:1})),a.loading?(p(),T(Qe,{key:2})):(p(),T(K,{key:3},{default:l(()=>[g(B(a.prependIcon),1)]),_:1})),V("span",qa,[ce(a.$slots,"default",{},()=>[Pa],!0)]),a.actions&&a.actions.length>0?(p(),T(Fe,{key:4,"menu-items":a.actions,modelValue:o.value,"onUpdate:modelValue":r[1]||(r[1]=u=>o.value=u)},{activator:l(({props:u})=>[i(K,H(u,{class:"text-gray-light"}),{default:l(()=>[g(" mdi-dots-vertical ")]),_:2},1040)]),default:l(()=>[i(de,{density:"compact",items:a.actions,"onClick:select":r[0]||(r[0]=u=>a.$emit("click:action",u.id))},null,8,["items"])]),_:1},8,["menu-items","modelValue"])):M("",!0)])]),_:3},8,["onContextmenu"]))}});const ie=Q(Ma,[["__scopeId","data-v-1bfb882e"]]),Na=D({__name:"LabExplorerCollectionItem",props:{entitySchema:{}},setup(e){const s=e,c=I([{value:"view-entities",title:"View entities",props:{prependIcon:"mdi-table"}},{value:"view-schema",title:"View schema",props:{prependIcon:"mdi-file-code"}}]),o=Z(),t=_e("connection"),a=_e("catalogSchema");function r(){o.createTab(Mt.createNew(t,a.value.name,s.entitySchema.name,void 0,!0))}function u(v){switch(v){case"view-entities":r();break;case"view-schema":o.createTab(je.createNew(t,new Nt(a.value.name,s.entitySchema.name)));break}}return(v,b)=>(p(),T(ie,{"prepend-icon":"mdi-list-box-outline",actions:c.value,onClick:r,"onClick:action":u,class:"text-gray-light text-sm-body-2"},{default:l(()=>[g(B(v.entitySchema.name)+" ",1),i(Y,{activator:"parent"},{default:l(()=>[g(B(v.entitySchema.name),1)]),_:1})]),_:1},8,["actions"]))}}),Ga={},Oa=V("span",{class:"pl-8 text-disabled"}," No items found ",-1);function Ha(e,s){return p(),T(Ce,null,{default:l(()=>[Oa]),_:1})}const ot=Q(Ga,[["render",Ha]]),Wa={key:0},Fa=D({__name:"LabExplorerCatalogItem",props:{catalog:{}},setup(e){const s=e,c=I([{value:"open-evitaql-console",title:"Open evitaQL console",props:{prependIcon:"mdi-variable"}},{value:"open-graphql-data-api-console",title:"Open GraphQL Data API console",props:{prependIcon:"mdi-graphql"}},{value:"open-graphql-schema-api-console",title:"Open GraphQL Schema API console",props:{prependIcon:"mdi-graphql"}},{value:"view-schema",title:"View schema",props:{prependIcon:"mdi-file-code"}}]),o=ee(),t=Z(),a=J(),r=_e("connection"),u=I();Ke("catalogSchema",u);const v=I(!1);async function b(){if(!(u.value!==void 0||s.catalog.corrupted)){v.value=!0;try{u.value=await o.getCatalogSchema(r,s.catalog.name)}catch(d){a.error(d)}v.value=!1}}function n(d){switch(d){case"open-evitaql-console":t.createTab(Ot.createNew(r,s.catalog.name));break;case"open-graphql-data-api-console":t.createTab(ge.createNew(r,s.catalog.name,ye.Data));break;case"open-graphql-schema-api-console":t.createTab(ge.createNew(r,s.catalog.name,ye.Schema));break;case"view-schema":t.createTab(je.createNew(r,new Gt(s.catalog.name)));break}}return(d,w)=>(p(),T(Xe,{value:`${ae(r).name}|${d.catalog.name}`},{activator:l(({isOpen:_,props:L})=>[d.catalog.corrupted?(p(),T(ie,H({key:1},L,{"prepend-icon":"mdi-menu",class:"text-red"}),{default:l(()=>[g(B(d.catalog.name)+" ",1),i(Y,{activator:"parent"},{default:l(()=>[g(" This catalog couldn't be loaded because it's corrupted. ")]),_:1})]),_:2},1040)):(p(),T(ie,H({key:0},L,{openable:"","is-open":_,"prepend-icon":"mdi-menu",loading:v.value,actions:c.value,onClick:b,"onClick:action":n,class:"font-weight-bold"}),{default:l(()=>[g(B(d.catalog.name)+" ",1),i(Y,{activator:"parent"},{default:l(()=>[g(B(d.catalog.name),1)]),_:1})]),_:2},1040,["is-open","loading","actions"]))]),default:l(()=>[!d.catalog.corrupted&&u.value!==void 0?(p(),R("div",Wa,[Object.values(u.value.entitySchemas).length>0?(p(!0),R(A,{key:0},z(Object.values(u.value.entitySchemas),_=>(p(),T(Na,{key:_.name,"entity-schema":_},null,8,["entity-schema"]))),128)):(p(),T(ot,{key:1}))])):M("",!0)]),_:1},8,["value"]))}}),Ya=D({__name:"LabExplorerConnectionRemoveDialog",props:{modelValue:{type:Boolean},connection:{}},emits:["update:modelValue"],setup(e,{emit:s}){const c=e,o=ee(),t=J();function a(){s("update:modelValue",!1)}function r(){try{o.removeConnection(c.connection.id)}catch(u){t.error(u);return}t.success("Connection removed."),s("update:modelValue",!1)}return(u,v)=>(p(),T(Re,{"model-value":u.modelValue,"max-width":"30rem","onUpdate:modelValue":v[0]||(v[0]=b=>u.$emit("update:modelValue",b))},{activator:l(({props:b})=>[ce(u.$slots,"activator",Ze(Je(b)))]),default:l(()=>[i(Ie,{class:"py-8 px-4"},{default:l(()=>[i(le,null,{default:l(()=>[g("Remove connection")]),_:1}),i(se,{class:"mb-4"},{default:l(()=>[g(" Are you sure you want to remove the connection "),V("strong",null,B(u.connection.name),1),g("? ")]),_:1}),i(Ee,null,{default:l(()=>[i(xe),i(O,{onClick:a,variant:"tonal"},{default:l(()=>[g(" Cancel ")]),_:1}),i(O,{variant:"outlined","prepend-icon":"mdi-delete",onClick:r},{default:l(()=>[g(" Remove ")]),_:1})]),_:1})]),_:1})]),_:3},8,["model-value"]))}}),za={key:0},Qa=D({__name:"LabExplorerConnectionItem",props:{connection:{}},setup(e){const s=e,c=Z(),o=ee(),t=J();Ke("connection",Ht(s.connection));const a=I([{value:"open-graphql-system-api-console",title:"Open GraphQL System API console",props:{prependIcon:"mdi-graphql"}}]);!o.isReadOnly()&&!s.connection.preconfigured&&a.value.push({value:"remove",title:"Remove connection",props:{prependIcon:"mdi-delete"}});const r=I(!1),u=I(),v=I(!1);async function b(){if(u.value===void 0){v.value=!0;try{u.value=await o.getCatalogs(s.connection)}catch(d){t.error(d)}v.value=!1}}function n(d,w){switch(d){case"open-graphql-system-api-console":c.createTab(ge.createNew(s.connection,"system",ye.System));break;case"edit":throw new Ye(void 0,"Not implemented yet.");case"remove":r.value=!0;break}}return(d,w)=>(p(),T(Xe,{value:d.connection.name},{activator:l(({isOpen:_,props:L})=>[i(ie,H(L,{openable:"","is-open":_,"prepend-icon":"mdi-power-plug-outline",loading:v.value,actions:a.value,onClick:b,"onClick:action":n,class:"font-weight-bold"}),{default:l(()=>[g(B(d.connection.name)+" ",1),i(Y,{activator:"parent"},{default:l(()=>[g(B(d.connection.name),1)]),_:1})]),_:2},1040,["is-open","loading","actions"])]),default:l(()=>[u.value!==void 0?(p(),R("div",za,[u.value.length>0?(p(!0),R(A,{key:0},z(u.value,_=>(p(),T(Fa,{key:_.name,catalog:_},null,8,["catalog"]))),128)):(p(),T(ot,{key:1}))])):M("",!0),i(Ya,{modelValue:r.value,"onUpdate:modelValue":w[0]||(w[0]=_=>r.value=_),connection:d.connection},null,8,["modelValue","connection"])]),_:1},8,["value"]))}}),ja=D({__name:"LabExplorerConnectionEditor",props:{modelValue:{type:Boolean},connection:{default:void 0}},emits:["update:modelValue"],setup(e,{emit:s}){const c=e,o=ee(),t=J(),a=[m=>m?!0:"Name of connection is required.",m=>o.isConnectionExists(m)?"Connection with this name already exists.":!0],r=[m=>m?!0:"evitaLab API URL is required.",m=>{try{return new URL(m),!0}catch{return"evitaLab API URL is not a valid URL."}},async m=>await w()?(n.value.labApiUrlTested=1,!0):(n.value.labApiUrlTested=2,"evitaLab API URL is not reachable.")],u=[m=>m?!0:"GraphQL API URL is required.",m=>{try{return new URL(m),!0}catch{return"GraphQL API URL is not a valid URL."}},async m=>await _()?(n.value.gqlUrlTested=1,!0):(n.value.gqlUrlTested=2,"GraphQL API URL is not reachable.")],v=I(null),b=C(()=>c.connection?1:0),n=I({name:"",labApiUrl:"",labApiUrlTested:0,gqlUrl:"",gqlUrlTested:0});function d(m){switch(m){case 0:return null;case 1:return"mdi-check-circle-outline";case 2:return"mdi-close-circle-outline"}}async function w(){try{return(await Ne.get(n.value.labApiUrl+"/system/liveness").json()).liveness||!1}catch{return!1}}async function _(){var m;try{const S=await Ne.post(n.value.gqlUrl+"/system",{headers:{"Content-Type":"application/json"},body:JSON.stringify({query:`
                    {
                        liveness
                    }
                `})}).json();return((m=S==null?void 0:S.data)==null?void 0:m.liveness)||!1}catch{return!1}}async function L(){let m=!0;return await w()?n.value.labApiUrlTested=1:(m=!1,n.value.labApiUrlTested=2),await _()?n.value.gqlUrlTested=1:(m=!1,n.value.gqlUrlTested=2),m?t.success("Successfully connected."):t.error("Connection test failed."),m}function U(){v.value.reset(),n.value={name:"",labApiUrl:"",labApiUrlTested:0,gqlUrl:"",gqlUrlTested:0},s("update:modelValue",!1)}async function N(){const{valid:m}=await v.value.validate();if(m){try{o.addConnection(new Wt(void 0,n.value.name,!1,n.value.labApiUrl,"https://localhost:5555/rest",n.value.gqlUrl))}catch(S){t.error(S);return}v.value.reset(),s("update:modelValue",!1)}}return(m,S)=>(p(),T(Re,{"model-value":m.modelValue,"onUpdate:modelValue":S[3]||(S[3]=E=>m.$emit("update:modelValue",E)),persistent:"","max-width":"36rem"},{activator:l(({props:E})=>[ce(m.$slots,"activator",Ze(Je(E)))]),default:l(()=>[i(Ie,{class:"py-8 px-4"},{default:l(()=>[b.value===0?(p(),T(le,{key:0},{default:l(()=>[g("Add connection")]),_:1})):M("",!0),b.value===1?(p(),T(le,{key:1},{default:l(()=>[g("Edit connection")]),_:1})):M("",!0),i(se,null,{default:l(()=>[i(va,{ref_key:"form",ref:v,"validate-on":"submit"},{default:l(()=>[i(he,{modelValue:n.value.name,"onUpdate:modelValue":S[0]||(S[0]=E=>n.value.name=E),label:"Connection name",placeholder:"evitaDB",variant:"solo-filled",rules:a,required:""},null,8,["modelValue"]),i(he,{modelValue:n.value.labApiUrl,"onUpdate:modelValue":S[1]||(S[1]=E=>n.value.labApiUrl=E),label:"evitaLab API URL",placeholder:"https://{evitadb-server}:5555/lab/api",variant:"solo-filled",required:"",rules:r,"append-inner-icon":d(n.value.labApiUrlTested)},null,8,["modelValue","append-inner-icon"]),i(he,{modelValue:n.value.gqlUrl,"onUpdate:modelValue":S[2]||(S[2]=E=>n.value.gqlUrl=E),label:"GraphQL API URL",placeholder:"https://{evitadb-server}:5555/gql",variant:"solo-filled",required:"",rules:u,"append-inner-icon":d(n.value.gqlUrlTested)},null,8,["modelValue","append-inner-icon"])]),_:1},512)]),_:1}),i(Ee,{class:"px-6"},{default:l(()=>[i(O,{variant:"plain","prepend-icon":"mdi-connection",onClick:L},{default:l(()=>[g(" Test connection ")]),_:1}),i(xe),i(O,{variant:"tonal",onClick:U},{default:l(()=>[g(" Cancel ")]),_:1}),i(O,{variant:"outlined","prepend-icon":"mdi-content-save",onClick:N,class:"ml-4"},{default:l(()=>[g(" Save ")]),_:1})]),_:1})]),_:1})]),_:3},8,["model-value"]))}}),Ka={key:0,class:"pa-2"},Xa=D({__name:"LabExplorer",props:{modelValue:{type:Boolean}},emits:["update:modelValue"],setup(e,{emit:s}){const c=ee(),o=I(!1),t=C(()=>c.getConnections());return(a,r)=>(p(),T(at,{permanent:"","model-value":a.modelValue,"onUpdate:modelValue":r[2]||(r[2]=u=>a.$emit("update:modelValue",u)),class:"bg-primary"},{append:l(()=>[ae(c).isReadOnly()?M("",!0):(p(),R("div",Ka,[i(ja,{modelValue:o.value,"onUpdate:modelValue":r[1]||(r[1]=u=>o.value=u)},{activator:l(({props:u})=>[i(O,H({"prepend-icon":"mdi-plus",block:"",variant:"outlined"},u,{onClick:r[0]||(r[0]=v=>o.value=!0)}),{default:l(()=>[g(" Add connection ")]),_:2},1040)]),_:1},8,["modelValue"])]))]),default:l(()=>[i(de,{density:"compact",nav:""},{default:l(()=>[i(Ft,{class:"text-gray-light text-sm-body-2 font-weight-medium"},{default:l(()=>[g("Connections Explorer")]),_:1}),(p(!0),R(A,null,z(t.value,u=>(p(),T(Qa,{key:u.name,connection:u},null,8,["connection"]))),128))]),_:1})]),_:1},8,["model-value"]))}}),Za=e=>(ve("data-v-13c41550"),e=e(),me(),e),Ja={class:"loading-screen"},en={class:"loading-screen-info"},tn=Za(()=>V("span",null,"Loading, please wait ...",-1)),an=D({__name:"LabEditorTabLoadingScreen",setup(e){return(s,c)=>(p(),R("div",Ja,[V("div",en,[i(Qe,{size:48}),tn])]))}});const nn=Q(an,[["__scopeId","data-v-13c41550"]]),on=D({__name:"LabEditorTabWindow",props:{component:{},componentProps:{}},emits:["dataUpdate"],setup(e,{emit:s}){const c=I(!1);return(o,t)=>(p(),R(A,null,[(p(),T(jt,null,[Yt((p(),T(Qt(o.component),H(o.componentProps,{onReady:t[0]||(t[0]=a=>c.value=!0),onDataUpdate:t[1]||(t[1]=a=>s("dataUpdate",a))}),null,16)),[[zt,c.value]])],1024)),c.value?M("",!0):(p(),T(nn,{key:0}))],64))}});function ln(e,s){return e.length<=s?e:e.substring(0,s-3)+"..."}const sn="/lab/logo/evitalab-logo-representative.svg",pe=e=>(ve("data-v-93f8896e"),e=e(),me(),e),rn={class:"editor-welcome-screen"},un={class:"editor-welcome-screen-hero"},cn={class:"editor-welcome-screen-hero__header"},dn={class:"editor-welcome-screen-hero__title"},vn=pe(()=>V("h1",{class:"font-weight-bold mb-2",style:{"font-size":"4.375rem"}},"evitaLab",-1)),mn={class:"text-white",style:{"font-size":"1rem"}},pn=pe(()=>V("a",{class:"text-primary-lightest text-body-2",href:"https://github.com/lukashornych/evitalab/releases",target:"_blank"},"(changelog)",-1)),fn=pe(()=>V("p",{class:"text-gray-light",style:{"font-size":"1rem"}},"evitaDB web client",-1)),hn={class:"editor-welcome-screen-blog"},bn=["href"],_n={class:"editor-welcome-screen-blog-img__wrap"},gn=["src","alt"],yn={class:"editor-welcome-screen-blog-item__title"},wn={class:"editor-welcome-screen-blog-item__perex"},Sn=pe(()=>V("span",{class:"editor-welcome-screen-blog-item__btn"},"Read",-1)),kn=Kt('<span class="editor-welcome-screen-hr" data-v-93f8896e> </span><ul class="editor-welcome-screen-hero__links" data-v-93f8896e><li data-v-93f8896e>Check out the <a href="https://evitadb.io/documentation" target="_blank" data-v-93f8896e> evitaDB documentation</a></li><li data-v-93f8896e>Give us a ⭐ on <a href="https://github.com/lukashornych/evitalab/" target="_blank" data-v-93f8896e> GitHub</a></li><li data-v-93f8896e>Reach out to us on <a href="https://discord.gg/VsNBWxgmSw" target="_blank" data-v-93f8896e> Discord</a></li><li data-v-93f8896e><a href="https://github.com/lukashornych/evitalab/issues" target="_blank" data-v-93f8896e> Submit an issue</a></li></ul>',2),Tn=D({__name:"LabEditorWelcomeScreen",setup(e){const s=ee(),c=C(()=>{const t="v2024.2.0";return t.length===0?"?":t.substring(1)}),o=I([]);return s.getBlogPosts().then(t=>{o.value=t}),(t,a)=>(p(),R("div",rn,[V("div",un,[V("header",cn,[i(ze,{width:"240",height:"240","max-width":"240","max-height":"240",alt:"evitaLab Logo",src:sn,class:"evitalab-logo"}),V("div",dn,[vn,V("p",mn,[g(B(c.value)+" ",1),pn]),fn])]),V("div",hn,[(p(!0),R(A,null,z(o.value,r=>(p(),R("a",{key:r.url,href:r.url,target:"_blank"},[V("span",_n,[V("img",{class:"Blog_BlogMotive__72hVr",height:"160",width:"480",src:r.thumbnailUrl,alt:`Image - ${r.title}`},null,8,gn)]),V("span",yn,B(r.title),1),V("span",wn,[i(Xt,{source:r.perex},null,8,["source"])]),Sn],8,bn))),128))]),kn])]))}});const Vn=Q(Tn,[["__scopeId","data-v-93f8896e"]]),Ln=V("em",null,"open a new tab",-1),Cn=V("em",null,"not",-1),In=V("em",null,"discarded",-1),En=V("em",null,"open a new tab",-1),xn=V("em",null,"discarded",-1),Rn=V("em",null,"Be careful!",-1),Bn=D({__name:"LabEditorTabSharedDialog",props:{tabRequest:{}},emits:["resolve"],setup(e,{emit:s}){const c=e,o=Z();function t(){o.createTab(c.tabRequest),s("resolve")}function a(){s("resolve")}return(r,u)=>(p(),T(Re,{"model-value":!0,"max-width":"36rem","onUpdate:modelValue":a},{default:l(()=>[i(Ie,{class:"py-8 px-4"},{default:l(()=>[i(le,null,{default:l(()=>[g("Shared tab found")]),_:1}),i(se,null,{default:l(()=>[r.tabRequest.initialData!=null?(p(),R(A,{key:0},[g(" The URL contains an embedded query from an unknown source. Do you want to open it? If you accept, evitaLab will "),Ln,g(" with the query, but will "),Cn,g(" execute it automatically. You can still decide if you want to execute it. If you reject, the query in the URL will be "),In,g(". ")],64)):(p(),R(A,{key:1},[g(" The URL contains an embedded shared tab from an unknown source. Do you want to open it? If you accept it, evitaLab will "),En,g(" with the query. If you reject it, it will be "),xn,g(". ")],64))]),_:1}),r.tabRequest.initialData!=null?(p(),T(se,{key:0},{default:l(()=>[i(Zt,{icon:"mdi-alert-outline",type:"warning"},{default:l(()=>[Rn,g(" The query in the URL may contain potentially malicious code. ")]),_:1})]),_:1})):M("",!0),i(Ee,{class:"px-6"},{default:l(()=>[i(xe),i(O,{variant:"tonal",onClick:a},{default:l(()=>[g(" Reject ")]),_:1}),i(O,{variant:"outlined","prepend-icon":"mdi-check",onClick:t,class:"ml-4"},{default:l(()=>[g(" Accept ")]),_:1})]),_:1})]),_:1})]),_:1}))}}),Un={key:1,style:{position:"relative"}},$n=D({__name:"LabEditor",setup(e){const s=Jt(),c=J(),o=Te(),t=Z(),a=ea(),r=ta(),u=I(!1),v=I(!1),b=I(),n=I(t.getTabs());G(n,()=>{const y=t.getNewTab();y&&(d.value=y.id,t.markTabAsVisited(y.id))},{deep:!0});const d=I();G(d,(y,f)=>{y!=null?o.setContext(y):f!=null&&o.resetActivatedContext()});let w=new Map;function _(y,f){w.set(y,f)}function L(y){if(d.value==null)return;let h=t.getTabIndex(d.value)+y;h<0?h=n.value.length-1:h>=n.value.length&&(h=0),d.value=n.value[h].id}function U(y){const f=n.value.length,h=n.value.findIndex(x=>x.id===d.value),k=n.value.findIndex(x=>x.id===y);t.destroyTab(y),o.deleteContext(y),n.value.length===0?d.value=null:k===h&&k===f-1?d.value=n.value[k-1].id:k===h&&k<f-1&&(d.value=n.value[k].id)}async function N(){const y=s.query.demoSnippetRequest;if(y!=null)try{return await a.resolve(y)}catch(f){c.error(f)}}async function m(){const y=s.query.sharedTab;if(y!=null)try{return await r.resolve(y)}catch(f){c.error(f)}}function S(){try{let y=!1;const f=t.createTabsForTabsFromLastSession();f!=null&&(w=f,y=!0),t.restoreTabHistory()&&(y=!0),y&&c.info("Your last session has been restored.")}catch(y){console.error(y),c.warning("Failed to fully restore your last session.")}}function E(){t.storeOpenedTabs(w),t.storeTabHistory()}return N().then(y=>(y!=null&&(u.value=!0,t.createTab(y)),m())).then(y=>{y!=null&&(u.value=!0,b.value=y,v.value=!0),u.value||S()}),X(()=>{o.bindGlobal($.System_Editor_PreviousTab,()=>L(-1)),o.bindGlobal($.System_Editor_NextTab,()=>L(1)),o.bindGlobal($.System_Editor_CloseTab,()=>{d.value!=null&&U(d.value)}),o.bindGlobal($.System_Editor_CloseAllTabs,()=>t.destroyAllTabs())}),Ve(()=>{o.unbindGlobal($.System_Editor_PreviousTab),o.unbindGlobal($.System_Editor_NextTab),o.unbindGlobal($.System_Editor_CloseTab),o.unbindGlobal($.System_Editor_CloseAllTabs)}),window.addEventListener("beforeunload",()=>{u.value||E()}),(y,f)=>(p(),R(A,null,[n.value.length>0?(p(),T(ca,{key:0,density:"compact",elevation:"0"},{default:l(()=>[i(aa,{modelValue:d.value,"onUpdate:modelValue":f[0]||(f[0]=h=>d.value=h)},{default:l(()=>[(p(!0),R(A,null,z(n.value,h=>(p(),T(oa,{key:h.id,value:h.id,"prepend-icon":h.icon,onMousedown:be(k=>U(h.id),["middle"]),class:"lab-tab"},{default:l(()=>[V("span",null,[g(B(ae(ln)(h.title,30))+" ",1),h.title.length>30?(p(),T(Y,{key:0,activator:"parent"},{default:l(()=>[g(B(h.title),1)]),_:2},1024)):M("",!0)]),i(O,{icon:"",variant:"plain",density:"compact",class:"ml-3",onClick:be(k=>U(h.id),["stop"])},{default:l(()=>[i(K,null,{default:l(()=>[g("mdi-close")]),_:1}),i(Le,{command:ae($).System_Editor_CloseTab},{default:l(()=>[g(" Close tab ")]),_:1},8,["command"])]),_:2},1032,["onClick"])]),_:2},1032,["value","prepend-icon","onMousedown"]))),128))]),_:1},8,["modelValue"])]),_:1})):M("",!0),i(pa,{scrollable:!1,class:"lab-editor"},{default:l(()=>[n.value.length>0?(p(),T(na,{key:0,modelValue:d.value,"onUpdate:modelValue":f[1]||(f[1]=h=>d.value=h)},{default:l(()=>[(p(!0),R(A,null,z(n.value,h=>(p(),T(la,{key:h.id,value:h.id,transition:!1,"reverse-transition":!1,class:"window-item"},{default:l(()=>[i(on,{component:h.component,"component-props":h.componentProps(),onDataUpdate:k=>_(h.id,k)},null,8,["component","component-props","onDataUpdate"])]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])):(p(),R("div",Un,[i(Vn)]))]),_:1}),b.value?(p(),T(Bn,{key:1,"tab-request":b.value,onResolve:f[2]||(f[2]=h=>b.value=void 0)},null,8,["tab-request"])):M("",!0)],64))}});const Dn=Q($n,[["__scopeId","data-v-bade8181"]]),Pn=D({__name:"Lab",setup(e){const s=I(te.Explorer);return(c,o)=>(p(),R(A,null,[i($a,{panel:s.value,"onUpdate:panel":o[0]||(o[0]=t=>s.value=t)},null,8,["panel"]),i(Xa,{"model-value":s.value===ae(te).Explorer},null,8,["model-value"]),i(Dn)],64))}});export{Pn as default};
