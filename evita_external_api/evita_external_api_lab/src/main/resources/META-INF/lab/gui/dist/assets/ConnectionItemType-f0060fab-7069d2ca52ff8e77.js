var pt=Object.defineProperty;var gt=(e,i,n)=>i in e?pt(e,i,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[i]=n;var ue=(e,i,n)=>(gt(e,typeof i!="symbol"?i+"":i,n),n);import{p as be,x as $,ah as K,z as V,ai as ft,y as X,$ as ye,aj as ke,ak as ht,g as Ne,al as qe,am as me,an as xe,ao as fe,c as Re,ap as He,d as S,E as ee,aq as Oe,m as Ye,ar as bt,as as Xe,at as yt,au as _t,av as wt,aw as St,ax as Tt,ay as Ct,az as Vt,aA as kt,aB as Nt,a as xt,u as Rt,b as Dt,aC as Bt,aD as Ue,aE as $t,aF as Et,aG as It,aH as Lt,aI as At,aJ as Pt,aK as Mt,a7 as De,aL as Wt,aM as Ht,L as O,aN as Ut,aO as zt,f as H,v as q,o as g,J as L,A as C,aP as Ke,B as y,C as b,_ as te,h as ce,e as N,aQ as jt,aR as Ft,aS as Gt,aT as Qt,M as z,aU as qt,r as ne,G as x,K as ie,w as m,aV as Ot,i as Be,ab as Ze,aW as ze,t as Z,a1 as Se,a8 as Yt,a9 as Xt,aX as _e,aY as Je,aa as oe,aZ as Kt,a_ as Zt,a$ as Jt,b0 as ea,b1 as ta,X as aa,b2 as oa,Z as ae,a0 as na,b3 as la,b4 as ia,b5 as ra,b6 as Te,a2 as ve,a3 as sa,F as le,a5 as ca,b7 as ua,b8 as Ce,b9 as pe,ad as we,V as da,H as ma,I as Ve,ba as $e,bb as Ee,bc as Ie,bd as va,be as et,bf as pa,N as he,bg as ga,bh as fa,bi as tt,bj as ha,bk as ba,j as ya,bl as _a,bm as wa,O as Sa,ac as Ta,bn as Ca,R as je,U as Fe,bo as Va,bp as ka}from"./index-7069d2ca52ff8e77.js";import{a as at,u as ot,b as Na}from"./layout-7613bfad-7069d2ca52ff8e77.js";const xa=be({scrollTarget:{type:String},scrollThreshold:{type:[String,Number],default:300}},"scroll");function Ra(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{canScroll:n}=i;let r=0,t=0;const a=$(null),l=K(0),u=K(0),o=K(0),d=K(!1),p=K(!1),f=V(()=>Number(e.scrollThreshold)),c=V(()=>ft((f.value-l.value)/f.value||0)),v=()=>{const h=a.value;if(!h||n&&!n.value)return;r=l.value,l.value="window"in h?h.pageYOffset:h.scrollTop;const s=h instanceof Window?document.documentElement.scrollHeight:h.scrollHeight;if(t!==s){t=s;return}p.value=l.value<r,o.value=Math.abs(l.value-f.value)};return X(p,()=>{u.value=u.value||l.value}),X(d,()=>{u.value=0}),ye(()=>{X(()=>e.scrollTarget,h=>{var w;const s=h?document.querySelector(h):window;s&&s!==a.value&&((w=a.value)==null||w.removeEventListener("scroll",v),a.value=s,a.value.addEventListener("scroll",v,{passive:!0}))},{immediate:!0})}),ke(()=>{var h;(h=a.value)==null||h.removeEventListener("scroll",v)}),n&&X(n,v,{immediate:!0}),{scrollThreshold:f,currentScroll:l,currentThreshold:o,isScrollActive:d,scrollRatio:c,isScrollingUp:p,savedScroll:u}}const Da=be({scrollBehavior:String,modelValue:{type:Boolean,default:!0},location:{type:String,default:"top",validator:e=>["top","bottom"].includes(e)},...ht(),...at(),...xa(),height:{type:[Number,String],default:64}},"VAppBar"),nt=Ne()({name:"VAppBar",props:Da(),emits:{"update:modelValue":e=>!0},setup(e,i){let{slots:n}=i;const r=$(),t=qe(e,"modelValue"),a=V(()=>{var R;const T=new Set(((R=e.scrollBehavior)==null?void 0:R.split(" "))??[]);return{hide:T.has("hide"),fullyHide:T.has("fully-hide"),inverted:T.has("inverted"),collapse:T.has("collapse"),elevate:T.has("elevate"),fadeImage:T.has("fade-image")}}),l=V(()=>{const T=a.value;return T.hide||T.fullyHide||T.inverted||T.collapse||T.elevate||T.fadeImage||!t.value}),{currentScroll:u,scrollThreshold:o,isScrollingUp:d,scrollRatio:p}=Ra(e,{canScroll:l}),f=V(()=>a.value.hide||a.value.fullyHide),c=V(()=>e.collapse||a.value.collapse&&(a.value.inverted?p.value>0:p.value===0)),v=V(()=>e.flat||a.value.fullyHide&&!t.value||a.value.elevate&&(a.value.inverted?u.value>0:u.value===0)),h=V(()=>a.value.fadeImage?a.value.inverted?1-p.value:p.value:void 0),s=V(()=>{var E,G;if(a.value.hide&&a.value.inverted)return 0;const T=((E=r.value)==null?void 0:E.contentHeight)??0,R=((G=r.value)==null?void 0:G.extensionHeight)??0;return f.value?u.value<o.value||a.value.fullyHide?T+R:T:T+R});me(V(()=>!!e.scrollBehavior),()=>{Oe(()=>{f.value?a.value.inverted?t.value=u.value>o.value:t.value=d.value||u.value<o.value:t.value=!0})});const{ssrBootStyles:w}=xe(),{layoutItemStyles:_}=ot({id:e.name,order:V(()=>parseInt(e.order,10)),position:fe(e,"location"),layoutSize:s,elementSize:K(void 0),active:t,absolute:fe(e,"absolute")});return Re(()=>{const T=He.filterProps(e);return S(He,ee({ref:r,class:["v-app-bar",{"v-app-bar--bottom":e.location==="bottom"},e.class],style:[{..._.value,"--v-toolbar-image-opacity":h.value,height:void 0,...w.value},e.style]},T,{collapse:c.value,flat:v.value}),n)}),{}}});const Ba=be({scrollable:Boolean,...Ye(),...bt(),...Xe({tag:"main"})},"VMain"),$a=Ne()({name:"VMain",props:Ba(),setup(e,i){let{slots:n}=i;const{dimensionStyles:r}=yt(e),{mainStyles:t}=Na(),{ssrBootStyles:a}=xe();return Re(()=>S(e.tag,{class:["v-main",{"v-main--scrollable":e.scrollable},e.class],style:[t.value,a.value,r.value,e.style]},{default:()=>{var l,u;return[e.scrollable?S("div",{class:"v-main__scroller"},[(l=n.default)==null?void 0:l.call(n)]):(u=n.default)==null?void 0:u.call(n)]}})),{}}});function Ea(e){let{rootEl:i,isSticky:n,layoutItemStyles:r}=e;const t=K(!1),a=K(0),l=V(()=>{const d=typeof t.value=="boolean"?"top":t.value;return[n.value?{top:"auto",bottom:"auto",height:void 0}:void 0,t.value?{[d]:_t(a.value)}:{top:r.value.top}]});ye(()=>{X(n,d=>{d?window.addEventListener("scroll",o,{passive:!0}):window.removeEventListener("scroll",o)},{immediate:!0})}),ke(()=>{window.removeEventListener("scroll",o)});let u=0;function o(){const d=u>window.scrollY?"up":"down",p=i.value.getBoundingClientRect(),f=parseFloat(r.value.top??0),c=window.scrollY-Math.max(0,a.value-f),v=p.height+Math.max(a.value,f)-window.scrollY-window.innerHeight,h=parseFloat(getComputedStyle(i.value).getPropertyValue("--v-body-scroll-y"))||0;p.height<window.innerHeight-f?(t.value="top",a.value=f):d==="up"&&t.value==="bottom"||d==="down"&&t.value==="top"?(a.value=window.scrollY+p.top-h,t.value=!0):d==="down"&&v<=0?(a.value=0,t.value="bottom"):d==="up"&&c<=0&&(h?t.value!=="top"&&(a.value=-c+h+f,t.value="top"):(a.value=p.top+c,t.value="top")),u=window.scrollY}return{isStuck:t,stickyStyles:l}}const Ia=100,La=20;function Ge(e){const i=1.41421356237;return(e<0?-1:1)*Math.sqrt(Math.abs(e))*i}function Qe(e){if(e.length<2)return 0;if(e.length===2)return e[1].t===e[0].t?0:(e[1].d-e[0].d)/(e[1].t-e[0].t);let i=0;for(let n=e.length-1;n>0;n--){if(e[n].t===e[n-1].t)continue;const r=Ge(i),t=(e[n].d-e[n-1].d)/(e[n].t-e[n-1].t);i+=(t-r)*Math.abs(t),n===e.length-1&&(i*=.5)}return Ge(i)*1e3}function Aa(){const e={};function i(t){Array.from(t.changedTouches).forEach(a=>{(e[a.identifier]??(e[a.identifier]=new wt(La))).push([t.timeStamp,a])})}function n(t){Array.from(t.changedTouches).forEach(a=>{delete e[a.identifier]})}function r(t){var d;const a=(d=e[t])==null?void 0:d.values().reverse();if(!a)throw new Error(`No samples for touch id ${t}`);const l=a[0],u=[],o=[];for(const p of a){if(l[0]-p[0]>Ia)break;u.push({t:p[0],d:p[1].clientX}),o.push({t:p[0],d:p[1].clientY})}return{x:Qe(u),y:Qe(o),get direction(){const{x:p,y:f}=this,[c,v]=[Math.abs(p),Math.abs(f)];return c>v&&p>=0?"right":c>v&&p<=0?"left":v>c&&f>=0?"down":v>c&&f<=0?"up":Pa()}}}return{addMovement:i,endTouch:n,getVelocity:r}}function Pa(){throw new Error}function Ma(e){let{el:i,isActive:n,isTemporary:r,width:t,touchless:a,position:l}=e;ye(()=>{window.addEventListener("touchstart",T,{passive:!0}),window.addEventListener("touchmove",R,{passive:!1}),window.addEventListener("touchend",E,{passive:!0})}),ke(()=>{window.removeEventListener("touchstart",T),window.removeEventListener("touchmove",R),window.removeEventListener("touchend",E)});const u=V(()=>["left","right"].includes(l.value)),{addMovement:o,endTouch:d,getVelocity:p}=Aa();let f=!1;const c=K(!1),v=K(0),h=K(0);let s;function w(B,A){return(l.value==="left"?B:l.value==="right"?document.documentElement.clientWidth-B:l.value==="top"?B:l.value==="bottom"?document.documentElement.clientHeight-B:re())-(A?t.value:0)}function _(B){let A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const P=l.value==="left"?(B-h.value)/t.value:l.value==="right"?(document.documentElement.clientWidth-B-h.value)/t.value:l.value==="top"?(B-h.value)/t.value:l.value==="bottom"?(document.documentElement.clientHeight-B-h.value)/t.value:re();return A?Math.max(0,Math.min(1,P)):P}function T(B){if(a.value)return;const A=B.changedTouches[0].clientX,P=B.changedTouches[0].clientY,W=25,F=l.value==="left"?A<W:l.value==="right"?A>document.documentElement.clientWidth-W:l.value==="top"?P<W:l.value==="bottom"?P>document.documentElement.clientHeight-W:re(),j=n.value&&(l.value==="left"?A<t.value:l.value==="right"?A>document.documentElement.clientWidth-t.value:l.value==="top"?P<t.value:l.value==="bottom"?P>document.documentElement.clientHeight-t.value:re());(F||j||n.value&&r.value)&&(s=[A,P],h.value=w(u.value?A:P,n.value),v.value=_(u.value?A:P),f=h.value>-20&&h.value<80,d(B),o(B))}function R(B){const A=B.changedTouches[0].clientX,P=B.changedTouches[0].clientY;if(f){if(!B.cancelable){f=!1;return}const F=Math.abs(A-s[0]),j=Math.abs(P-s[1]);(u.value?F>j&&F>3:j>F&&j>3)?(c.value=!0,f=!1):(u.value?j:F)>3&&(f=!1)}if(!c.value)return;B.preventDefault(),o(B);const W=_(u.value?A:P,!1);v.value=Math.max(0,Math.min(1,W)),W>1?h.value=w(u.value?A:P,!0):W<0&&(h.value=w(u.value?A:P,!1))}function E(B){if(f=!1,!c.value)return;o(B),c.value=!1;const A=p(B.changedTouches[0].identifier),P=Math.abs(A.x),W=Math.abs(A.y);(u.value?P>W&&P>400:W>P&&W>3)?n.value=A.direction===({left:"right",right:"left",top:"down",bottom:"up"}[l.value]||re()):n.value=v.value>.5}const G=V(()=>c.value?{transform:l.value==="left"?`translateX(calc(-100% + ${v.value*t.value}px))`:l.value==="right"?`translateX(calc(100% - ${v.value*t.value}px))`:l.value==="top"?`translateY(calc(-100% + ${v.value*t.value}px))`:l.value==="bottom"?`translateY(calc(100% - ${v.value*t.value}px))`:re(),transition:"none"}:void 0);return me(c,()=>{var P,W;const B=((P=i.value)==null?void 0:P.style.transform)??null,A=((W=i.value)==null?void 0:W.style.transition)??null;Oe(()=>{var F,j,Q,I;(j=i.value)==null||j.style.setProperty("transform",((F=G.value)==null?void 0:F.transform)||"none"),(I=i.value)==null||I.style.setProperty("transition",((Q=G.value)==null?void 0:Q.transition)||null)}),St(()=>{var F,j;(F=i.value)==null||F.style.setProperty("transform",B),(j=i.value)==null||j.style.setProperty("transition",A)})}),{isDragging:c,dragProgress:v,dragStyles:G}}function re(){throw new Error}const Wa=["start","end","left","right","top","bottom"],Ha=be({color:String,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,modelValue:{type:Boolean,default:null},permanent:Boolean,rail:{type:Boolean,default:null},railWidth:{type:[Number,String],default:56},scrim:{type:[Boolean,String],default:!0},image:String,temporary:Boolean,persistent:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},location:{type:String,default:"start",validator:e=>Wa.includes(e)},sticky:Boolean,...Tt(),...Ye(),...Ct(),...Vt({mobile:null}),...kt(),...at(),...Nt(),...Xe({tag:"nav"}),...xt()},"VNavigationDrawer"),fn=Ne()({name:"VNavigationDrawer",props:Ha(),emits:{"update:modelValue":e=>!0,"update:rail":e=>!0},setup(e,i){let{attrs:n,emit:r,slots:t}=i;const{isRtl:a}=Rt(),{themeClasses:l}=Dt(e),{borderClasses:u}=Bt(e),{backgroundColorClasses:o,backgroundColorStyles:d}=Ue(fe(e,"color")),{elevationClasses:p}=$t(e),{displayClasses:f,mobile:c}=Et(e),{roundedClasses:v}=It(e),h=Lt(),s=qe(e,"modelValue",null,Y=>!!Y),{ssrBootStyles:w}=xe(),{scopeId:_}=At(),T=$(),R=K(!1),{runOpenDelay:E,runCloseDelay:G}=Ut(e,Y=>{R.value=Y}),B=V(()=>e.rail&&e.expandOnHover&&R.value?Number(e.width):Number(e.rail?e.railWidth:e.width)),A=V(()=>Pt(e.location,a.value)),P=V(()=>e.persistent),W=V(()=>!e.permanent&&(c.value||e.temporary)),F=V(()=>e.sticky&&!W.value&&A.value!=="bottom");me(()=>e.expandOnHover&&e.rail!=null,()=>{X(R,Y=>r("update:rail",!Y))}),me(()=>!e.disableResizeWatcher,()=>{X(W,Y=>!e.permanent&&zt(()=>s.value=!Y))}),me(()=>!e.disableRouteWatcher&&!!h,()=>{X(h.currentRoute,()=>W.value&&(s.value=!1))}),X(()=>e.permanent,Y=>{Y&&(s.value=!0)}),e.modelValue==null&&!W.value&&(s.value=e.permanent||!c.value);const{isDragging:j,dragProgress:Q}=Ma({el:T,isActive:s,isTemporary:W,width:B,touchless:fe(e,"touchless"),position:A}),I=V(()=>{const Y=W.value?0:e.rail&&e.expandOnHover?Number(e.railWidth):B.value;return j.value?Y*Q.value:Y}),k=V(()=>["top","bottom"].includes(e.location)?0:B.value),{layoutItemStyles:D,layoutItemScrimStyles:U}=ot({id:e.name,order:V(()=>parseInt(e.order,10)),position:A,layoutSize:I,elementSize:k,active:V(()=>s.value||j.value),disableTransitions:V(()=>j.value),absolute:V(()=>e.absolute||F.value&&typeof Le.value!="string")}),{isStuck:Le,stickyStyles:mt}=Ea({rootEl:T,isSticky:F,layoutItemStyles:D}),Ae=Ue(V(()=>typeof e.scrim=="string"?e.scrim:null)),vt=V(()=>({...j.value?{opacity:Q.value*.2,transition:"none"}:void 0,...U.value}));return Mt({VList:{bgColor:"transparent"}}),Re(()=>{const Y=t.image||e.image;return S(O,null,[S(e.tag,ee({ref:T,onMouseenter:E,onMouseleave:G,class:["v-navigation-drawer",`v-navigation-drawer--${A.value}`,{"v-navigation-drawer--expand-on-hover":e.expandOnHover,"v-navigation-drawer--floating":e.floating,"v-navigation-drawer--is-hovering":R.value,"v-navigation-drawer--rail":e.rail,"v-navigation-drawer--temporary":W.value,"v-navigation-drawer--persistent":P.value,"v-navigation-drawer--active":s.value,"v-navigation-drawer--sticky":F.value},l.value,o.value,u.value,f.value,p.value,v.value,e.class],style:[d.value,D.value,w.value,mt.value,e.style,["top","bottom"].includes(A.value)?{height:"auto"}:{}]},_,n),{default:()=>{var Pe,Me,We;return[Y&&S("div",{key:"image",class:"v-navigation-drawer__img"},[t.image?S(Wt,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{alt:"",cover:!0,height:"inherit",src:e.image}}},t.image):S(De,{key:"image-img",alt:"",cover:!0,height:"inherit",src:e.image},null)]),t.prepend&&S("div",{class:"v-navigation-drawer__prepend"},[(Pe=t.prepend)==null?void 0:Pe.call(t)]),S("div",{class:"v-navigation-drawer__content"},[(Me=t.default)==null?void 0:Me.call(t)]),t.append&&S("div",{class:"v-navigation-drawer__append"},[(We=t.append)==null?void 0:We.call(t)])]}}),S(Ht,{name:"fade-transition"},{default:()=>[W.value&&(j.value||s.value)&&!!e.scrim&&S("div",ee({class:["v-navigation-drawer__scrim",Ae.backgroundColorClasses.value],style:[vt.value,Ae.backgroundColorStyles.value],onClick:()=>{P.value||(s.value=!1)}},_),null)]})])}),{isStuck:Le}}});function Ua(e,i){return e.length<=i?e:e.substring(0,i-3)+"..."}const za={class:"loading-screen"},ja={class:"loading-screen-info"},Fa=H({__name:"TabLoadingScreen",setup(e){const{t:i}=q();return(n,r)=>(g(),L("div",za,[C("div",ja,[S(Ke,{size:48}),C("span",null,y(b(i)("tab.placeholder.loading")),1)])]))}});const Ga=te(Fa,[["__scopeId","data-v-b23d11da"]]),Qa=H({__name:"TabWindow",props:{id:{},component:{},componentProps:{}},setup(e){const i=ce(),n=e,r=$(!1),t=$();X(t,()=>{u()});function a(){r.value=!0,u()}function l(o){i.replaceTabData(n.id,o),u()}function u(){if(r.value&&t.value!=null&&t.value.path!=null){const o=t.value.path();o!=null&&i.subjectPathStatus.definePath(n.id,o)}}return(o,d)=>(g(),L(O,null,[(g(),N(Qt,null,[jt((g(),N(Gt(o.component),ee({ref_key:"componentInstance",ref:t},o.componentProps,{onReady:a,"onUpdate:data":l}),null,16)),[[Ft,r.value]])],1024)),r.value?z("",!0):(g(),N(Ga,{key:0}))],64))}}),lt="/lab/logo/evitalab-logo-representative.svg",qa={class:"editor-welcome-screen"},Oa={class:"editor-welcome-screen-hero"},Ya={class:"editor-welcome-screen-hero__header"},Xa={class:"editor-welcome-screen-hero__title"},Ka={class:"font-weight-bold mb-2",style:{"font-size":"4.375rem"}},Za={class:"text-white",style:{"font-size":"1rem"}},Ja={class:"text-primary-lightest text-body-2",href:"https://github.com/FgForrest/evitalab/releases",target:"_blank"},eo={class:"text-gray-light",style:{"font-size":"1rem"}},to={class:"editor-welcome-screen-blog"},ao=["href"],oo={class:"editor-welcome-screen-blog-img__wrap"},no=["src","alt"],lo={class:"editor-welcome-screen-blog-item__title"},io={class:"editor-welcome-screen-blog-item__perex"},ro={class:"editor-welcome-screen-blog-item__btn"},so={class:"editor-welcome-screen-hero__links"},co={href:"https://evitadb.io/documentation",target:"_blank"},uo={href:"https://github.com/FgForrest/evitalab/",target:"_blank"},mo={href:"https://discord.gg/VsNBWxgmSw",target:"_blank"},vo={href:"https://github.com/FgForrest/evitalab/issues",target:"_blank"},po=H({__name:"StandaloneWelcomeContent",props:{version:{}},setup(e){const i=qt(),{t:n}=q(),r=$([]);return i.getBlogPosts().then(t=>{r.value=t}),(t,a)=>{const l=ne("I18nT");return g(),L("div",qa,[C("div",Oa,[C("header",Ya,[S(De,{width:"240",height:"240","max-width":"240","max-height":"240",alt:"evitaLab Logo",src:lt,class:"evitalab-logo"}),C("div",Xa,[C("h1",Ka,y(b(n)("app.name")),1),C("p",Za,[x(y(t.version)+" ",1),C("a",Ja,"("+y(b(n)("welcomeScreen.standalone.changelog"))+")",1)]),C("p",eo,y(b(n)("welcomeScreen.standalone.description")),1)])]),C("div",to,[(g(!0),L(O,null,ie(r.value,u=>(g(),L("a",{key:u.url,href:u.url,target:"_blank"},[C("span",oo,[C("img",{class:"Blog_BlogMotive__72hVr",height:"160",width:"480",src:u.thumbnailUrl,alt:b(n)("welcomeScreen.standalone.blog.thumbnail.alt",{title:u.title})},null,8,no)]),C("span",lo,y(u.title),1),C("span",io,[S(Ot,{source:u.perex},null,8,["source"])]),C("span",ro,y(b(n)("welcomeScreen.standalone.blog.button.read")),1)],8,ao))),128))]),a[0]||(a[0]=C("span",{class:"editor-welcome-screen-hr"}," ",-1)),C("ul",so,[S(l,{keypath:"welcomeScreen.standalone.link.evitaDBDocumentation.text",tag:"li"},{link:m(()=>[C("a",co,y(b(n)("welcomeScreen.standalone.link.evitaDBDocumentation.link")),1)]),_:1}),S(l,{keypath:"welcomeScreen.standalone.link.evitaLabGitHub.text",tag:"li"},{link:m(()=>[C("a",uo,y(b(n)("welcomeScreen.standalone.link.evitaLabGitHub.link")),1)]),_:1}),S(l,{keypath:"welcomeScreen.standalone.link.discord.text",tag:"li"},{link:m(()=>[C("a",mo,y(b(n)("welcomeScreen.standalone.link.discord.link")),1)]),_:1}),C("li",null,[C("a",vo,y(b(n)("welcomeScreen.standalone.link.submitIssue")),1)])])])])}}});const go=te(po,[["__scopeId","data-v-c3493a3c"]]),fo={class:"editor-welcome-screen"},ho={class:"editor-welcome-screen-hero"},bo={class:"editor-welcome-screen-hero__header"},yo={class:"editor-welcome-screen-hero__title"},_o={class:"font-weight-light mb-2",style:{"font-size":"2rem"}},wo={class:"font-weight-bold"},So={class:"text-white",style:{"font-size":"1rem"}},To={class:"text-primary-lightest text-body-2",href:"https://github.com/FgForrest/evitalab/releases",target:"_blank"},Co=H({__name:"DriverWelcomeContent",props:{version:{}},setup(e){const i=Be(),{t:n}=q(),r=V(()=>i.getDriverConnection().name),t=localStorage.getItem("test");return(a,l)=>(g(),L("div",fo,[C("div",ho,[C("header",bo,[S(De,{width:"60",height:"60","max-width":"60","max-height":"60",alt:"evitaLab Logo",src:lt,class:"evitalab-logo"}),C("div",yo,[x(y(b(t))+" ",1),C("h1",_o,[l[0]||(l[0]=x(" Connected to: ")),C("span",wo,y(r.value),1)]),C("p",So,[x(y(b(n)("welcomeScreen.driver.description"))+" "+y(a.version)+" ",1),C("a",To,"("+y(b(n)("welcomeScreen.driver.changelog"))+")",1)])])])])]))}});const Vo=te(Co,[["__scopeId","data-v-af2c8f9b"]]),ko=H({__name:"WelcomeScreen",setup(e){const i=Ze(),n=V(()=>{const r="v2025.3.0";return r.length===0?"?":r.substring(1)});return(r,t)=>b(i).runMode===b(ze).Standalone?(g(),N(go,{key:0,version:n.value},null,8,["version"])):b(i).runMode===b(ze).Driver?(g(),N(Vo,{key:1,version:n.value},null,8,["version"])):z("",!0)}}),No=H({__name:"TabSharedTroubleshooterDialog",props:{modelValue:{type:Boolean},originalConnectionName:{default:void 0},troubleshooterCallback:{}},emits:["resolve","reject"],setup(e,{emit:i}){const n=Be(),r=Z(),{t}=q(),a=e,l=i,u=$([]),o=$(!1),d=$(void 0),p=[h=>h!=null&&h.trim().length>0?!0:t("tabShare.sharedTroubleshooterDialog.form.newConnectionId.validations.required"),async h=>{try{return n.getConnection(h),!0}catch{return t("tabShare.sharedTroubleshooterDialog.form.newConnectionId.validations.notExists")}}],f=V(()=>d.value!=null&&d.value.trim().length>0);X(()=>a.modelValue,h=>{if(h&&(u.value=n.getConnections().toArray(),o.value=!0,a.originalConnectionName!=null&&a.originalConnectionName.trim().length>0)){const s=u.value.find(w=>w.name.trim().toLowerCase()===a.originalConnectionName.trim().toLocaleLowerCase());s!=null&&(d.value=s.id)}});function c(){l("reject"),u.value=[],o.value=!1,d.value=void 0}async function v(){try{const h=await a.troubleshooterCallback(d.value);return l("resolve",h),!0}catch(h){return await r.error("Could not resolve shared tab",h),!1}}return(h,s)=>(g(),N(oe,{"model-value":h.modelValue,changed:f.value,"confirm-button-icon":"mdi-check",confirm:v,reset:c},{activator:m(({props:w})=>[Se(h.$slots,"activator",Yt(Xt({props:w})))]),title:m(()=>[x(y(b(t)("tabShare.sharedTroubleshooterDialog.title")),1)]),"prepend-form":m(()=>[S(_e,{type:"warning",icon:"mdi-alert-outline"},{default:m(()=>[x(y(b(t)("tabShare.sharedTroubleshooterDialog.info")),1)]),_:1})]),default:m(()=>[S(Je,{modelValue:d.value,"onUpdate:modelValue":s[0]||(s[0]=w=>d.value=w),label:b(t)("tabShare.sharedTroubleshooterDialog.form.newConnectionId.label"),hint:b(t)("tabShare.sharedTroubleshooterDialog.form.newConnectionId.hint"),items:u.value,"item-title":"name","item-value":"id",rules:p,required:"",disabled:!o.value},null,8,["modelValue","label","hint","items","disabled"])]),"confirm-button-body":m(()=>[x(y(b(t)("common.button.accept")),1)]),_:3},8,["model-value","changed"]))}}),xo=["innerHTML"],Ro=["innerHTML"],Do=["innerHTML"],Bo=H({__name:"TabSharedDialog",props:{modelValue:{type:Boolean}},emits:["update:modelValue"],setup(e,{emit:i}){const n=ce(),r=Kt(),t=Z(),{t:a}=q(),l=e,u=i;X(()=>l.modelValue,_=>{if(_){const R=new URLSearchParams(document.location.search).get("sharedTab");R!=null&&(o.value=ea.fromLinkParam(R))}});const o=$(void 0),d=V(()=>o.value==null?!1:o.value.tabData!=null),p=$(!1),f=$(void 0),c=$(void 0);async function v(){if(o.value!=null)try{const _=await r.resolve(o.value);n.createTab(_),w()}catch(_){_ instanceof ta?(p.value=!0,f.value=_.originalConnectionName,c.value=_.troubleshooterCallback):await t.error("Could not resolve shared tab",_)}}function h(_){n.createTab(_),w()}function s(){p.value=!1}function w(){u("update:modelValue",!1)}return(_,T)=>(g(),L(O,null,[S(Jt,{"model-value":_.modelValue,persistent:"","max-width":"36rem"},{title:m(()=>[x(y(b(a)("tabShare.sharedDialog.title")),1)]),default:m(()=>[d.value?(g(),L("span",{key:0,innerHTML:b(a)("tabShare.sharedDialog.text.withoutInitialData")},null,8,xo)):(g(),L("span",{key:1,innerHTML:b(a)("tabShare.sharedDialog.text.withInitialData")},null,8,Ro)),d.value?(g(),N(_e,{key:2,icon:"mdi-alert-outline",type:"warning",class:"mt-4"},{default:m(()=>[C("span",{innerHTML:b(a)("tabShare.sharedDialog.warning.potentiallyUnsafe")},null,8,Do)]),_:1})):z("",!0)]),"confirm-button":m(()=>[S(Zt,{icon:"mdi-check",onConfirm:v},{default:m(()=>[x(y(b(a)("common.button.accept")),1)]),_:1})]),_:1},8,["model-value"]),S(No,{"model-value":p.value,"original-connection-name":f.value,"troubleshooter-callback":c.value,onResolve:h,onReject:s},null,8,["model-value","original-connection-name","troubleshooter-callback"])],64))}}),$o={key:1,style:{position:"relative"}},Eo=H({__name:"WorkspaceTabWindowList",setup(e){const i=Ze(),n=Z(),r=aa(),{t}=q(),a=ce(),l=oa(),u=$(!1),o=$(a.getTabDefinitions());X(o,()=>{const s=a.getTheNewTab();s&&(d.value=s.id,a.markTabAsVisited(s.id))},{deep:!0});const d=$();X(d,(s,w)=>{s!=null?(r.setContext(s),a.subjectPathStatus.activatePath(s)):w!=null&&(r.resetActivatedContext(),a.subjectPathStatus.deactivatePath())});function p(s){if(d.value==null)return;let _=a.getTabIndex(d.value)+s;_<0?_=o.value.length-1:_>=o.value.length&&(_=0),d.value=o.value[_].id}function f(s){const w=o.value.length,_=o.value.findIndex(R=>R.id===d.value),T=o.value.findIndex(R=>R.id===s);a.destroyTab(s),r.deleteContext(s),a.subjectPathStatus.deletePath(s),o.value.length===0?d.value=null:T===_&&T===w-1?d.value=o.value[T-1].id:T===_&&T<w-1&&(d.value=o.value[T].id)}async function c(s){const w=s.get("demoSnippetRequest");if(w!=null)try{return await l.resolve(w)}catch(_){await n.error("Could not resolve demo code snippet",_)}}async function v(s){return s.get("sharedTab")!=null}function h(){try{let s=!1;a.restoreTabsFromLastSession()&&(s=!0),a.restoreTabHistory()&&(s=!0),s&&n.info("Your last session has been restored.").then()}catch(s){console.error(s),n.warning("Failed to fully restore your last session.").then()}}if(i.playgroundMode){const s=new URLSearchParams(document.location.search);c(s).then(w=>(w!=null&&a.createTab(w),v(s))).then(w=>{w&&(u.value=!0)})}else h();return ye(()=>{r.bindGlobal(ae.System_Editor_PreviousTab,()=>p(-1)),r.bindGlobal(ae.System_Editor_NextTab,()=>p(1)),r.bindGlobal(ae.System_Editor_CloseTab,()=>{d.value!=null&&f(d.value)}),r.bindGlobal(ae.System_Editor_CloseAllTabs,()=>a.destroyAllTabs())}),na(()=>{r.unbindGlobal(ae.System_Editor_PreviousTab),r.unbindGlobal(ae.System_Editor_NextTab),r.unbindGlobal(ae.System_Editor_CloseTab),r.unbindGlobal(ae.System_Editor_CloseAllTabs)}),(s,w)=>(g(),L(O,null,[o.value.length>0?(g(),N(nt,{key:0,density:"compact",elevation:"0"},{default:m(()=>[S(la,{modelValue:d.value,"onUpdate:modelValue":w[0]||(w[0]=_=>d.value=_)},{default:m(()=>[(g(!0),L(O,null,ie(o.value,_=>(g(),N(ra,{key:_.id,value:_.id,"prepend-icon":_.icon,onMousedown:Te(T=>f(_.id),["middle"]),class:"lab-tab"},{default:m(()=>[C("span",null,[x(y(b(Ua)(_.title,30))+" ",1),_.title.length>30?(g(),N(ve,{key:0,activator:"parent"},{default:m(()=>[x(y(_.title),1)]),_:2},1024)):z("",!0)]),S(sa,{icon:"",variant:"plain",density:"compact",class:"ml-3",onClick:Te(T=>f(_.id),["stop"])},{default:m(()=>[S(le,null,{default:m(()=>w[3]||(w[3]=[x("mdi-close")])),_:1}),S(ca,{command:b(ae).System_Editor_CloseTab},{default:m(()=>[x(y(b(t)("tab.button.closeTab")),1)]),_:1},8,["command"])]),_:2},1032,["onClick"])]),_:2},1032,["value","prepend-icon","onMousedown"]))),128))]),_:1},8,["modelValue"])]),_:1})):z("",!0),S($a,{scrollable:!1,class:"lab-editor"},{default:m(()=>[o.value.length>0?(g(),N(ia,{key:0,modelValue:d.value,"onUpdate:modelValue":w[1]||(w[1]=_=>d.value=_)},{default:m(()=>[(g(!0),L(O,null,ie(o.value,_=>(g(),N(ua,{key:_.id,value:_.id,transition:!1,"reverse-transition":!1,class:"window-item"},{default:m(()=>[S(Qa,{id:_.id,component:_.component,"component-props":_.componentProps()},null,8,["id","component","component-props"])]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])):(g(),L("div",$o,[S(ko)]))]),_:1}),S(Bo,{modelValue:u.value,"onUpdate:modelValue":w[2]||(w[2]=_=>u.value=_)},null,8,["modelValue"])],64))}});const hn=te(Eo,[["__scopeId","data-v-a534ed3b"]]),Io={key:0,class:"editor-status"},Lo=H({__name:"EditorStatus",props:{status:{}},setup(e){const{t:i}=q(),n=e,r=V(()=>n.status.activatedEditorInfo),t=V(()=>{if(r.value!=null&&r.value.selections.size==1)return r.value.selections.get(0)});return(a,l)=>r.value?(g(),L("div",Io,[S(ve,null,{activator:m(({props:u})=>[C("span",ee({class:"text-no-wrap"},u),[r.value.selections.size!=1?(g(),L(O,{key:0},[x(y(b(i)("common.statusBar.activeEditorStatus.selections.value.multipleSelections",{count:r.value.selections.size})),1)],64)):(g(),L(O,{key:1},[x(y(b(i)("common.statusBar.activeEditorStatus.selections.value.singleSelection.cursorPosition",{line:t.value.line,column:t.value.column}))+" ",1),t.value.selectedCharacterCount>0?(g(),L(O,{key:0},[x(" ("+y(b(i)("common.statusBar.activeEditorStatus.selections.value.singleSelection.selectionRange",{charsCount:t.value.selectedCharacterCount})),1),t.value.lineBreaks>0?(g(),L(O,{key:0},[x(", "+y(b(i)("common.statusBar.activeEditorStatus.selections.value.singleSelection.lineBreaks",{lineBreaks:t.value.lineBreaks})),1)],64)):z("",!0),l[0]||(l[0]=x(") "))],64)):z("",!0)],64))],16)]),default:m(()=>[x(y(b(i)("common.statusBar.activeEditorStatus.selections.label")),1)]),_:1}),S(ve,null,{activator:m(({props:u})=>[C("span",ee({class:"text-no-wrap"},u),y(b(i)("common.statusBar.activeEditorStatus.tabSize.value",{tabSize:r.value.tabSize})),17)]),default:m(()=>[x(y(b(i)("common.statusBar.activeEditorStatus.tabSize.label")),1)]),_:1}),S(ve,null,{activator:m(({props:u})=>[C("span",ee({class:"text-no-wrap"},u),y(r.value.language),17)]),default:m(()=>[x(y(b(i)("common.statusBar.activeEditorStatus.language.label")),1)]),_:1})])):z("",!0)}});const Ao=te(Lo,[["__scopeId","data-v-ab91fc98"]]),Po=H({__name:"SubjectPathStatusItem",props:{item:{}},setup(e){const i=e;function n(){i.item.onClick!=null&&i.item.onClick()}return(r,t)=>(g(),L("div",{class:Ce(["subject-path-status-item",{"subject-path-status-item--clickable":r.item.onClick!=null}]),onClick:n},[r.item.icon?(g(),N(le,{key:0,icon:r.item.icon,size:"12"},null,8,["icon"])):z("",!0),C("span",null,y(r.item.value),1)],2))}});const Mo=te(Po,[["__scopeId","data-v-3925741a"]]);const Wo={};function Ho(e,i){return g(),N(le,{icon:"mdi-chevron-right",size:"12",class:"text-disabled subject-path-status-item-delimiter"})}const Uo=te(Wo,[["render",Ho],["__scopeId","data-v-a85df1cb"]]),zo={key:0,class:"subject-path-status"},jo=H({__name:"SubjectPathStatus",props:{status:{}},setup(e){const i=e,n=V(()=>i.status.activatedPath);return(r,t)=>n.value?(g(),L("div",zo,[(g(!0),L(O,null,ie(n.value.items,(a,l)=>(g(),L(O,{key:l},[S(Mo,{item:a},null,8,["item"]),l+1<n.value.items.size?(g(),N(Uo,{key:0})):z("",!0)],64))),128))])):z("",!0)}});const Fo=te(jo,[["__scopeId","data-v-91b66f15"]]),Go={class:"left-content"},Qo={class:"right-content"},qo=H({__name:"WorkspaceStatusBar",setup(e){const i=ce(),n=V(()=>i.subjectPathStatus),r=V(()=>i.editorStatus);return(t,a)=>(g(),N(nt,{height:"28",location:"bottom",flat:"",class:"bg-primary-dark status-bar"},{default:m(()=>[C("div",Go,[S(Fo,{status:n.value},null,8,["status"])]),C("div",Qo,[S(Ao,{status:r.value},null,8,["status"])])]),_:1}))}});const bn=te(qo,[["__scopeId","data-v-18101a46"]]),yn=H({__name:"CreateCatalogDialog",props:{modelValue:{type:Boolean},connection:{}},emits:["update:modelValue","create"],setup(e,{emit:i}){const n=pe(),r=Z(),{t}=q(),a=e,l=i,u=[c=>c!=null&&c.trim().length>0?!0:t("explorer.catalog.create.form.catalogName.validations.required"),async c=>{const v=await n.isCatalogNameValid(a.connection,c);return v==null?!0:t(`explorer.catalog.create.form.catalogName.validations.${v}`)},async c=>await n.isCatalogNameAvailable(a.connection,c)?!0:t("explorer.catalog.create.form.catalogName.validations.notAvailable")],o=$(""),d=V(()=>o.value.length>0);function p(){o.value=""}async function f(){try{return await n.createCatalog(a.connection,o.value),await r.success(t("explorer.catalog.create.notification.catalogCreated",{catalogName:o.value})),l("create"),!0}catch(c){return await r.error(t("explorer.catalog.create.notification.couldNotCreateCatalog",{catalogName:o.value,reason:c.message})),!1}}return(c,v)=>(g(),N(oe,{"model-value":c.modelValue,changed:d.value,"confirm-button-icon":"mdi-plus",confirm:f,reset:p,"onUpdate:modelValue":v[1]||(v[1]=h=>l("update:modelValue",h))},{title:m(()=>[x(y(b(t)("explorer.catalog.create.title")),1)]),default:m(()=>[S(we,{modelValue:o.value,"onUpdate:modelValue":v[0]||(v[0]=h=>o.value=h),label:b(t)("explorer.catalog.create.form.catalogName.label"),rules:u,required:""},null,8,["modelValue","label"])]),"confirm-button-body":m(()=>[x(y(b(t)("common.button.create")),1)]),_:1},8,["model-value","changed"]))}});var M=(e=>(e.EvitaQLConsole="evitaQLConsole",e.GraphQLDataAPIConsole="graphQLDataApiConsole",e.GraphQLSchemaAPIConsole="graphQLSchemaApiConsole",e.ViewSchema="viewSchema",e.TrafficSubheader="trafficSubheader",e.ActiveTrafficRecording="activeTrafficRecording",e.ManageSubheader="manageSubheader",e.CloseAllSessions="closeAllSessions",e.ModifySubheader="modifySubheader",e.DropCatalog="dropCatalog",e.RenameCatalog="renameCatalog",e.ReplaceCatalog="replaceCatalog",e.SwitchCatalogToAliveState="switchCatalogToAliveState",e.CollectionsSubheader="collectionsSubheader",e.CreateCollection="createCollection",e))(M||{});const Oo={class:"tree-view-item__content"},Yo={key:0,class:"tree-view-item__flags"},Xo={key:0,class:"tree-view-item__flags"},Ko=H({__name:"VTreeViewItem",props:{openable:{type:Boolean,default:!1},isOpen:{type:Boolean,default:!1},prependIcon:{},loading:{type:Boolean,default:!1},flags:{default:()=>[]},actions:{default:()=>[]}},emits:["click:action","click:actionMenu"],setup(e,{emit:i}){const n=e,r=$(!1),t=i;function a(){t("click:actionMenu"),n.actions&&n.actions.length>0&&(r.value=!0)}return(l,u)=>(g(),N(Ve,{"prepend-icon":null,"append-icon":null,onContextmenu:Te(a,["prevent"])},{default:m(()=>[C("div",Oo,[l.openable?(g(),N(le,{key:0},{default:m(()=>[x(y(l.isOpen?"mdi-chevron-up":"mdi-chevron-down"),1)]),_:1})):(g(),N(le,{key:1})),l.loading?(g(),N(Ke,{key:2})):(g(),N(le,{key:3},{default:m(()=>[x(y(l.prependIcon),1)]),_:1})),S(ve,null,{activator:m(({props:o})=>[C("span",ee(o,{class:"tree-view-item__text text-truncate"}),[Se(l.$slots,"default",{},()=>[u[3]||(u[3]=C("span",{class:"text-disabled"}," No items found ",-1))],!0),l.flags.length>0?(g(),L("span",Yo,[(g(!0),L(O,null,ie(l.flags,d=>(g(),L("span",{key:d.value,class:Ce(["tree-view-item__flag",`tree-view-item__flag--${d.type}`])},y(d.value),3))),128))])):z("",!0)],16)]),default:m(()=>[Se(l.$slots,"default",{},void 0,!0),l.flags.length>0?(g(),L("span",Xo,[(g(!0),L(O,null,ie(l.flags,o=>(g(),L("span",{key:o.value,class:Ce(["tree-view-item__flag","tree-view-item__lg-flag",`tree-view-item__flag--${o.type}`])},y(o.value),3))),128))])):z("",!0)]),_:3}),l.actions&&l.actions.length>0?(g(),N(da,{key:4,"menu-items":l.actions,modelValue:r.value,"onUpdate:modelValue":u[2]||(u[2]=o=>r.value=o)},{activator:m(({props:o})=>[S(le,ee(o,{class:"text-gray-light",onClick:u[0]||(u[0]=d=>t("click:actionMenu"))}),{default:m(()=>u[4]||(u[4]=[x(" mdi-dots-vertical ")])),_:2},1040)]),default:m(()=>[S(ma,{density:"compact",items:l.actions,"onClick:select":u[1]||(u[1]=o=>l.$emit("click:action",o.id))},{item:m(({props:o})=>[S(Ve,{"prepend-icon":o.prependIcon,value:o.value,disabled:o.disabled},{default:m(()=>[x(y(o.title),1)]),_:2},1032,["prepend-icon","value","disabled"])]),_:1},8,["items"])]),_:1},8,["menu-items","modelValue"])):z("",!0)])]),_:3}))}});const it=te(Ko,[["__scopeId","data-v-1c78241c"]]),Zo={class:"pl-8 text-disabled"},Jo=H({__name:"VTreeViewEmptyItem",setup(e){const{t:i}=q();return(n,r)=>(g(),N(Ve,null,{default:m(()=>[C("span",Zo,y(b(i)("common.list.empty")),1)]),_:1}))}});var J=(e=>(e.ViewEntities="viewEntities",e.ViewSchema="viewSchema",e.ModifySubheader="modifySubheader",e.DropCollection="dropCollection",e.RenameCollection="renameCollection",e))(J||{});const rt=Symbol("connection");function _n(e){$e(rt,e)}function st(){return Ee(rt)}const ct=Symbol("serverStatus");function wn(e){$e(ct,e)}function ut(){return Ee(ct)}const dt=Symbol("catalog");function en(e){$e(dt,e)}function tn(){return Ee(dt)}class de{constructor(i){ue(this,"title");ue(this,"type","subheader");this.title=i}}const an=H({__name:"DropCollectionDialog",props:{modelValue:{type:Boolean},connection:{},catalogName:{},entityType:{}},emits:["update:modelValue","drop"],setup(e,{emit:i}){const n=Ie(),r=Z(),{t}=q(),a=e,l=i;async function u(){try{return await n.dropCollection(a.connection,a.catalogName,a.entityType)?(await r.success(t("explorer.collection.drop.notification.collectionDropped",{entityType:a.entityType})),l("drop")):await r.info(t("explorer.collection.drop.notification.collectionNotDropped",{entityType:a.entityType})),!0}catch(o){return await r.error(t("explorer.collection.drop.notification.couldNotDropCollection",{entityType:a.entityType,reason:o.message})),!1}}return(o,d)=>{const p=ne("I18nT");return g(),N(oe,{"model-value":o.modelValue,dangerous:"",changed:"","confirm-button-icon":"mdi-delete-outline",confirm:u,"onUpdate:modelValue":d[0]||(d[0]=f=>l("update:modelValue",f))},{title:m(()=>[S(p,{keypath:"explorer.collection.drop.title"},{entityType:m(()=>[C("strong",null,y(o.entityType),1)]),_:1})]),"prepend-form":m(()=>[x(y(b(t)("explorer.collection.drop.question")),1)]),"confirm-button-body":m(()=>[x(y(b(t)("common.button.drop")),1)]),_:1},8,["model-value"])}}}),on=H({__name:"RenameCollectionDialog",props:{modelValue:{type:Boolean},connection:{},catalogName:{},entityType:{}},emits:["update:modelValue","rename"],setup(e,{emit:i}){const n=Ie(),r=Z(),{t}=q(),a=e,l=i,u=[c=>c!=null&&c.trim().length>0?!0:t("explorer.collection.rename.form.newName.validations.required"),async c=>{const v=await n.isEntityTypeValid(a.connection,c);return v==null?!0:t(`explorer.collection.rename.form.newName.validations.${v}`)},async c=>c===a.entityType||await n.isEntityTypeAvailable(a.connection,a.catalogName,c)?!0:t("explorer.collection.rename.form.newName.validations.notAvailable")],o=$(a.entityType),d=V(()=>o.value!==a.entityType);function p(){o.value=a.entityType}async function f(){try{return await n.renameCollection(a.connection,a.catalogName,a.entityType,o.value)?(await r.success(t("explorer.collection.rename.notification.collectionRenamed",{entityType:a.entityType,newName:o.value})),l("rename")):await r.info(t("explorer.collection.rename.notification.collectionNotRenamed",{entityType:a.entityType})),!0}catch(c){return await r.error(t("explorer.collection.rename.notification.couldNotRenameCollection",{entityType:a.entityType,reason:c.message})),!1}}return(c,v)=>{const h=ne("I18nT");return g(),N(oe,{"model-value":c.modelValue,changed:d.value,dangerous:"","confirm-button-icon":"mdi-pencil-outline",confirm:f,reset:p,"onUpdate:modelValue":v[1]||(v[1]=s=>l("update:modelValue",s))},{title:m(()=>[S(h,{keypath:"explorer.collection.rename.title"},{entityType:m(()=>[C("strong",null,y(c.entityType),1)]),_:1})]),default:m(()=>[S(we,{modelValue:o.value,"onUpdate:modelValue":v[0]||(v[0]=s=>o.value=s),label:b(t)("explorer.collection.rename.form.newName.label"),rules:u,required:""},null,8,["modelValue","label"])]),"confirm-button-body":m(()=>[x(y(b(t)("common.button.rename")),1)]),_:1},8,["model-value","changed"])}}}),nn=H({__name:"CollectionItem",props:{entityCollection:{}},emits:["change"],setup(e,{emit:i}){const n=ce(),r=va(),t=et(),{t:a}=q(),l=e,u=i,o=ut(),d=$(!1),p=$(!1),f=st(),c=tn(),v=V(()=>_()),h=V(()=>Array.from(v.value.values()));if(c.value==null)throw new pa("Catalog schema is not loaded yet, but collection item is already rendered!");function s(){n.createTab(r.createNew(f,c.value.name,l.entityCollection.entityType,void 0,!0))}function w(R){const E=v.value.get(R);E instanceof he&&E.execute()}function _(){const R=o.value!=null&&!o.value.readOnly,E=new Map;return E.set(J.ViewEntities,T(J.ViewEntities,ga.icon(),s)),E.set(J.ViewSchema,T(J.ViewSchema,tt.icon(),()=>n.createTab(t.createNew(f,new fa(c.value.name,l.entityCollection.entityType))))),E.set(J.ModifySubheader,new de(a("explorer.collection.subheader.modify"))),E.set(J.RenameCollection,T(J.RenameCollection,"mdi-pencil-outline",()=>p.value=!0,R)),E.set(J.DropCollection,T(J.DropCollection,"mdi-delete-outline",()=>d.value=!0,R)),E}function T(R,E,G,B=!0){return new he(R,a(`explorer.collection.actions.${R}`),E,G,void 0,!B)}return(R,E)=>(g(),L("div",null,[S(it,{"prepend-icon":"mdi-list-box-outline",actions:h.value,onClick:s,"onClick:action":w,class:"text-gray-light"},{default:m(()=>[x(y(R.entityCollection.entityType),1)]),_:1},8,["actions"]),p.value?(g(),N(on,{key:0,modelValue:p.value,"onUpdate:modelValue":E[0]||(E[0]=G=>p.value=G),connection:b(f),"catalog-name":b(c).name,"entity-type":R.entityCollection.entityType,onRename:E[1]||(E[1]=G=>u("change"))},null,8,["modelValue","connection","catalog-name","entity-type"])):z("",!0),d.value?(g(),N(an,{key:1,modelValue:d.value,"onUpdate:modelValue":E[2]||(E[2]=G=>d.value=G),connection:b(f),"catalog-name":b(c).name,"entity-type":R.entityCollection.entityType,onDrop:E[3]||(E[3]=G=>u("change"))},null,8,["modelValue","connection","catalog-name","entity-type"])):z("",!0)]))}}),ln=H({__name:"RenameCatalogDialog",props:{modelValue:{type:Boolean},connection:{},catalogName:{}},emits:["update:modelValue","rename"],setup(e,{emit:i}){const n=pe(),r=Z(),{t}=q(),a=e,l=i,u=[c=>c!=null&&c.trim().length>0?!0:t("explorer.catalog.rename.form.newName.validations.required"),async c=>{const v=await n.isCatalogNameValid(a.connection,c);return v==null?!0:t(`explorer.catalog.rename.form.newName.validations.${v}`)},async c=>c===a.catalogName||await n.isCatalogNameAvailable(a.connection,c)?!0:t("explorer.catalog.rename.form.newName.validations.notAvailable")],o=$(a.catalogName),d=V(()=>a.catalogName!==o.value);function p(){o.value=a.catalogName}async function f(){try{return await n.renameCatalog(a.connection,a.catalogName,o.value)?(await r.success(t("explorer.catalog.rename.notification.catalogRenamed",{catalogName:a.catalogName,newName:o.value})),l("rename")):await r.info(t("explorer.catalog.rename.notification.catalogNotRenamed",{catalogName:a.catalogName})),!0}catch(c){return await r.error(t("explorer.catalog.rename.notification.couldNotRenameCatalog",{catalogName:a.catalogName,reason:c.message})),!1}}return(c,v)=>{const h=ne("I18nT");return g(),N(oe,{"model-value":c.modelValue,changed:d.value,dangerous:"","confirm-button-icon":"mdi-pencil-outline",confirm:f,reset:p,"onUpdate:modelValue":v[1]||(v[1]=s=>l("update:modelValue",s))},{title:m(()=>[S(h,{keypath:"explorer.catalog.rename.title"},{catalogName:m(()=>[C("strong",null,y(c.catalogName),1)]),_:1})]),default:m(()=>[S(we,{modelValue:o.value,"onUpdate:modelValue":v[0]||(v[0]=s=>o.value=s),label:b(t)("explorer.catalog.rename.form.newName.label"),rules:u,required:""},null,8,["modelValue","label"])]),"confirm-button-body":m(()=>[x(y(b(t)("common.button.rename")),1)]),_:1},8,["model-value","changed"])}}}),rn=H({__name:"DropCatalogDialog",props:{modelValue:{type:Boolean},connection:{},catalogName:{}},emits:["update:modelValue","drop"],setup(e,{emit:i}){const n=pe(),r=Z(),{t}=q(),a=e,l=i;async function u(){try{return await n.dropCatalog(a.connection,a.catalogName)?(await r.success(t("explorer.catalog.drop.notification.catalogDropped",{catalogName:a.catalogName})),l("drop")):await r.info(t("explorer.catalog.drop.notification.catalogNotDropped",{catalogName:a.catalogName})),!0}catch(o){return await r.error(t("explorer.catalog.drop.notification.couldNotDropCatalog",{catalogName:a.catalogName,reason:o.message})),!1}}return(o,d)=>{const p=ne("I18nT");return g(),N(oe,{"model-value":o.modelValue,dangerous:"",changed:"","confirm-button-icon":"mdi-delete-outline",confirm:u,"onUpdate:modelValue":d[0]||(d[0]=f=>l("update:modelValue",f))},{title:m(()=>[S(p,{keypath:"explorer.catalog.drop.title"},{catalogName:m(()=>[C("strong",null,y(o.catalogName),1)]),_:1})]),"prepend-form":m(()=>[x(y(b(t)("explorer.catalog.drop.question")),1)]),"confirm-button-body":m(()=>[x(y(b(t)("common.button.drop")),1)]),_:1},8,["model-value"])}}}),sn=H({__name:"ReplaceCatalogDialog",props:{modelValue:{type:Boolean},connection:{},catalogName:{}},emits:["update:modelValue","replace"],setup(e,{emit:i}){const n=pe(),r=Z(),{t}=q(),a=e,l=i,u=[s=>s!=null&&s.trim().length>0?!0:t("explorer.catalog.replace.form.catalogNameToBeReplacedWith.validations.required"),async s=>s===a.catalogName||await n.isCatalogExists(a.connection,s)?!0:t("explorer.catalog.replace.form.catalogNameToBeReplacedWith.validations.notExists")],o=$(),d=V(()=>o.value==null?[]:o.value.map(s=>s.name)),p=$(!1),f=$(),c=V(()=>f.value!=null&&f.value.length>0);n.getCatalogs(a.connection).then(s=>{o.value=s.filter(w=>w.name!==a.catalogName),p.value=!0});function v(){o.value=[],p.value=!1,f.value=""}async function h(){try{return await n.replaceCatalog(a.connection,f.value,a.catalogName)?(await r.success(t("explorer.catalog.replace.notification.catalogReplaced",{catalogNameToBeReplaced:a.catalogName,catalogNameToBeReplacedWith:f.value})),l("replace")):await r.info(t("explorer.catalog.replace.notification.catalogNotReplaced",{catalogNameToBeReplaced:a.catalogName})),!0}catch(s){return await r.error(t("explorer.catalog.replace.notification.couldNotReplaceCatalog",{catalogNameToBeReplaced:a.catalogName,reason:s.message})),!1}}return(s,w)=>{const _=ne("I18nT");return g(),N(oe,{"model-value":s.modelValue,dangerous:"",changed:c.value,"confirm-button-icon":"mdi-file-replace-outline",confirm:h,reset:v,"onUpdate:modelValue":w[1]||(w[1]=T=>l("update:modelValue",T))},{title:m(()=>[S(_,{keypath:"explorer.catalog.replace.title"},{catalogNameToBeReplaced:m(()=>[C("strong",null,y(s.catalogName),1)]),_:1})]),default:m(()=>[S(Je,{modelValue:f.value,"onUpdate:modelValue":w[0]||(w[0]=T=>f.value=T),label:b(t)("explorer.catalog.replace.form.catalogNameToBeReplacedWith.label"),items:d.value,rules:u},null,8,["modelValue","label","items"])]),"append-form":m(()=>[S(_e,{icon:"mdi-information-outline",type:"info"},{default:m(()=>[S(_,{keypath:"explorer.catalog.replace.info"},ha({catalogNameToBeReplaced:m(()=>[C("strong",null,y(s.catalogName),1)]),_:2},[c.value?{name:"catalogNameToBeReplacedWith",fn:m(()=>[C("strong",null,y(f.value),1)]),key:"0"}:{name:"catalogNameToBeReplacedWith",fn:m(()=>[w[2]||(w[2]=C("strong",null,"?",-1))]),key:"1"}]),1024)]),_:1})]),"confirm-button-body":m(()=>[x(y(b(t)("common.button.replace")),1)]),_:1},8,["model-value","changed"])}}}),cn=H({__name:"CreateCollectionDialog",props:{modelValue:{type:Boolean},connection:{},catalogName:{}},emits:["update:modelValue","create"],setup(e,{emit:i}){const n=Ie(),r=Z(),{t}=q(),a=e,l=i,u=[c=>c!=null&&c.trim().length>0?!0:t("explorer.collection.create.form.entityType.validations.required"),async c=>{const v=await n.isEntityTypeValid(a.connection,c);return v==null?!0:t(`explorer.collection.create.form.entityType.validations.${v}`)},async c=>await n.isEntityTypeAvailable(a.connection,a.catalogName,c)?!0:t("explorer.collection.create.form.entityType.validations.notAvailable")],o=$(""),d=V(()=>o.value.length>0);function p(){o.value=""}async function f(){try{return await n.createCollection(a.connection,a.catalogName,o.value),await r.success(t("explorer.collection.create.notification.collectionCreated",{entityType:o.value})),l("create"),!0}catch(c){return await r.error(t("explorer.collection.create.notification.couldNotCreateCollection",{entityType:o.value,reason:c.message})),!1}}return(c,v)=>{const h=ne("I18nT");return g(),N(oe,{"model-value":c.modelValue,changed:d.value,"confirm-button-icon":"mdi-plus",confirm:f,reset:p,"onUpdate:modelValue":v[1]||(v[1]=s=>l("update:modelValue",s))},{title:m(()=>[S(h,{keypath:"explorer.collection.create.title"},{catalogName:m(()=>[C("strong",null,y(c.catalogName),1)]),_:1})]),default:m(()=>[S(we,{modelValue:o.value,"onUpdate:modelValue":v[0]||(v[0]=s=>o.value=s),label:b(t)("explorer.collection.create.form.entityType.label"),rules:u,required:""},null,8,["modelValue","label"])]),"confirm-button-body":m(()=>[x(y(b(t)("common.button.create")),1)]),_:1},8,["model-value","changed"])}}}),un=H({__name:"SwitchCatalogToAliveStateDialog",props:{modelValue:{type:Boolean},connection:{},catalogName:{}},emits:["update:modelValue","switch"],setup(e,{emit:i}){const n=pe(),r=Z(),{t}=q(),a=e,l=i;async function u(){try{return await n.switchCatalogToAliveState(a.connection,a.catalogName)?(await r.success(t("explorer.catalog.switchToAliveState.notification.catalogSwitched",{catalogName:a.catalogName})),l("switch")):await r.info(t("explorer.catalog.switchToAliveState.notification.catalogNotSwitched",{catalogName:a.catalogName})),!0}catch(o){return await r.error(t("explorer.catalog.switchToAliveState.notification.couldNotSwitchCatalog",{catalogName:a.catalogName,reason:o.message})),!1}}return(o,d)=>{const p=ne("I18nT");return g(),N(oe,{"model-value":o.modelValue,dangerous:"",changed:"","confirm-button-icon":"mdi-toggle-switch-outline",confirm:u,"onUpdate:modelValue":d[0]||(d[0]=f=>l("update:modelValue",f))},{title:m(()=>[S(p,{keypath:"explorer.catalog.switchToAliveState.title"},{catalogName:m(()=>[C("strong",null,y(o.catalogName),1)]),_:1})]),"prepend-form":m(()=>[x(y(b(t)("explorer.catalog.switchToAliveState.description")),1)]),"append-form":m(()=>[S(_e,{icon:"mdi-alert-outline",type:"warning"},{default:m(()=>[x(y(b(t)("explorer.catalog.switchToAliveState.warning")),1)]),_:1})]),"confirm-button-body":m(()=>[x(y(b(t)("common.button.switch")),1)]),_:1},8,["model-value"])}}});var ge=(e=>(e.Info="info",e.Warning="warning",e.Error="error",e))(ge||{});class se{constructor(i,n){ue(this,"value");ue(this,"type");this.value=i,this.type=n}static info(i){return new se(i,ge.Info)}static warning(i){return new se(i,ge.Warning)}static error(i){return new se(i,ge.Error)}}const dn={key:0},Sn=H({__name:"CatalogItem",props:{catalog:{}},emits:["change"],setup(e,{emit:i}){const n=ce(),r=Be(),t=ba(),a=ya(),l=et(),u=_a(),o=Z(),{t:d}=q(),p=e,f=i,c=ut(),v=$(!1),h=$(!1),s=$(!1),w=$(!1),_=$(!1),T=st(),R=V(()=>{const I=[];return p.catalog.corrupted&&I.push(se.error(d("explorer.catalog.flag.corrupted"))),p.catalog.isInWarmup&&I.push(se.warning(d("explorer.catalog.flag.warmingUp"))),I}),E=V(()=>j()),G=V(()=>Array.from(E.value.values())),B=V(()=>wa.List(p.catalog.entityCollections).sort((I,k)=>I.entityType.localeCompare(k.entityType))),A=$(p.catalog);en(A);const P=$(!1);async function W(){try{await r.closeAllSessions(T,p.catalog.name),await o.success(d("explorer.catalog.notification.closedAllSessions",{catalogName:p.catalog.name}))}catch(I){await o.error(d("explorer.catalog.notification.couldNotCloseSessions",{catalogName:p.catalog.name,reason:I.message}))}}function F(I){var D;const k=(D=E.value)==null?void 0:D.get(I);k&&k instanceof he&&k.execute()}function j(){const I=c.value!=null&&c.value.apiEnabled(Sa.GraphQL),k=!p.catalog.corrupted,D=c.value!=null&&!c.value.readOnly,U=new Map;return U.set(M.EvitaQLConsole,Q(M.EvitaQLConsole,Ca.icon(),()=>{n.createTab(t.createNew(T,p.catalog.name))},k)),U.set(M.GraphQLDataAPIConsole,Q(M.GraphQLDataAPIConsole,Fe.icon(),()=>{n.createTab(a.createNew(T,p.catalog.name,je.Data))},k&&I)),U.set(M.GraphQLSchemaAPIConsole,Q(M.GraphQLSchemaAPIConsole,Fe.icon(),()=>{n.createTab(a.createNew(T,p.catalog.name,je.Schema))},k&&I)),U.set(M.ViewSchema,Q(M.ViewSchema,tt.icon(),()=>{n.createTab(l.createNew(T,new Va(p.catalog.name)))},k)),U.set(M.TrafficSubheader,new de(d("explorer.catalog.subheader.traffic"))),U.set(M.ActiveTrafficRecording,Q(M.ActiveTrafficRecording,ka.icon(),()=>n.createTab(u.createNew(T,p.catalog.name)),k&&D)),U.set(M.ManageSubheader,new de(d("explorer.catalog.subheader.manage"))),U.set(M.CloseAllSessions,Q(M.CloseAllSessions,"mdi-lan-disconnect",()=>W())),U.set(M.ModifySubheader,new de(d("explorer.catalog.subheader.modify"))),U.set(M.RenameCatalog,Q(M.RenameCatalog,"mdi-pencil-outline",()=>v.value=!0,k&&D)),U.set(M.ReplaceCatalog,Q(M.ReplaceCatalog,"mdi-file-replace-outline",()=>h.value=!0,k&&D)),p.catalog.isInWarmup&&U.set(M.SwitchCatalogToAliveState,Q(M.SwitchCatalogToAliveState,"mdi-toggle-switch-outline",()=>s.value=!0,k&&D)),U.set(M.DropCatalog,Q(M.DropCatalog,"mdi-delete-outline",()=>w.value=!0,D)),U.set(M.CollectionsSubheader,new de(d("explorer.catalog.subheader.collections"))),U.set(M.CreateCollection,Q(M.CreateCollection,"mdi-plus",()=>_.value=!0,k&&D)),new Map(U)}function Q(I,k,D,U=!0){return new he(I,d(`explorer.catalog.actions.${I}`),k,D,void 0,!U)}return(I,k)=>(g(),N(Ta,{value:`${b(T).name}|${I.catalog.name}`},{activator:m(({isOpen:D,props:U})=>[S(it,ee(U,{openable:!I.catalog.corrupted,"is-open":D,"prepend-icon":"mdi-menu",loading:P.value,flags:R.value,actions:G.value,"onClick:action":F,class:"text-gray-light"}),{default:m(()=>[x(y(I.catalog.name),1)]),_:2},1040,["openable","is-open","loading","flags","actions"])]),default:m(()=>[I.catalog.corrupted?z("",!0):(g(),L("div",dn,[I.catalog.entityCollections.size>0?(g(!0),L(O,{key:0},ie(B.value,D=>(g(),N(nn,{key:D.entityType,"entity-collection":D,onChange:k[0]||(k[0]=U=>f("change"))},null,8,["entity-collection"]))),128)):(g(),N(Jo,{key:1}))])),v.value?(g(),N(ln,{key:1,modelValue:v.value,"onUpdate:modelValue":k[1]||(k[1]=D=>v.value=D),connection:b(T),"catalog-name":I.catalog.name,onRename:k[2]||(k[2]=D=>f("change"))},null,8,["modelValue","connection","catalog-name"])):z("",!0),h.value?(g(),N(sn,{key:2,modelValue:h.value,"onUpdate:modelValue":k[3]||(k[3]=D=>h.value=D),connection:b(T),"catalog-name":I.catalog.name,onReplace:k[4]||(k[4]=D=>f("change"))},null,8,["modelValue","connection","catalog-name"])):z("",!0),s.value?(g(),N(un,{key:3,modelValue:s.value,"onUpdate:modelValue":k[5]||(k[5]=D=>s.value=D),connection:b(T),"catalog-name":I.catalog.name,onSwitch:k[6]||(k[6]=D=>f("change"))},null,8,["modelValue","connection","catalog-name"])):z("",!0),w.value?(g(),N(rn,{key:4,modelValue:w.value,"onUpdate:modelValue":k[7]||(k[7]=D=>w.value=D),connection:b(T),"catalog-name":I.catalog.name,onDrop:k[8]||(k[8]=D=>f("change"))},null,8,["modelValue","connection","catalog-name"])):z("",!0),_.value?(g(),N(cn,{key:5,modelValue:_.value,"onUpdate:modelValue":k[9]||(k[9]=D=>_.value=D),connection:b(T),"catalog-name":I.catalog.name,onCreate:k[10]||(k[10]=D=>f("change"))},null,8,["modelValue","connection","catalog-name"])):z("",!0)]),_:1},8,["value"]))}});var mn=(e=>(e.Server="server",e.Tasks="tasks",e.TrafficRecordings="trafficRecordings",e.JfrRecordings="jfrRecordings",e.GraphQLSystemAPIConsole="graphQLSystemApiConsole",e.ManageSubheader="manageSubheader",e.Refresh="refresh",e.CloseAllSessions="closeAllSessions",e.ModifySubheader="modifySubheader",e.Edit="edit",e.Remove="remove",e.CatalogsSubheader="catalogsSubheader",e.CreateCatalog="createCatalog",e.CatalogBackups="catalogBackups",e))(mn||{});export{mn as C,se as I,de as M,fn as V,bn as W,Jo as _,yn as a,wn as b,Sn as c,hn as d,it as e,_n as p};
