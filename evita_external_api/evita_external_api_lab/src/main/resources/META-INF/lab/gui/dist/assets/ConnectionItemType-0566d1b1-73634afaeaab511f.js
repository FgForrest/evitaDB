var vt=Object.defineProperty;var pt=(e,s,o)=>s in e?vt(e,s,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[s]=o;var ue=(e,s,o)=>(pt(e,typeof s!="symbol"?s+"":s,o),o);import{p as ye,x as P,ah as X,z as C,ai as gt,y as K,$ as be,aj as Ve,ak as ft,g as Ce,al as Qe,am as me,an as ke,ao as fe,c as Ne,ap as Pe,d as w,E as J,aq as Oe,m as Fe,ar as ht,as as Ye,at as yt,au as bt,av as _t,aw as wt,ax as St,ay as Tt,az as Vt,aA as Ct,aB as kt,a as Nt,u as xt,b as Rt,aC as Dt,aD as We,aE as Bt,aF as $t,aG as Et,aH as It,aI as At,aJ as Lt,aK as Mt,a7 as xe,aL as Pt,aM as Wt,L as F,aN as Ht,aO as Ut,f as j,v as O,o as g,J as I,A as T,aP as Xe,B as y,C as h,_ as ee,h as ce,e as N,aQ as jt,aR as zt,aS as qt,aT as Gt,M as U,aU as Qt,r as oe,G as R,K as ie,w as u,aV as Ot,i as Ke,ab as Ze,aW as He,aX as Re,aY as Ft,aZ as Yt,a_ as Xt,t as te,X as Kt,a$ as Zt,b0 as Jt,Z as ae,a0 as ea,b1 as ta,b2 as aa,b3 as oa,b4 as we,a2 as ve,a3 as na,F as le,a5 as la,b5 as ia,b6 as Se,b7 as pe,ad as _e,aa as ne,a1 as Ue,V as sa,H as ra,I as Te,b8 as De,b9 as Be,ba as $e,bb as ca,bc as Je,bd as ua,N as he,be as da,bf as ma,bg as et,bh as va,bi as pa,bj as ga,j as fa,bk as ha,bl as ya,O as ba,ac as _a,bm as wa,R as je,U as ze,bn as Sa,bo as Ta}from"./index-73634afaeaab511f.js";import{a as tt,u as at,b as Va}from"./layout-6066fb81-73634afaeaab511f.js";const Ca=ye({scrollTarget:{type:String},scrollThreshold:{type:[String,Number],default:300}},"scroll");function ka(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{canScroll:o}=s;let n=0,t=0;const a=P(null),i=X(0),c=X(0),l=X(0),f=X(!1),d=X(!1),m=C(()=>Number(e.scrollThreshold)),r=C(()=>gt((m.value-i.value)/m.value||0)),p=()=>{const S=a.value;if(!S||o&&!o.value)return;n=i.value,i.value="window"in S?S.pageYOffset:S.scrollTop;const b=S instanceof Window?document.documentElement.scrollHeight:S.scrollHeight;if(t!==b){t=b;return}d.value=i.value<n,l.value=Math.abs(i.value-m.value)};return K(d,()=>{c.value=c.value||i.value}),K(f,()=>{c.value=0}),be(()=>{K(()=>e.scrollTarget,S=>{var A;const b=S?document.querySelector(S):window;b&&b!==a.value&&((A=a.value)==null||A.removeEventListener("scroll",p),a.value=b,a.value.addEventListener("scroll",p,{passive:!0}))},{immediate:!0})}),Ve(()=>{var S;(S=a.value)==null||S.removeEventListener("scroll",p)}),o&&K(o,p,{immediate:!0}),{scrollThreshold:m,currentScroll:i,currentThreshold:l,isScrollActive:f,scrollRatio:r,isScrollingUp:d,savedScroll:c}}const Na=ye({scrollBehavior:String,modelValue:{type:Boolean,default:!0},location:{type:String,default:"top",validator:e=>["top","bottom"].includes(e)},...ft(),...tt(),...Ca(),height:{type:[Number,String],default:64}},"VAppBar"),ot=Ce()({name:"VAppBar",props:Na(),emits:{"update:modelValue":e=>!0},setup(e,s){let{slots:o}=s;const n=P(),t=Qe(e,"modelValue"),a=C(()=>{var _;const v=new Set(((_=e.scrollBehavior)==null?void 0:_.split(" "))??[]);return{hide:v.has("hide"),fullyHide:v.has("fully-hide"),inverted:v.has("inverted"),collapse:v.has("collapse"),elevate:v.has("elevate"),fadeImage:v.has("fade-image")}}),i=C(()=>{const v=a.value;return v.hide||v.fullyHide||v.inverted||v.collapse||v.elevate||v.fadeImage||!t.value}),{currentScroll:c,scrollThreshold:l,isScrollingUp:f,scrollRatio:d}=ka(e,{canScroll:i}),m=C(()=>a.value.hide||a.value.fullyHide),r=C(()=>e.collapse||a.value.collapse&&(a.value.inverted?d.value>0:d.value===0)),p=C(()=>e.flat||a.value.fullyHide&&!t.value||a.value.elevate&&(a.value.inverted?c.value>0:c.value===0)),S=C(()=>a.value.fadeImage?a.value.inverted?1-d.value:d.value:void 0),b=C(()=>{var x,z;if(a.value.hide&&a.value.inverted)return 0;const v=((x=n.value)==null?void 0:x.contentHeight)??0,_=((z=n.value)==null?void 0:z.extensionHeight)??0;return m.value?c.value<l.value||a.value.fullyHide?v+_:v:v+_});me(C(()=>!!e.scrollBehavior),()=>{Oe(()=>{m.value?a.value.inverted?t.value=c.value>l.value:t.value=f.value||c.value<l.value:t.value=!0})});const{ssrBootStyles:A}=ke(),{layoutItemStyles:V}=at({id:e.name,order:C(()=>parseInt(e.order,10)),position:fe(e,"location"),layoutSize:b,elementSize:X(void 0),active:t,absolute:fe(e,"absolute")});return Ne(()=>{const v=Pe.filterProps(e);return w(Pe,J({ref:n,class:["v-app-bar",{"v-app-bar--bottom":e.location==="bottom"},e.class],style:[{...V.value,"--v-toolbar-image-opacity":S.value,height:void 0,...A.value},e.style]},v,{collapse:r.value,flat:p.value}),o)}),{}}});const xa=ye({scrollable:Boolean,...Fe(),...ht(),...Ye({tag:"main"})},"VMain"),Ra=Ce()({name:"VMain",props:xa(),setup(e,s){let{slots:o}=s;const{dimensionStyles:n}=yt(e),{mainStyles:t}=Va(),{ssrBootStyles:a}=ke();return Ne(()=>w(e.tag,{class:["v-main",{"v-main--scrollable":e.scrollable},e.class],style:[t.value,a.value,n.value,e.style]},{default:()=>{var i,c;return[e.scrollable?w("div",{class:"v-main__scroller"},[(i=o.default)==null?void 0:i.call(o)]):(c=o.default)==null?void 0:c.call(o)]}})),{}}});function Da(e){let{rootEl:s,isSticky:o,layoutItemStyles:n}=e;const t=X(!1),a=X(0),i=C(()=>{const f=typeof t.value=="boolean"?"top":t.value;return[o.value?{top:"auto",bottom:"auto",height:void 0}:void 0,t.value?{[f]:bt(a.value)}:{top:n.value.top}]});be(()=>{K(o,f=>{f?window.addEventListener("scroll",l,{passive:!0}):window.removeEventListener("scroll",l)},{immediate:!0})}),Ve(()=>{window.removeEventListener("scroll",l)});let c=0;function l(){const f=c>window.scrollY?"up":"down",d=s.value.getBoundingClientRect(),m=parseFloat(n.value.top??0),r=window.scrollY-Math.max(0,a.value-m),p=d.height+Math.max(a.value,m)-window.scrollY-window.innerHeight,S=parseFloat(getComputedStyle(s.value).getPropertyValue("--v-body-scroll-y"))||0;d.height<window.innerHeight-m?(t.value="top",a.value=m):f==="up"&&t.value==="bottom"||f==="down"&&t.value==="top"?(a.value=window.scrollY+d.top-S,t.value=!0):f==="down"&&p<=0?(a.value=0,t.value="bottom"):f==="up"&&r<=0&&(S?t.value!=="top"&&(a.value=-r+S+m,t.value="top"):(a.value=d.top+r,t.value="top")),c=window.scrollY}return{isStuck:t,stickyStyles:i}}const Ba=100,$a=20;function qe(e){const s=1.41421356237;return(e<0?-1:1)*Math.sqrt(Math.abs(e))*s}function Ge(e){if(e.length<2)return 0;if(e.length===2)return e[1].t===e[0].t?0:(e[1].d-e[0].d)/(e[1].t-e[0].t);let s=0;for(let o=e.length-1;o>0;o--){if(e[o].t===e[o-1].t)continue;const n=qe(s),t=(e[o].d-e[o-1].d)/(e[o].t-e[o-1].t);s+=(t-n)*Math.abs(t),o===e.length-1&&(s*=.5)}return qe(s)*1e3}function Ea(){const e={};function s(t){Array.from(t.changedTouches).forEach(a=>{(e[a.identifier]??(e[a.identifier]=new _t($a))).push([t.timeStamp,a])})}function o(t){Array.from(t.changedTouches).forEach(a=>{delete e[a.identifier]})}function n(t){var f;const a=(f=e[t])==null?void 0:f.values().reverse();if(!a)throw new Error(`No samples for touch id ${t}`);const i=a[0],c=[],l=[];for(const d of a){if(i[0]-d[0]>Ba)break;c.push({t:d[0],d:d[1].clientX}),l.push({t:d[0],d:d[1].clientY})}return{x:Ge(c),y:Ge(l),get direction(){const{x:d,y:m}=this,[r,p]=[Math.abs(d),Math.abs(m)];return r>p&&d>=0?"right":r>p&&d<=0?"left":p>r&&m>=0?"down":p>r&&m<=0?"up":Ia()}}}return{addMovement:s,endTouch:o,getVelocity:n}}function Ia(){throw new Error}function Aa(e){let{el:s,isActive:o,isTemporary:n,width:t,touchless:a,position:i}=e;be(()=>{window.addEventListener("touchstart",v,{passive:!0}),window.addEventListener("touchmove",_,{passive:!1}),window.addEventListener("touchend",x,{passive:!0})}),Ve(()=>{window.removeEventListener("touchstart",v),window.removeEventListener("touchmove",_),window.removeEventListener("touchend",x)});const c=C(()=>["left","right"].includes(i.value)),{addMovement:l,endTouch:f,getVelocity:d}=Ea();let m=!1;const r=X(!1),p=X(0),S=X(0);let b;function A(B,E){return(i.value==="left"?B:i.value==="right"?document.documentElement.clientWidth-B:i.value==="top"?B:i.value==="bottom"?document.documentElement.clientHeight-B:se())-(E?t.value:0)}function V(B){let E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const L=i.value==="left"?(B-S.value)/t.value:i.value==="right"?(document.documentElement.clientWidth-B-S.value)/t.value:i.value==="top"?(B-S.value)/t.value:i.value==="bottom"?(document.documentElement.clientHeight-B-S.value)/t.value:se();return E?Math.max(0,Math.min(1,L)):L}function v(B){if(a.value)return;const E=B.changedTouches[0].clientX,L=B.changedTouches[0].clientY,W=25,G=i.value==="left"?E<W:i.value==="right"?E>document.documentElement.clientWidth-W:i.value==="top"?L<W:i.value==="bottom"?L>document.documentElement.clientHeight-W:se(),q=o.value&&(i.value==="left"?E<t.value:i.value==="right"?E>document.documentElement.clientWidth-t.value:i.value==="top"?L<t.value:i.value==="bottom"?L>document.documentElement.clientHeight-t.value:se());(G||q||o.value&&n.value)&&(b=[E,L],S.value=A(c.value?E:L,o.value),p.value=V(c.value?E:L),m=S.value>-20&&S.value<80,f(B),l(B))}function _(B){const E=B.changedTouches[0].clientX,L=B.changedTouches[0].clientY;if(m){if(!B.cancelable){m=!1;return}const G=Math.abs(E-b[0]),q=Math.abs(L-b[1]);(c.value?G>q&&G>3:q>G&&q>3)?(r.value=!0,m=!1):(c.value?q:G)>3&&(m=!1)}if(!r.value)return;B.preventDefault(),l(B);const W=V(c.value?E:L,!1);p.value=Math.max(0,Math.min(1,W)),W>1?S.value=A(c.value?E:L,!0):W<0&&(S.value=A(c.value?E:L,!1))}function x(B){if(m=!1,!r.value)return;l(B),r.value=!1;const E=d(B.changedTouches[0].identifier),L=Math.abs(E.x),W=Math.abs(E.y);(c.value?L>W&&L>400:W>L&&W>3)?o.value=E.direction===({left:"right",right:"left",top:"down",bottom:"up"}[i.value]||se()):o.value=p.value>.5}const z=C(()=>r.value?{transform:i.value==="left"?`translateX(calc(-100% + ${p.value*t.value}px))`:i.value==="right"?`translateX(calc(100% - ${p.value*t.value}px))`:i.value==="top"?`translateY(calc(-100% + ${p.value*t.value}px))`:i.value==="bottom"?`translateY(calc(100% - ${p.value*t.value}px))`:se(),transition:"none"}:void 0);return me(r,()=>{var L,W;const B=((L=s.value)==null?void 0:L.style.transform)??null,E=((W=s.value)==null?void 0:W.style.transition)??null;Oe(()=>{var G,q,Q,$;(q=s.value)==null||q.style.setProperty("transform",((G=z.value)==null?void 0:G.transform)||"none"),($=s.value)==null||$.style.setProperty("transition",((Q=z.value)==null?void 0:Q.transition)||null)}),wt(()=>{var G,q;(G=s.value)==null||G.style.setProperty("transform",B),(q=s.value)==null||q.style.setProperty("transition",E)})}),{isDragging:r,dragProgress:p,dragStyles:z}}function se(){throw new Error}const La=["start","end","left","right","top","bottom"],Ma=ye({color:String,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,modelValue:{type:Boolean,default:null},permanent:Boolean,rail:{type:Boolean,default:null},railWidth:{type:[Number,String],default:56},scrim:{type:[Boolean,String],default:!0},image:String,temporary:Boolean,persistent:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},location:{type:String,default:"start",validator:e=>La.includes(e)},sticky:Boolean,...St(),...Fe(),...Tt(),...Vt({mobile:null}),...Ct(),...tt(),...kt(),...Ye({tag:"nav"}),...Nt()},"VNavigationDrawer"),mn=Ce()({name:"VNavigationDrawer",props:Ma(),emits:{"update:modelValue":e=>!0,"update:rail":e=>!0},setup(e,s){let{attrs:o,emit:n,slots:t}=s;const{isRtl:a}=xt(),{themeClasses:i}=Rt(e),{borderClasses:c}=Dt(e),{backgroundColorClasses:l,backgroundColorStyles:f}=We(fe(e,"color")),{elevationClasses:d}=Bt(e),{displayClasses:m,mobile:r}=$t(e),{roundedClasses:p}=Et(e),S=It(),b=Qe(e,"modelValue",null,Y=>!!Y),{ssrBootStyles:A}=ke(),{scopeId:V}=At(),v=P(),_=X(!1),{runOpenDelay:x,runCloseDelay:z}=Ht(e,Y=>{_.value=Y}),B=C(()=>e.rail&&e.expandOnHover&&_.value?Number(e.width):Number(e.rail?e.railWidth:e.width)),E=C(()=>Lt(e.location,a.value)),L=C(()=>e.persistent),W=C(()=>!e.permanent&&(r.value||e.temporary)),G=C(()=>e.sticky&&!W.value&&E.value!=="bottom");me(()=>e.expandOnHover&&e.rail!=null,()=>{K(_,Y=>n("update:rail",!Y))}),me(()=>!e.disableResizeWatcher,()=>{K(W,Y=>!e.permanent&&Ut(()=>b.value=!Y))}),me(()=>!e.disableRouteWatcher&&!!S,()=>{K(S.currentRoute,()=>W.value&&(b.value=!1))}),K(()=>e.permanent,Y=>{Y&&(b.value=!0)}),e.modelValue==null&&!W.value&&(b.value=e.permanent||!r.value);const{isDragging:q,dragProgress:Q}=Aa({el:v,isActive:b,isTemporary:W,width:B,touchless:fe(e,"touchless"),position:E}),$=C(()=>{const Y=W.value?0:e.rail&&e.expandOnHover?Number(e.railWidth):B.value;return q.value?Y*Q.value:Y}),k=C(()=>["top","bottom"].includes(e.location)?0:B.value),{layoutItemStyles:D,layoutItemScrimStyles:H}=at({id:e.name,order:C(()=>parseInt(e.order,10)),position:E,layoutSize:$,elementSize:k,active:C(()=>b.value||q.value),disableTransitions:C(()=>q.value),absolute:C(()=>e.absolute||G.value&&typeof Ee.value!="string")}),{isStuck:Ee,stickyStyles:dt}=Da({rootEl:v,isSticky:G,layoutItemStyles:D}),Ie=We(C(()=>typeof e.scrim=="string"?e.scrim:null)),mt=C(()=>({...q.value?{opacity:Q.value*.2,transition:"none"}:void 0,...H.value}));return Mt({VList:{bgColor:"transparent"}}),Ne(()=>{const Y=t.image||e.image;return w(F,null,[w(e.tag,J({ref:v,onMouseenter:x,onMouseleave:z,class:["v-navigation-drawer",`v-navigation-drawer--${E.value}`,{"v-navigation-drawer--expand-on-hover":e.expandOnHover,"v-navigation-drawer--floating":e.floating,"v-navigation-drawer--is-hovering":_.value,"v-navigation-drawer--rail":e.rail,"v-navigation-drawer--temporary":W.value,"v-navigation-drawer--persistent":L.value,"v-navigation-drawer--active":b.value,"v-navigation-drawer--sticky":G.value},i.value,l.value,c.value,m.value,d.value,p.value,e.class],style:[f.value,D.value,A.value,dt.value,e.style,["top","bottom"].includes(E.value)?{height:"auto"}:{}]},V,o),{default:()=>{var Ae,Le,Me;return[Y&&w("div",{key:"image",class:"v-navigation-drawer__img"},[t.image?w(Pt,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{alt:"",cover:!0,height:"inherit",src:e.image}}},t.image):w(xe,{key:"image-img",alt:"",cover:!0,height:"inherit",src:e.image},null)]),t.prepend&&w("div",{class:"v-navigation-drawer__prepend"},[(Ae=t.prepend)==null?void 0:Ae.call(t)]),w("div",{class:"v-navigation-drawer__content"},[(Le=t.default)==null?void 0:Le.call(t)]),t.append&&w("div",{class:"v-navigation-drawer__append"},[(Me=t.append)==null?void 0:Me.call(t)])]}}),w(Wt,{name:"fade-transition"},{default:()=>[W.value&&(q.value||b.value)&&!!e.scrim&&w("div",J({class:["v-navigation-drawer__scrim",Ie.backgroundColorClasses.value],style:[mt.value,Ie.backgroundColorStyles.value],onClick:()=>{L.value||(b.value=!1)}},V),null)]})])}),{isStuck:Ee}}});function Pa(e,s){return e.length<=s?e:e.substring(0,s-3)+"..."}const Wa={class:"loading-screen"},Ha={class:"loading-screen-info"},Ua=j({__name:"TabLoadingScreen",setup(e){const{t:s}=O();return(o,n)=>(g(),I("div",Wa,[T("div",Ha,[w(Xe,{size:48}),T("span",null,y(h(s)("tab.placeholder.loading")),1)])]))}});const ja=ee(Ua,[["__scopeId","data-v-b23d11da"]]),za=j({__name:"TabWindow",props:{id:{},component:{},componentProps:{}},setup(e){const s=ce(),o=e,n=P(!1),t=P();K(t,()=>{c()});function a(){n.value=!0,c()}function i(l){s.replaceTabData(o.id,l),c()}function c(){if(n.value&&t.value!=null&&t.value.path!=null){const l=t.value.path();l!=null&&s.subjectPathStatus.definePath(o.id,l)}}return(l,f)=>(g(),I(F,null,[(g(),N(Gt,null,[jt((g(),N(qt(l.component),J({ref_key:"componentInstance",ref:t},l.componentProps,{onReady:a,"onUpdate:data":i}),null,16)),[[zt,n.value]])],1024)),n.value?U("",!0):(g(),N(ja,{key:0}))],64))}}),nt="/lab/logo/evitalab-logo-representative.svg",qa={class:"editor-welcome-screen"},Ga={class:"editor-welcome-screen-hero"},Qa={class:"editor-welcome-screen-hero__header"},Oa={class:"editor-welcome-screen-hero__title"},Fa={class:"font-weight-bold mb-2",style:{"font-size":"4.375rem"}},Ya={class:"text-white",style:{"font-size":"1rem"}},Xa={class:"text-primary-lightest text-body-2",href:"https://github.com/lukashornych/evitalab/releases",target:"_blank"},Ka={class:"text-gray-light",style:{"font-size":"1rem"}},Za={class:"editor-welcome-screen-blog"},Ja=["href"],eo={class:"editor-welcome-screen-blog-img__wrap"},to=["src","alt"],ao={class:"editor-welcome-screen-blog-item__title"},oo={class:"editor-welcome-screen-blog-item__perex"},no={class:"editor-welcome-screen-blog-item__btn"},lo={class:"editor-welcome-screen-hero__links"},io={href:"https://evitadb.io/documentation",target:"_blank"},so={href:"https://github.com/lukashornych/evitalab/",target:"_blank"},ro={href:"https://discord.gg/VsNBWxgmSw",target:"_blank"},co={href:"https://github.com/lukashornych/evitalab/issues",target:"_blank"},uo=j({__name:"StandaloneWelcomeContent",props:{version:{}},setup(e){const s=Qt(),{t:o}=O(),n=P([]);return s.getBlogPosts().then(t=>{n.value=t}),(t,a)=>{const i=oe("I18nT");return g(),I("div",qa,[T("div",Ga,[T("header",Qa,[w(xe,{width:"240",height:"240","max-width":"240","max-height":"240",alt:"evitaLab Logo",src:nt,class:"evitalab-logo"}),T("div",Oa,[T("h1",Fa,y(h(o)("app.name")),1),T("p",Ya,[R(y(t.version)+" ",1),T("a",Xa,"("+y(h(o)("welcomeScreen.standalone.changelog"))+")",1)]),T("p",Ka,y(h(o)("welcomeScreen.standalone.description")),1)])]),T("div",Za,[(g(!0),I(F,null,ie(n.value,c=>(g(),I("a",{key:c.url,href:c.url,target:"_blank"},[T("span",eo,[T("img",{class:"Blog_BlogMotive__72hVr",height:"160",width:"480",src:c.thumbnailUrl,alt:h(o)("welcomeScreen.standalone.blog.thumbnail.alt",{title:c.title})},null,8,to)]),T("span",ao,y(c.title),1),T("span",oo,[w(Ot,{source:c.perex},null,8,["source"])]),T("span",no,y(h(o)("welcomeScreen.standalone.blog.button.read")),1)],8,Ja))),128))]),a[0]||(a[0]=T("span",{class:"editor-welcome-screen-hr"},"Â ",-1)),T("ul",lo,[w(i,{keypath:"welcomeScreen.standalone.link.evitaDBDocumentation.text",tag:"li"},{link:u(()=>[T("a",io,y(h(o)("welcomeScreen.standalone.link.evitaDBDocumentation.link")),1)]),_:1}),w(i,{keypath:"welcomeScreen.standalone.link.evitaLabGitHub.text",tag:"li"},{link:u(()=>[T("a",so,y(h(o)("welcomeScreen.standalone.link.evitaLabGitHub.link")),1)]),_:1}),w(i,{keypath:"welcomeScreen.standalone.link.discord.text",tag:"li"},{link:u(()=>[T("a",ro,y(h(o)("welcomeScreen.standalone.link.discord.link")),1)]),_:1}),T("li",null,[T("a",co,y(h(o)("welcomeScreen.standalone.link.submitIssue")),1)])])])])}}});const mo=ee(uo,[["__scopeId","data-v-05c785c0"]]),vo={class:"editor-welcome-screen"},po={class:"editor-welcome-screen-hero"},go={class:"editor-welcome-screen-hero__header"},fo={class:"editor-welcome-screen-hero__title"},ho={class:"font-weight-light mb-2",style:{"font-size":"2rem"}},yo={class:"font-weight-bold"},bo={class:"text-white",style:{"font-size":"1rem"}},_o={class:"text-primary-lightest text-body-2",href:"https://github.com/lukashornych/evitalab/releases",target:"_blank"},wo=j({__name:"DriverWelcomeContent",props:{version:{}},setup(e){const s=Ke(),{t:o}=O(),n=C(()=>s.getDriverConnection().name),t=localStorage.getItem("test");return(a,i)=>(g(),I("div",vo,[T("div",po,[T("header",go,[w(xe,{width:"60",height:"60","max-width":"60","max-height":"60",alt:"evitaLab Logo",src:nt,class:"evitalab-logo"}),T("div",fo,[R(y(h(t))+" ",1),T("h1",ho,[i[0]||(i[0]=R(" Connected to: ")),T("span",yo,y(n.value),1)]),T("p",bo,[R(y(h(o)("welcomeScreen.driver.description"))+" "+y(a.version)+" ",1),T("a",_o,"("+y(h(o)("welcomeScreen.driver.changelog"))+")",1)])])])])]))}});const So=ee(wo,[["__scopeId","data-v-3db7c719"]]),To=j({__name:"WelcomeScreen",setup(e){const s=Ze(),o=C(()=>{const n="v2025.2.0";return n.length===0?"?":n.substring(1)});return(n,t)=>h(s).runMode===h(He).Standalone?(g(),N(mo,{key:0,version:o.value},null,8,["version"])):h(s).runMode===h(He).Driver?(g(),N(So,{key:1,version:o.value},null,8,["version"])):U("",!0)}}),Vo=["innerHTML"],Co=["innerHTML"],ko=["innerHTML"],No=j({__name:"TabSharedDialog",props:{tabRequest:{}},emits:["resolve"],setup(e,{emit:s}){const o=ce(),{t:n}=O(),t=e,a=s;function i(){o.createTab(t.tabRequest),a("resolve")}function c(){a("resolve")}return(l,f)=>(g(),N(Xt,{"model-value":!0,"max-width":"36rem","onUpdate:modelValue":c},{title:u(()=>[R(y(h(n)("tabShare.sharedDialog.title")),1)]),default:u(()=>[l.tabRequest.initialData!=null?(g(),I("span",{key:0,innerHTML:h(n)("tabShare.sharedDialog.text.withoutInitialData")},null,8,Vo)):(g(),I("span",{key:1,innerHTML:h(n)("tabShare.sharedDialog.text.withInitialData")},null,8,Co)),l.tabRequest.initialData!=null?(g(),N(Re,{key:2,icon:"mdi-alert-outline",type:"warning",class:"mt-4"},{default:u(()=>[T("span",{innerHTML:h(n)("tabShare.sharedDialog.warning.potentiallyUnsafe")},null,8,ko)]),_:1})):U("",!0)]),"reject-button":u(()=>[w(Ft,{onReject:c},{default:u(()=>[R(y(h(n)("tabShare.sharedDialog.button.reject")),1)]),_:1})]),"confirm-button":u(()=>[w(Yt,{icon:"mdi-check",onConfirm:i},{default:u(()=>[R(y(h(n)("tabShare.sharedDialog.button.accept")),1)]),_:1})]),_:1}))}}),xo={key:1,style:{position:"relative"}},Ro=j({__name:"WorkspaceTabWindowList",setup(e){const s=Ze(),o=te(),n=Kt(),{t}=O(),a=ce(),i=Zt(),c=Jt(),l=P(!1),f=P(),d=P(a.getTabDefinitions());K(d,()=>{const V=a.getTheNewTab();V&&(m.value=V.id,a.markTabAsVisited(V.id))},{deep:!0});const m=P();K(m,(V,v)=>{V!=null?(n.setContext(V),a.subjectPathStatus.activatePath(V)):v!=null&&(n.resetActivatedContext(),a.subjectPathStatus.deactivatePath())});function r(V){if(m.value==null)return;let _=a.getTabIndex(m.value)+V;_<0?_=d.value.length-1:_>=d.value.length&&(_=0),m.value=d.value[_].id}function p(V){const v=d.value.length,_=d.value.findIndex(z=>z.id===m.value),x=d.value.findIndex(z=>z.id===V);a.destroyTab(V),n.deleteContext(V),a.subjectPathStatus.deletePath(V),d.value.length===0?m.value=null:x===_&&x===v-1?m.value=d.value[x-1].id:x===_&&x<v-1&&(m.value=d.value[x].id)}async function S(V){const v=V.get("demoSnippetRequest");if(v!=null)try{return await i.resolve(v)}catch(_){await o.error("Could not resolve demo code snippet",_)}}async function b(V){const v=V.get("sharedTab");if(v!=null)try{return await c.resolve(v)}catch(_){await o.error("Could not resolve shared tab",_)}}function A(){try{let V=!1;a.restoreTabsFromLastSession()&&(V=!0),a.restoreTabHistory()&&(V=!0),V&&o.info("Your last session has been restored.").then()}catch(V){console.error(V),o.warning("Failed to fully restore your last session.").then()}}if(s.playgroundMode){const V=new URLSearchParams(document.location.search);S(V).then(v=>(v!=null&&a.createTab(v),b(V))).then(v=>{v!=null&&(f.value=v,l.value=!0)})}else A();return be(()=>{n.bindGlobal(ae.System_Editor_PreviousTab,()=>r(-1)),n.bindGlobal(ae.System_Editor_NextTab,()=>r(1)),n.bindGlobal(ae.System_Editor_CloseTab,()=>{m.value!=null&&p(m.value)}),n.bindGlobal(ae.System_Editor_CloseAllTabs,()=>a.destroyAllTabs())}),ea(()=>{n.unbindGlobal(ae.System_Editor_PreviousTab),n.unbindGlobal(ae.System_Editor_NextTab),n.unbindGlobal(ae.System_Editor_CloseTab),n.unbindGlobal(ae.System_Editor_CloseAllTabs)}),(V,v)=>(g(),I(F,null,[d.value.length>0?(g(),N(ot,{key:0,density:"compact",elevation:"0"},{default:u(()=>[w(ta,{modelValue:m.value,"onUpdate:modelValue":v[0]||(v[0]=_=>m.value=_)},{default:u(()=>[(g(!0),I(F,null,ie(d.value,_=>(g(),N(oa,{key:_.id,value:_.id,"prepend-icon":_.icon,onMousedown:we(x=>p(_.id),["middle"]),class:"lab-tab"},{default:u(()=>[T("span",null,[R(y(h(Pa)(_.title,30))+" ",1),_.title.length>30?(g(),N(ve,{key:0,activator:"parent"},{default:u(()=>[R(y(_.title),1)]),_:2},1024)):U("",!0)]),w(na,{icon:"",variant:"plain",density:"compact",class:"ml-3",onClick:we(x=>p(_.id),["stop"])},{default:u(()=>[w(le,null,{default:u(()=>v[3]||(v[3]=[R("mdi-close")])),_:1}),w(la,{command:h(ae).System_Editor_CloseTab},{default:u(()=>[R(y(h(t)("tab.button.closeTab")),1)]),_:1},8,["command"])]),_:2},1032,["onClick"])]),_:2},1032,["value","prepend-icon","onMousedown"]))),128))]),_:1},8,["modelValue"])]),_:1})):U("",!0),w(Ra,{scrollable:!1,class:"lab-editor"},{default:u(()=>[d.value.length>0?(g(),N(aa,{key:0,modelValue:m.value,"onUpdate:modelValue":v[1]||(v[1]=_=>m.value=_)},{default:u(()=>[(g(!0),I(F,null,ie(d.value,_=>(g(),N(ia,{key:_.id,value:_.id,transition:!1,"reverse-transition":!1,class:"window-item"},{default:u(()=>[w(za,{id:_.id,component:_.component,"component-props":_.componentProps()},null,8,["id","component","component-props"])]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])):(g(),I("div",xo,[w(To)]))]),_:1}),f.value?(g(),N(No,{key:1,"tab-request":f.value,onResolve:v[2]||(v[2]=_=>f.value=void 0)},null,8,["tab-request"])):U("",!0)],64))}});const vn=ee(Ro,[["__scopeId","data-v-3801cf16"]]),Do={key:0,class:"editor-status"},Bo=j({__name:"EditorStatus",props:{status:{}},setup(e){const{t:s}=O(),o=e,n=C(()=>o.status.activatedEditorInfo),t=C(()=>{if(n.value!=null&&n.value.selections.size==1)return n.value.selections.get(0)});return(a,i)=>n.value?(g(),I("div",Do,[w(ve,null,{activator:u(({props:c})=>[T("span",J({class:"text-no-wrap"},c),[n.value.selections.size!=1?(g(),I(F,{key:0},[R(y(h(s)("common.statusBar.activeEditorStatus.selections.value.multipleSelections",{count:n.value.selections.size})),1)],64)):(g(),I(F,{key:1},[R(y(h(s)("common.statusBar.activeEditorStatus.selections.value.singleSelection.cursorPosition",{line:t.value.line,column:t.value.column}))+" ",1),t.value.selectedCharacterCount>0?(g(),I(F,{key:0},[R(" ("+y(h(s)("common.statusBar.activeEditorStatus.selections.value.singleSelection.selectionRange",{charsCount:t.value.selectedCharacterCount})),1),t.value.lineBreaks>0?(g(),I(F,{key:0},[R(", "+y(h(s)("common.statusBar.activeEditorStatus.selections.value.singleSelection.lineBreaks",{lineBreaks:t.value.lineBreaks})),1)],64)):U("",!0),i[0]||(i[0]=R(") "))],64)):U("",!0)],64))],16)]),default:u(()=>[R(y(h(s)("common.statusBar.activeEditorStatus.selections.label")),1)]),_:1}),w(ve,null,{activator:u(({props:c})=>[T("span",J({class:"text-no-wrap"},c),y(h(s)("common.statusBar.activeEditorStatus.tabSize.value",{tabSize:n.value.tabSize})),17)]),default:u(()=>[R(y(h(s)("common.statusBar.activeEditorStatus.tabSize.label")),1)]),_:1}),w(ve,null,{activator:u(({props:c})=>[T("span",J({class:"text-no-wrap"},c),y(n.value.language),17)]),default:u(()=>[R(y(h(s)("common.statusBar.activeEditorStatus.language.label")),1)]),_:1})])):U("",!0)}});const $o=ee(Bo,[["__scopeId","data-v-ab91fc98"]]),Eo=j({__name:"SubjectPathStatusItem",props:{item:{}},setup(e){const s=e;function o(){s.item.onClick!=null&&s.item.onClick()}return(n,t)=>(g(),I("div",{class:Se(["subject-path-status-item",{"subject-path-status-item--clickable":n.item.onClick!=null}]),onClick:o},[n.item.icon?(g(),N(le,{key:0,icon:n.item.icon,size:"12"},null,8,["icon"])):U("",!0),T("span",null,y(n.item.value),1)],2))}});const Io=ee(Eo,[["__scopeId","data-v-3925741a"]]);const Ao={};function Lo(e,s){return g(),N(le,{icon:"mdi-chevron-right",size:"12",class:"text-disabled subject-path-status-item-delimiter"})}const Mo=ee(Ao,[["render",Lo],["__scopeId","data-v-a85df1cb"]]),Po={key:0,class:"subject-path-status"},Wo=j({__name:"SubjectPathStatus",props:{status:{}},setup(e){const s=e,o=C(()=>s.status.activatedPath);return(n,t)=>o.value?(g(),I("div",Po,[(g(!0),I(F,null,ie(o.value.items,(a,i)=>(g(),I(F,{key:i},[w(Io,{item:a},null,8,["item"]),i+1<o.value.items.size?(g(),N(Mo,{key:0})):U("",!0)],64))),128))])):U("",!0)}});const Ho=ee(Wo,[["__scopeId","data-v-91b66f15"]]),Uo={class:"left-content"},jo={class:"right-content"},zo=j({__name:"WorkspaceStatusBar",setup(e){const s=ce(),o=C(()=>s.subjectPathStatus),n=C(()=>s.editorStatus);return(t,a)=>(g(),N(ot,{height:"28",location:"bottom",flat:"",class:"bg-primary-dark status-bar"},{default:u(()=>[T("div",Uo,[w(Ho,{status:o.value},null,8,["status"])]),T("div",jo,[w($o,{status:n.value},null,8,["status"])])]),_:1}))}});const pn=ee(zo,[["__scopeId","data-v-18101a46"]]),gn=j({__name:"CreateCatalogDialog",props:{modelValue:{type:Boolean},connection:{}},emits:["update:modelValue","create"],setup(e,{emit:s}){const o=pe(),n=te(),{t}=O(),a=e,i=s,c=[r=>r!=null&&r.trim().length>0?!0:t("explorer.catalog.create.form.catalogName.validations.required"),async r=>{const p=await o.isCatalogNameValid(a.connection,r);return p==null?!0:t(`explorer.catalog.create.form.catalogName.validations.${p}`)},async r=>await o.isCatalogNameAvailable(a.connection,r)?!0:t("explorer.catalog.create.form.catalogName.validations.notAvailable")],l=P(""),f=C(()=>l.value.length>0);function d(){l.value=""}async function m(){try{return await o.createCatalog(a.connection,l.value),await n.success(t("explorer.catalog.create.notification.catalogCreated",{catalogName:l.value})),i("create"),!0}catch(r){return await n.error(t("explorer.catalog.create.notification.couldNotCreateCatalog",{catalogName:l.value,reason:r.message})),!1}}return(r,p)=>(g(),N(ne,{"model-value":r.modelValue,changed:f.value,"confirm-button-icon":"mdi-plus",confirm:m,reset:d,"onUpdate:modelValue":p[1]||(p[1]=S=>i("update:modelValue",S))},{title:u(()=>[R(y(h(t)("explorer.catalog.create.title")),1)]),default:u(()=>[w(_e,{modelValue:l.value,"onUpdate:modelValue":p[0]||(p[0]=S=>l.value=S),label:h(t)("explorer.catalog.create.form.catalogName.label"),rules:c,required:""},null,8,["modelValue","label"])]),"confirm-button-body":u(()=>[R(y(h(t)("common.button.create")),1)]),_:1},8,["model-value","changed"]))}});var M=(e=>(e.EvitaQLConsole="evitaQLConsole",e.GraphQLDataAPIConsole="graphQLDataApiConsole",e.GraphQLSchemaAPIConsole="graphQLSchemaApiConsole",e.ViewSchema="viewSchema",e.TrafficSubheader="trafficSubheader",e.ActiveTrafficRecording="activeTrafficRecording",e.ManageSubheader="manageSubheader",e.CloseAllSessions="closeAllSessions",e.ModifySubheader="modifySubheader",e.DropCatalog="dropCatalog",e.RenameCatalog="renameCatalog",e.ReplaceCatalog="replaceCatalog",e.SwitchCatalogToAliveState="switchCatalogToAliveState",e.CollectionsSubheader="collectionsSubheader",e.CreateCollection="createCollection",e))(M||{});const qo={class:"tree-view-item__content"},Go={key:0,class:"tree-view-item__flags"},Qo={key:0,class:"tree-view-item__flags"},Oo=j({__name:"VTreeViewItem",props:{openable:{type:Boolean,default:!1},isOpen:{type:Boolean,default:!1},prependIcon:{},loading:{type:Boolean,default:!1},flags:{default:()=>[]},actions:{default:()=>[]}},emits:["click:action","click:actionMenu"],setup(e,{emit:s}){const o=e,n=P(!1),t=s;function a(){t("click:actionMenu"),o.actions&&o.actions.length>0&&(n.value=!0)}return(i,c)=>(g(),N(Te,{"prepend-icon":null,"append-icon":null,onContextmenu:we(a,["prevent"])},{default:u(()=>[T("div",qo,[i.openable?(g(),N(le,{key:0},{default:u(()=>[R(y(i.isOpen?"mdi-chevron-up":"mdi-chevron-down"),1)]),_:1})):(g(),N(le,{key:1})),i.loading?(g(),N(Xe,{key:2})):(g(),N(le,{key:3},{default:u(()=>[R(y(i.prependIcon),1)]),_:1})),w(ve,null,{activator:u(({props:l})=>[T("span",J(l,{class:"tree-view-item__text text-truncate"}),[Ue(i.$slots,"default",{},()=>[c[3]||(c[3]=T("span",{class:"text-disabled"}," No items found ",-1))],!0),i.flags.length>0?(g(),I("span",Go,[(g(!0),I(F,null,ie(i.flags,f=>(g(),I("span",{key:f.value,class:Se(["tree-view-item__flag",`tree-view-item__flag--${f.type}`])},y(f.value),3))),128))])):U("",!0)],16)]),default:u(()=>[Ue(i.$slots,"default",{},void 0,!0),i.flags.length>0?(g(),I("span",Qo,[(g(!0),I(F,null,ie(i.flags,l=>(g(),I("span",{key:l.value,class:Se(["tree-view-item__flag","tree-view-item__lg-flag",`tree-view-item__flag--${l.type}`])},y(l.value),3))),128))])):U("",!0)]),_:3}),i.actions&&i.actions.length>0?(g(),N(sa,{key:4,"menu-items":i.actions,modelValue:n.value,"onUpdate:modelValue":c[2]||(c[2]=l=>n.value=l)},{activator:u(({props:l})=>[w(le,J(l,{class:"text-gray-light",onClick:c[0]||(c[0]=f=>t("click:actionMenu"))}),{default:u(()=>c[4]||(c[4]=[R(" mdi-dots-vertical ")])),_:2},1040)]),default:u(()=>[w(ra,{density:"compact",items:i.actions,"onClick:select":c[1]||(c[1]=l=>i.$emit("click:action",l.id))},{item:u(({props:l})=>[w(Te,{"prepend-icon":l.prependIcon,value:l.value,disabled:l.disabled},{default:u(()=>[R(y(l.title),1)]),_:2},1032,["prepend-icon","value","disabled"])]),_:1},8,["items"])]),_:1},8,["menu-items","modelValue"])):U("",!0)])]),_:3}))}});const lt=ee(Oo,[["__scopeId","data-v-1c78241c"]]),Fo={class:"pl-8 text-disabled"},Yo=j({__name:"VTreeViewEmptyItem",setup(e){const{t:s}=O();return(o,n)=>(g(),N(Te,null,{default:u(()=>[T("span",Fo,y(h(s)("common.list.empty")),1)]),_:1}))}});var Z=(e=>(e.ViewEntities="viewEntities",e.ViewSchema="viewSchema",e.ModifySubheader="modifySubheader",e.DropCollection="dropCollection",e.RenameCollection="renameCollection",e))(Z||{});const it=Symbol("connection");function fn(e){De(it,e)}function st(){return Be(it)}const rt=Symbol("serverStatus");function hn(e){De(rt,e)}function ct(){return Be(rt)}const ut=Symbol("catalog");function Xo(e){De(ut,e)}function Ko(){return Be(ut)}class de{constructor(s){ue(this,"title");ue(this,"type","subheader");this.title=s}}const Zo=j({__name:"DropCollectionDialog",props:{modelValue:{type:Boolean},connection:{},catalogName:{},entityType:{}},emits:["update:modelValue","drop"],setup(e,{emit:s}){const o=$e(),n=te(),{t}=O(),a=e,i=s;async function c(){try{return await o.dropCollection(a.connection,a.catalogName,a.entityType)?(await n.success(t("explorer.collection.drop.notification.collectionDropped",{entityType:a.entityType})),i("drop")):await n.info(t("explorer.collection.drop.notification.collectionNotDropped",{entityType:a.entityType})),!0}catch(l){return await n.error(t("explorer.collection.drop.notification.couldNotDropCollection",{entityType:a.entityType,reason:l.message})),!1}}return(l,f)=>{const d=oe("I18nT");return g(),N(ne,{"model-value":l.modelValue,dangerous:"",changed:"","confirm-button-icon":"mdi-delete-outline",confirm:c,"onUpdate:modelValue":f[0]||(f[0]=m=>i("update:modelValue",m))},{title:u(()=>[w(d,{keypath:"explorer.collection.drop.title"},{entityType:u(()=>[T("strong",null,y(l.entityType),1)]),_:1})]),"prepend-form":u(()=>[R(y(h(t)("explorer.collection.drop.question")),1)]),"confirm-button-body":u(()=>[R(y(h(t)("common.button.drop")),1)]),_:1},8,["model-value"])}}}),Jo=j({__name:"RenameCollectionDialog",props:{modelValue:{type:Boolean},connection:{},catalogName:{},entityType:{}},emits:["update:modelValue","rename"],setup(e,{emit:s}){const o=$e(),n=te(),{t}=O(),a=e,i=s,c=[r=>r!=null&&r.trim().length>0?!0:t("explorer.collection.rename.form.newName.validations.required"),async r=>{const p=await o.isEntityTypeValid(a.connection,r);return p==null?!0:t(`explorer.collection.rename.form.newName.validations.${p}`)},async r=>r===a.entityType||await o.isEntityTypeAvailable(a.connection,a.catalogName,r)?!0:t("explorer.collection.rename.form.newName.validations.notAvailable")],l=P(a.entityType),f=C(()=>l.value!==a.entityType);function d(){l.value=a.entityType}async function m(){try{return await o.renameCollection(a.connection,a.catalogName,a.entityType,l.value)?(await n.success(t("explorer.collection.rename.notification.collectionRenamed",{entityType:a.entityType,newName:l.value})),i("rename")):await n.info(t("explorer.collection.rename.notification.collectionNotRenamed",{entityType:a.entityType})),!0}catch(r){return await n.error(t("explorer.collection.rename.notification.couldNotRenameCollection",{entityType:a.entityType,reason:r.message})),!1}}return(r,p)=>{const S=oe("I18nT");return g(),N(ne,{"model-value":r.modelValue,changed:f.value,dangerous:"","confirm-button-icon":"mdi-pencil-outline",confirm:m,reset:d,"onUpdate:modelValue":p[1]||(p[1]=b=>i("update:modelValue",b))},{title:u(()=>[w(S,{keypath:"explorer.collection.rename.title"},{entityType:u(()=>[T("strong",null,y(r.entityType),1)]),_:1})]),default:u(()=>[w(_e,{modelValue:l.value,"onUpdate:modelValue":p[0]||(p[0]=b=>l.value=b),label:h(t)("explorer.collection.rename.form.newName.label"),rules:c,required:""},null,8,["modelValue","label"])]),"confirm-button-body":u(()=>[R(y(h(t)("common.button.rename")),1)]),_:1},8,["model-value","changed"])}}}),en=j({__name:"CollectionItem",props:{entityCollection:{}},emits:["change"],setup(e,{emit:s}){const o=ce(),n=ca(),t=Je(),{t:a}=O(),i=e,c=s,l=ct(),f=P(!1),d=P(!1),m=st(),r=Ko(),p=C(()=>V()),S=C(()=>Array.from(p.value.values()));if(r.value==null)throw new ua("Catalog schema is not loaded yet, but collection item is already rendered!");function b(){o.createTab(n.createNew(m,r.value.name,i.entityCollection.entityType,void 0,!0))}function A(_){const x=p.value.get(_);x instanceof he&&x.execute()}function V(){const _=l.value!=null&&!l.value.readOnly,x=new Map;return x.set(Z.ViewEntities,v(Z.ViewEntities,da.icon(),b)),x.set(Z.ViewSchema,v(Z.ViewSchema,et.icon(),()=>o.createTab(t.createNew(m,new ma(r.value.name,i.entityCollection.entityType))))),x.set(Z.ModifySubheader,new de(a("explorer.collection.subheader.modify"))),x.set(Z.RenameCollection,v(Z.RenameCollection,"mdi-pencil-outline",()=>d.value=!0,_)),x.set(Z.DropCollection,v(Z.DropCollection,"mdi-delete-outline",()=>f.value=!0,_)),x}function v(_,x,z,B=!0){return new he(_,a(`explorer.collection.actions.${_}`),x,z,void 0,!B)}return(_,x)=>(g(),I("div",null,[w(lt,{"prepend-icon":"mdi-list-box-outline",actions:S.value,onClick:b,"onClick:action":A,class:"text-gray-light"},{default:u(()=>[R(y(_.entityCollection.entityType),1)]),_:1},8,["actions"]),d.value?(g(),N(Jo,{key:0,modelValue:d.value,"onUpdate:modelValue":x[0]||(x[0]=z=>d.value=z),connection:h(m),"catalog-name":h(r).name,"entity-type":_.entityCollection.entityType,onRename:x[1]||(x[1]=z=>c("change"))},null,8,["modelValue","connection","catalog-name","entity-type"])):U("",!0),f.value?(g(),N(Zo,{key:1,modelValue:f.value,"onUpdate:modelValue":x[2]||(x[2]=z=>f.value=z),connection:h(m),"catalog-name":h(r).name,"entity-type":_.entityCollection.entityType,onDrop:x[3]||(x[3]=z=>c("change"))},null,8,["modelValue","connection","catalog-name","entity-type"])):U("",!0)]))}}),tn=j({__name:"RenameCatalogDialog",props:{modelValue:{type:Boolean},connection:{},catalogName:{}},emits:["update:modelValue","rename"],setup(e,{emit:s}){const o=pe(),n=te(),{t}=O(),a=e,i=s,c=[r=>r!=null&&r.trim().length>0?!0:t("explorer.catalog.rename.form.newName.validations.required"),async r=>{const p=await o.isCatalogNameValid(a.connection,r);return p==null?!0:t(`explorer.catalog.rename.form.newName.validations.${p}`)},async r=>r===a.catalogName||await o.isCatalogNameAvailable(a.connection,r)?!0:t("explorer.catalog.rename.form.newName.validations.notAvailable")],l=P(a.catalogName),f=C(()=>a.catalogName!==l.value);function d(){l.value=a.catalogName}async function m(){try{return await o.renameCatalog(a.connection,a.catalogName,l.value)?(await n.success(t("explorer.catalog.rename.notification.catalogRenamed",{catalogName:a.catalogName,newName:l.value})),i("rename")):await n.info(t("explorer.catalog.rename.notification.catalogNotRenamed",{catalogName:a.catalogName})),!0}catch(r){return await n.error(t("explorer.catalog.rename.notification.couldNotRenameCatalog",{catalogName:a.catalogName,reason:r.message})),!1}}return(r,p)=>{const S=oe("I18nT");return g(),N(ne,{"model-value":r.modelValue,changed:f.value,dangerous:"","confirm-button-icon":"mdi-pencil-outline",confirm:m,reset:d,"onUpdate:modelValue":p[1]||(p[1]=b=>i("update:modelValue",b))},{title:u(()=>[w(S,{keypath:"explorer.catalog.rename.title"},{catalogName:u(()=>[T("strong",null,y(r.catalogName),1)]),_:1})]),default:u(()=>[w(_e,{modelValue:l.value,"onUpdate:modelValue":p[0]||(p[0]=b=>l.value=b),label:h(t)("explorer.catalog.rename.form.newName.label"),rules:c,required:""},null,8,["modelValue","label"])]),"confirm-button-body":u(()=>[R(y(h(t)("common.button.rename")),1)]),_:1},8,["model-value","changed"])}}}),an=j({__name:"DropCatalogDialog",props:{modelValue:{type:Boolean},connection:{},catalogName:{}},emits:["update:modelValue","drop"],setup(e,{emit:s}){const o=pe(),n=te(),{t}=O(),a=e,i=s;async function c(){try{return await o.dropCatalog(a.connection,a.catalogName)?(await n.success(t("explorer.catalog.drop.notification.catalogDropped",{catalogName:a.catalogName})),i("drop")):await n.info(t("explorer.catalog.drop.notification.catalogNotDropped",{catalogName:a.catalogName})),!0}catch(l){return await n.error(t("explorer.catalog.drop.notification.couldNotDropCatalog",{catalogName:a.catalogName,reason:l.message})),!1}}return(l,f)=>{const d=oe("I18nT");return g(),N(ne,{"model-value":l.modelValue,dangerous:"",changed:"","confirm-button-icon":"mdi-delete-outline",confirm:c,"onUpdate:modelValue":f[0]||(f[0]=m=>i("update:modelValue",m))},{title:u(()=>[w(d,{keypath:"explorer.catalog.drop.title"},{catalogName:u(()=>[T("strong",null,y(l.catalogName),1)]),_:1})]),"prepend-form":u(()=>[R(y(h(t)("explorer.catalog.drop.question")),1)]),"confirm-button-body":u(()=>[R(y(h(t)("common.button.drop")),1)]),_:1},8,["model-value"])}}}),on=j({__name:"ReplaceCatalogDialog",props:{modelValue:{type:Boolean},connection:{},catalogName:{}},emits:["update:modelValue","replace"],setup(e,{emit:s}){const o=pe(),n=te(),{t}=O(),a=e,i=s,c=[b=>b!=null&&b.trim().length>0?!0:t("explorer.catalog.replace.form.catalogNameToBeReplacedWith.validations.required"),async b=>b===a.catalogName||await o.isCatalogExists(a.connection,b)?!0:t("explorer.catalog.replace.form.catalogNameToBeReplacedWith.validations.notExists")],l=P(),f=C(()=>l.value==null?[]:l.value.map(b=>b.name)),d=P(!1),m=P(),r=C(()=>m.value!=null&&m.value.length>0);o.getCatalogs(a.connection).then(b=>{l.value=b.filter(A=>A.name!==a.catalogName),d.value=!0});function p(){l.value=[],d.value=!1,m.value=""}async function S(){try{return await o.replaceCatalog(a.connection,m.value,a.catalogName)?(await n.success(t("explorer.catalog.replace.notification.catalogReplaced",{catalogNameToBeReplaced:a.catalogName,catalogNameToBeReplacedWith:m.value})),i("replace")):await n.info(t("explorer.catalog.replace.notification.catalogNotReplaced",{catalogNameToBeReplaced:a.catalogName})),!0}catch(b){return await n.error(t("explorer.catalog.replace.notification.couldNotReplaceCatalog",{catalogNameToBeReplaced:a.catalogName,reason:b.message})),!1}}return(b,A)=>{const V=oe("I18nT");return g(),N(ne,{"model-value":b.modelValue,dangerous:"",changed:r.value,"confirm-button-icon":"mdi-file-replace-outline",confirm:S,reset:p,"onUpdate:modelValue":A[1]||(A[1]=v=>i("update:modelValue",v))},{title:u(()=>[w(V,{keypath:"explorer.catalog.replace.title"},{catalogNameToBeReplaced:u(()=>[T("strong",null,y(b.catalogName),1)]),_:1})]),default:u(()=>[w(va,{modelValue:m.value,"onUpdate:modelValue":A[0]||(A[0]=v=>m.value=v),label:h(t)("explorer.catalog.replace.form.catalogNameToBeReplacedWith.label"),items:f.value,rules:c},null,8,["modelValue","label","items"])]),"append-form":u(()=>[w(Re,{icon:"mdi-information-outline",type:"info"},{default:u(()=>[w(V,{keypath:"explorer.catalog.replace.info"},pa({catalogNameToBeReplaced:u(()=>[T("strong",null,y(b.catalogName),1)]),_:2},[r.value?{name:"catalogNameToBeReplacedWith",fn:u(()=>[T("strong",null,y(m.value),1)]),key:"0"}:{name:"catalogNameToBeReplacedWith",fn:u(()=>[A[2]||(A[2]=T("strong",null,"?",-1))]),key:"1"}]),1024)]),_:1})]),"confirm-button-body":u(()=>[R(y(h(t)("common.button.replace")),1)]),_:1},8,["model-value","changed"])}}}),nn=j({__name:"CreateCollectionDialog",props:{modelValue:{type:Boolean},connection:{},catalogName:{}},emits:["update:modelValue","create"],setup(e,{emit:s}){const o=$e(),n=te(),{t}=O(),a=e,i=s,c=[r=>r!=null&&r.trim().length>0?!0:t("explorer.collection.create.form.entityType.validations.required"),async r=>{const p=await o.isEntityTypeValid(a.connection,r);return p==null?!0:t(`explorer.collection.create.form.entityType.validations.${p}`)},async r=>await o.isEntityTypeAvailable(a.connection,a.catalogName,r)?!0:t("explorer.collection.create.form.entityType.validations.notAvailable")],l=P(""),f=C(()=>l.value.length>0);function d(){l.value=""}async function m(){try{return await o.createCollection(a.connection,a.catalogName,l.value),await n.success(t("explorer.collection.create.notification.collectionCreated",{entityType:l.value})),i("create"),!0}catch(r){return await n.error(t("explorer.collection.create.notification.couldNotCreateCollection",{entityType:l.value,reason:r.message})),!1}}return(r,p)=>{const S=oe("I18nT");return g(),N(ne,{"model-value":r.modelValue,changed:f.value,"confirm-button-icon":"mdi-plus",confirm:m,reset:d,"onUpdate:modelValue":p[1]||(p[1]=b=>i("update:modelValue",b))},{title:u(()=>[w(S,{keypath:"explorer.collection.create.title"},{catalogName:u(()=>[T("strong",null,y(r.catalogName),1)]),_:1})]),default:u(()=>[w(_e,{modelValue:l.value,"onUpdate:modelValue":p[0]||(p[0]=b=>l.value=b),label:h(t)("explorer.collection.create.form.entityType.label"),rules:c,required:""},null,8,["modelValue","label"])]),"confirm-button-body":u(()=>[R(y(h(t)("common.button.create")),1)]),_:1},8,["model-value","changed"])}}}),ln=j({__name:"SwitchCatalogToAliveStateDialog",props:{modelValue:{type:Boolean},connection:{},catalogName:{}},emits:["update:modelValue","switch"],setup(e,{emit:s}){const o=pe(),n=te(),{t}=O(),a=e,i=s;async function c(){try{return await o.switchCatalogToAliveState(a.connection,a.catalogName)?(await n.success(t("explorer.catalog.switchToAliveState.notification.catalogSwitched",{catalogName:a.catalogName})),i("switch")):await n.info(t("explorer.catalog.switchToAliveState.notification.catalogNotSwitched",{catalogName:a.catalogName})),!0}catch(l){return await n.error(t("explorer.catalog.switchToAliveState.notification.couldNotSwitchCatalog",{catalogName:a.catalogName,reason:l.message})),!1}}return(l,f)=>{const d=oe("I18nT");return g(),N(ne,{"model-value":l.modelValue,dangerous:"",changed:"","confirm-button-icon":"mdi-toggle-switch-outline",confirm:c,"onUpdate:modelValue":f[0]||(f[0]=m=>i("update:modelValue",m))},{title:u(()=>[w(d,{keypath:"explorer.catalog.switchToAliveState.title"},{catalogName:u(()=>[T("strong",null,y(l.catalogName),1)]),_:1})]),"prepend-form":u(()=>[R(y(h(t)("explorer.catalog.switchToAliveState.description")),1)]),"append-form":u(()=>[w(Re,{icon:"mdi-alert-outline",type:"warning"},{default:u(()=>[R(y(h(t)("explorer.catalog.switchToAliveState.warning")),1)]),_:1})]),"confirm-button-body":u(()=>[R(y(h(t)("common.button.switch")),1)]),_:1},8,["model-value"])}}});var ge=(e=>(e.Info="info",e.Warning="warning",e.Error="error",e))(ge||{});class re{constructor(s,o){ue(this,"value");ue(this,"type");this.value=s,this.type=o}static info(s){return new re(s,ge.Info)}static warning(s){return new re(s,ge.Warning)}static error(s){return new re(s,ge.Error)}}const sn={key:0},yn=j({__name:"CatalogItem",props:{catalog:{}},emits:["change"],setup(e,{emit:s}){const o=ce(),n=Ke(),t=ga(),a=fa(),i=Je(),c=ha(),l=te(),{t:f}=O(),d=e,m=s,r=ct(),p=P(!1),S=P(!1),b=P(!1),A=P(!1),V=P(!1),v=st(),_=C(()=>{const $=[];return d.catalog.corrupted&&$.push(re.error(f("explorer.catalog.flag.corrupted"))),d.catalog.isInWarmup&&$.push(re.warning(f("explorer.catalog.flag.warmingUp"))),$}),x=C(()=>q()),z=C(()=>Array.from(x.value.values())),B=C(()=>ya.List(d.catalog.entityCollections).sort(($,k)=>$.entityType.localeCompare(k.entityType))),E=P(d.catalog);Xo(E);const L=P(!1);async function W(){try{await n.closeAllSessions(v,d.catalog.name),await l.success(f("explorer.catalog.notification.closedAllSessions",{catalogName:d.catalog.name}))}catch($){await l.error(f("explorer.catalog.notification.couldNotCloseSessions",{catalogName:d.catalog.name,reason:$.message}))}}function G($){var D;const k=(D=x.value)==null?void 0:D.get($);k&&k instanceof he&&k.execute()}function q(){const $=r.value!=null&&r.value.apiEnabled(ba.GraphQL),k=!d.catalog.corrupted,D=r.value!=null&&!r.value.readOnly,H=new Map;return H.set(M.EvitaQLConsole,Q(M.EvitaQLConsole,wa.icon(),()=>{o.createTab(t.createNew(v,d.catalog.name))},k)),H.set(M.GraphQLDataAPIConsole,Q(M.GraphQLDataAPIConsole,ze.icon(),()=>{o.createTab(a.createNew(v,d.catalog.name,je.Data))},k&&$)),H.set(M.GraphQLSchemaAPIConsole,Q(M.GraphQLSchemaAPIConsole,ze.icon(),()=>{o.createTab(a.createNew(v,d.catalog.name,je.Schema))},k&&$)),H.set(M.ViewSchema,Q(M.ViewSchema,et.icon(),()=>{o.createTab(i.createNew(v,new Sa(d.catalog.name)))},k)),H.set(M.TrafficSubheader,new de(f("explorer.catalog.subheader.traffic"))),H.set(M.ActiveTrafficRecording,Q(M.ActiveTrafficRecording,Ta.icon(),()=>o.createTab(c.createNew(v,d.catalog.name)),k&&D)),H.set(M.ManageSubheader,new de(f("explorer.catalog.subheader.manage"))),H.set(M.CloseAllSessions,Q(M.CloseAllSessions,"mdi-lan-disconnect",()=>W())),H.set(M.ModifySubheader,new de(f("explorer.catalog.subheader.modify"))),H.set(M.RenameCatalog,Q(M.RenameCatalog,"mdi-pencil-outline",()=>p.value=!0,k&&D)),H.set(M.ReplaceCatalog,Q(M.ReplaceCatalog,"mdi-file-replace-outline",()=>S.value=!0,k&&D)),d.catalog.isInWarmup&&H.set(M.SwitchCatalogToAliveState,Q(M.SwitchCatalogToAliveState,"mdi-toggle-switch-outline",()=>b.value=!0,k&&D)),H.set(M.DropCatalog,Q(M.DropCatalog,"mdi-delete-outline",()=>A.value=!0,D)),H.set(M.CollectionsSubheader,new de(f("explorer.catalog.subheader.collections"))),H.set(M.CreateCollection,Q(M.CreateCollection,"mdi-plus",()=>V.value=!0,k&&D)),new Map(H)}function Q($,k,D,H=!0){return new he($,f(`explorer.catalog.actions.${$}`),k,D,void 0,!H)}return($,k)=>(g(),N(_a,{value:`${h(v).name}|${$.catalog.name}`},{activator:u(({isOpen:D,props:H})=>[w(lt,J(H,{openable:!$.catalog.corrupted,"is-open":D,"prepend-icon":"mdi-menu",loading:L.value,flags:_.value,actions:z.value,"onClick:action":G,class:"text-gray-light"}),{default:u(()=>[R(y($.catalog.name),1)]),_:2},1040,["openable","is-open","loading","flags","actions"])]),default:u(()=>[$.catalog.corrupted?U("",!0):(g(),I("div",sn,[$.catalog.entityCollections.size>0?(g(!0),I(F,{key:0},ie(B.value,D=>(g(),N(en,{key:D.entityType,"entity-collection":D,onChange:k[0]||(k[0]=H=>m("change"))},null,8,["entity-collection"]))),128)):(g(),N(Yo,{key:1}))])),p.value?(g(),N(tn,{key:1,modelValue:p.value,"onUpdate:modelValue":k[1]||(k[1]=D=>p.value=D),connection:h(v),"catalog-name":$.catalog.name,onRename:k[2]||(k[2]=D=>m("change"))},null,8,["modelValue","connection","catalog-name"])):U("",!0),S.value?(g(),N(on,{key:2,modelValue:S.value,"onUpdate:modelValue":k[3]||(k[3]=D=>S.value=D),connection:h(v),"catalog-name":$.catalog.name,onReplace:k[4]||(k[4]=D=>m("change"))},null,8,["modelValue","connection","catalog-name"])):U("",!0),b.value?(g(),N(ln,{key:3,modelValue:b.value,"onUpdate:modelValue":k[5]||(k[5]=D=>b.value=D),connection:h(v),"catalog-name":$.catalog.name,onSwitch:k[6]||(k[6]=D=>m("change"))},null,8,["modelValue","connection","catalog-name"])):U("",!0),A.value?(g(),N(an,{key:4,modelValue:A.value,"onUpdate:modelValue":k[7]||(k[7]=D=>A.value=D),connection:h(v),"catalog-name":$.catalog.name,onDrop:k[8]||(k[8]=D=>m("change"))},null,8,["modelValue","connection","catalog-name"])):U("",!0),V.value?(g(),N(nn,{key:5,modelValue:V.value,"onUpdate:modelValue":k[9]||(k[9]=D=>V.value=D),connection:h(v),"catalog-name":$.catalog.name,onCreate:k[10]||(k[10]=D=>m("change"))},null,8,["modelValue","connection","catalog-name"])):U("",!0)]),_:1},8,["value"]))}});var rn=(e=>(e.Server="server",e.Tasks="tasks",e.TrafficRecordings="trafficRecordings",e.JfrRecordings="jfrRecordings",e.GraphQLSystemAPIConsole="graphQLSystemApiConsole",e.ManageSubheader="manageSubheader",e.Refresh="refresh",e.CloseAllSessions="closeAllSessions",e.ModifySubheader="modifySubheader",e.Edit="edit",e.Remove="remove",e.CatalogsSubheader="catalogsSubheader",e.CreateCatalog="createCatalog",e.CatalogBackups="catalogBackups",e))(rn||{});export{rn as C,re as I,de as M,mn as V,pn as W,Yo as _,gn as a,hn as b,yn as c,vn as d,lt as e,fn as p};
