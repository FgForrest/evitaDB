var Nt=Object.defineProperty;var xt=(e,l,a)=>l in e?Nt(e,l,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[l]=a;var ge=(e,l,a)=>(xt(e,typeof l!="symbol"?l+"":l,a),a);import{p as Ve,f as L,s as X,h as x,i as Dt,j as J,k as me,l as De,n as Rt,g as Re,q as et,t as fe,v as Ee,x as we,c as Be,V as je,d as b,y as ee,z as tt,m as at,A as Et,B as ot,C as Bt,D as $t,E as It,F as Lt,G as At,H as Mt,I as Ut,J as Pt,K as Wt,a as Ht,u as Gt,b as qt,L as Ot,M as Ke,N as Ft,O as Qt,P as zt,Q as Yt,R as jt,S as Kt,T as Xt,U as $e,W as Jt,X as Zt,Y,Z as ea,$ as ta,a0 as G,a1 as Ie,a2 as ve,a3 as aa,a4 as j,a5 as O,a6 as Q,a7 as Le,o as f,e as C,w as i,a8 as he,a9 as be,aa as B,ab as Ae,ac as oa,ad as V,ae as Me,af as q,ag as ke,ah as nt,ai as lt,_ as pe,aj as ie,ak as na,al as N,am as w,an as P,ao as ae,ap as Se,aq as ce,ar as Ue,as as Pe,at as rt,au as Xe,av as Ce,aw as it,ax as st,ay as We,r as oe,az as te,aA as de,aB as la,aC as ct,aD as ra,aE as ye,aF as ia,aG as He,aH as sa,aI as ca,aJ as ut,aK as ua,aL as Ne,aM as dt,aN as xe,aO as da,aP as Te,aQ as mt,aR as vt,aS as pt,aT as ma,aU as va,aV as pa,aW as ga,aX as fa,aY as ha,aZ as ba,a_ as ya,a$ as _a,b0 as wa,b1 as Sa,b2 as Va,b3 as ka,b4 as Ta,b5 as Ca,b6 as Na,b7 as xa,b8 as Da,b9 as Ra,ba as Ea,bb as Ba,bc as $a}from"./index-8f5d341f.js";import{a as gt,u as ft,b as Ia}from"./layout-18c610d3.js";const La=Ve({scrollTarget:{type:String},scrollThreshold:{type:[String,Number],default:300}},"scroll");function Aa(e){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{canScroll:a}=l;let c=0,o=0;const t=L(null),d=X(0),n=X(0),s=X(0),g=X(!1),m=X(!1),r=x(()=>Number(e.scrollThreshold)),u=x(()=>Dt((r.value-d.value)/r.value||0)),k=()=>{const p=t.value;if(!p||a&&!a.value)return;c=d.value,d.value="window"in p?p.pageYOffset:p.scrollTop;const y=p instanceof Window?document.documentElement.scrollHeight:p.scrollHeight;if(o!==y){o=y;return}m.value=d.value<c,s.value=Math.abs(d.value-r.value)};return J(m,()=>{n.value=n.value||d.value}),J(g,()=>{n.value=0}),me(()=>{J(()=>e.scrollTarget,p=>{var $;const y=p?document.querySelector(p):window;y&&y!==t.value&&(($=t.value)==null||$.removeEventListener("scroll",k),t.value=y,t.value.addEventListener("scroll",k,{passive:!0}))},{immediate:!0})}),De(()=>{var p;(p=t.value)==null||p.removeEventListener("scroll",k)}),a&&J(a,k,{immediate:!0}),{scrollThreshold:r,currentScroll:d,currentThreshold:s,isScrollActive:g,scrollRatio:u,isScrollingUp:m,savedScroll:n}}const Ma=Ve({scrollBehavior:String,modelValue:{type:Boolean,default:!0},location:{type:String,default:"top",validator:e=>["top","bottom"].includes(e)},...Rt(),...gt(),...La(),height:{type:[Number,String],default:64}},"VAppBar"),Ua=Re()({name:"VAppBar",props:Ma(),emits:{"update:modelValue":e=>!0},setup(e,l){let{slots:a}=l;const c=L(),o=et(e,"modelValue"),t=x(()=>{var v;const T=new Set(((v=e.scrollBehavior)==null?void 0:v.split(" "))??[]);return{hide:T.has("hide"),fullyHide:T.has("fully-hide"),inverted:T.has("inverted"),collapse:T.has("collapse"),elevate:T.has("elevate"),fadeImage:T.has("fade-image")}}),d=x(()=>{const T=t.value;return T.hide||T.fullyHide||T.inverted||T.collapse||T.elevate||T.fadeImage||!o.value}),{currentScroll:n,scrollThreshold:s,isScrollingUp:g,scrollRatio:m}=Aa(e,{canScroll:d}),r=x(()=>t.value.hide||t.value.fullyHide),u=x(()=>e.collapse||t.value.collapse&&(t.value.inverted?m.value>0:m.value===0)),k=x(()=>e.flat||t.value.fullyHide&&!o.value||t.value.elevate&&(t.value.inverted?n.value>0:n.value===0)),p=x(()=>t.value.fadeImage?t.value.inverted?1-m.value:m.value:void 0),y=x(()=>{var I,D;if(t.value.hide&&t.value.inverted)return 0;const T=((I=c.value)==null?void 0:I.contentHeight)??0,v=((D=c.value)==null?void 0:D.extensionHeight)??0;return r.value?n.value<s.value||t.value.fullyHide?T+v:T:T+v});fe(x(()=>!!e.scrollBehavior),()=>{tt(()=>{r.value?t.value.inverted?o.value=n.value>s.value:o.value=g.value||n.value<s.value:o.value=!0})});const{ssrBootStyles:$}=Ee(),{layoutItemStyles:A}=ft({id:e.name,order:x(()=>parseInt(e.order,10)),position:we(e,"location"),layoutSize:y,elementSize:X(void 0),active:o,absolute:we(e,"absolute")});return Be(()=>{const T=je.filterProps(e);return b(je,ee({ref:c,class:["v-app-bar",{"v-app-bar--bottom":e.location==="bottom"},e.class],style:[{...A.value,"--v-toolbar-image-opacity":p.value,height:void 0,...$.value},e.style]},T,{collapse:u.value,flat:k.value}),a)}),{}}});const Pa=Ve({scrollable:Boolean,...at(),...Et(),...ot({tag:"main"})},"VMain"),Wa=Re()({name:"VMain",props:Pa(),setup(e,l){let{slots:a}=l;const{dimensionStyles:c}=Bt(e),{mainStyles:o}=Ia(),{ssrBootStyles:t}=Ee();return Be(()=>b(e.tag,{class:["v-main",{"v-main--scrollable":e.scrollable},e.class],style:[o.value,t.value,c.value,e.style]},{default:()=>{var d,n;return[e.scrollable?b("div",{class:"v-main__scroller"},[(d=a.default)==null?void 0:d.call(a)]):(n=a.default)==null?void 0:n.call(a)]}})),{}}});function Ha(e){let{rootEl:l,isSticky:a,layoutItemStyles:c}=e;const o=X(!1),t=X(0),d=x(()=>{const g=typeof o.value=="boolean"?"top":o.value;return[a.value?{top:"auto",bottom:"auto",height:void 0}:void 0,o.value?{[g]:$t(t.value)}:{top:c.value.top}]});me(()=>{J(a,g=>{g?window.addEventListener("scroll",s,{passive:!0}):window.removeEventListener("scroll",s)},{immediate:!0})}),De(()=>{window.removeEventListener("scroll",s)});let n=0;function s(){const g=n>window.scrollY?"up":"down",m=l.value.getBoundingClientRect(),r=parseFloat(c.value.top??0),u=window.scrollY-Math.max(0,t.value-r),k=m.height+Math.max(t.value,r)-window.scrollY-window.innerHeight,p=parseFloat(getComputedStyle(l.value).getPropertyValue("--v-body-scroll-y"))||0;m.height<window.innerHeight-r?(o.value="top",t.value=r):g==="up"&&o.value==="bottom"||g==="down"&&o.value==="top"?(t.value=window.scrollY+m.top-p,o.value=!0):g==="down"&&k<=0?(t.value=0,o.value="bottom"):g==="up"&&u<=0&&(p?o.value!=="top"&&(t.value=-u+p+r,o.value="top"):(t.value=m.top+u,o.value="top")),n=window.scrollY}return{isStuck:o,stickyStyles:d}}const Ga=100,qa=20;function Je(e){const l=1.41421356237;return(e<0?-1:1)*Math.sqrt(Math.abs(e))*l}function Ze(e){if(e.length<2)return 0;if(e.length===2)return e[1].t===e[0].t?0:(e[1].d-e[0].d)/(e[1].t-e[0].t);let l=0;for(let a=e.length-1;a>0;a--){if(e[a].t===e[a-1].t)continue;const c=Je(l),o=(e[a].d-e[a-1].d)/(e[a].t-e[a-1].t);l+=(o-c)*Math.abs(o),a===e.length-1&&(l*=.5)}return Je(l)*1e3}function Oa(){const e={};function l(o){Array.from(o.changedTouches).forEach(t=>{(e[t.identifier]??(e[t.identifier]=new It(qa))).push([o.timeStamp,t])})}function a(o){Array.from(o.changedTouches).forEach(t=>{delete e[t.identifier]})}function c(o){var g;const t=(g=e[o])==null?void 0:g.values().reverse();if(!t)throw new Error(`No samples for touch id ${o}`);const d=t[0],n=[],s=[];for(const m of t){if(d[0]-m[0]>Ga)break;n.push({t:m[0],d:m[1].clientX}),s.push({t:m[0],d:m[1].clientY})}return{x:Ze(n),y:Ze(s),get direction(){const{x:m,y:r}=this,[u,k]=[Math.abs(m),Math.abs(r)];return u>k&&m>=0?"right":u>k&&m<=0?"left":k>u&&r>=0?"down":k>u&&r<=0?"up":Fa()}}}return{addMovement:l,endTouch:a,getVelocity:c}}function Fa(){throw new Error}function Qa(e){let{el:l,isActive:a,isTemporary:c,width:o,touchless:t,position:d}=e;me(()=>{window.addEventListener("touchstart",T,{passive:!0}),window.addEventListener("touchmove",v,{passive:!1}),window.addEventListener("touchend",I,{passive:!0})}),De(()=>{window.removeEventListener("touchstart",T),window.removeEventListener("touchmove",v),window.removeEventListener("touchend",I)});const n=x(()=>["left","right"].includes(d.value)),{addMovement:s,endTouch:g,getVelocity:m}=Oa();let r=!1;const u=X(!1),k=X(0),p=X(0);let y;function $(R,M){return(d.value==="left"?R:d.value==="right"?document.documentElement.clientWidth-R:d.value==="top"?R:d.value==="bottom"?document.documentElement.clientHeight-R:se())-(M?o.value:0)}function A(R){let M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const E=d.value==="left"?(R-p.value)/o.value:d.value==="right"?(document.documentElement.clientWidth-R-p.value)/o.value:d.value==="top"?(R-p.value)/o.value:d.value==="bottom"?(document.documentElement.clientHeight-R-p.value)/o.value:se();return M?Math.max(0,Math.min(1,E)):E}function T(R){if(t.value)return;const M=R.changedTouches[0].clientX,E=R.changedTouches[0].clientY,_=25,h=d.value==="left"?M<_:d.value==="right"?M>document.documentElement.clientWidth-_:d.value==="top"?E<_:d.value==="bottom"?E>document.documentElement.clientHeight-_:se(),S=a.value&&(d.value==="left"?M<o.value:d.value==="right"?M>document.documentElement.clientWidth-o.value:d.value==="top"?E<o.value:d.value==="bottom"?E>document.documentElement.clientHeight-o.value:se());(h||S||a.value&&c.value)&&(y=[M,E],p.value=$(n.value?M:E,a.value),k.value=A(n.value?M:E),r=p.value>-20&&p.value<80,g(R),s(R))}function v(R){const M=R.changedTouches[0].clientX,E=R.changedTouches[0].clientY;if(r){if(!R.cancelable){r=!1;return}const h=Math.abs(M-y[0]),S=Math.abs(E-y[1]);(n.value?h>S&&h>3:S>h&&S>3)?(u.value=!0,r=!1):(n.value?S:h)>3&&(r=!1)}if(!u.value)return;R.preventDefault(),s(R);const _=A(n.value?M:E,!1);k.value=Math.max(0,Math.min(1,_)),_>1?p.value=$(n.value?M:E,!0):_<0&&(p.value=$(n.value?M:E,!1))}function I(R){if(r=!1,!u.value)return;s(R),u.value=!1;const M=m(R.changedTouches[0].identifier),E=Math.abs(M.x),_=Math.abs(M.y);(n.value?E>_&&E>400:_>E&&_>3)?a.value=M.direction===({left:"right",right:"left",top:"down",bottom:"up"}[d.value]||se()):a.value=k.value>.5}const D=x(()=>u.value?{transform:d.value==="left"?`translateX(calc(-100% + ${k.value*o.value}px))`:d.value==="right"?`translateX(calc(100% - ${k.value*o.value}px))`:d.value==="top"?`translateY(calc(-100% + ${k.value*o.value}px))`:d.value==="bottom"?`translateY(calc(100% - ${k.value*o.value}px))`:se(),transition:"none"}:void 0);return fe(u,()=>{var E,_;const R=((E=l.value)==null?void 0:E.style.transform)??null,M=((_=l.value)==null?void 0:_.style.transition)??null;tt(()=>{var h,S,U,ne;(S=l.value)==null||S.style.setProperty("transform",((h=D.value)==null?void 0:h.transform)||"none"),(ne=l.value)==null||ne.style.setProperty("transition",((U=D.value)==null?void 0:U.transition)||null)}),Lt(()=>{var h,S;(h=l.value)==null||h.style.setProperty("transform",R),(S=l.value)==null||S.style.setProperty("transition",M)})}),{isDragging:u,dragProgress:k,dragStyles:D}}function se(){throw new Error}const za=["start","end","left","right","top","bottom"],Ya=Ve({color:String,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,modelValue:{type:Boolean,default:null},permanent:Boolean,rail:{type:Boolean,default:null},railWidth:{type:[Number,String],default:56},scrim:{type:[Boolean,String],default:!0},image:String,temporary:Boolean,persistent:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},location:{type:String,default:"start",validator:e=>za.includes(e)},sticky:Boolean,...At(),...at(),...Mt(),...Ut({mobile:null}),...Pt(),...gt(),...Wt(),...ot({tag:"nav"}),...Ht()},"VNavigationDrawer"),ht=Re()({name:"VNavigationDrawer",props:Ya(),emits:{"update:modelValue":e=>!0,"update:rail":e=>!0},setup(e,l){let{attrs:a,emit:c,slots:o}=l;const{isRtl:t}=Gt(),{themeClasses:d}=qt(e),{borderClasses:n}=Ot(e),{backgroundColorClasses:s,backgroundColorStyles:g}=Ke(we(e,"color")),{elevationClasses:m}=Ft(e),{displayClasses:r,mobile:u}=Qt(e),{roundedClasses:k}=zt(e),p=Yt(),y=et(e,"modelValue",null,z=>!!z),{ssrBootStyles:$}=Ee(),{scopeId:A}=jt(),T=L(),v=X(!1),{runOpenDelay:I,runCloseDelay:D}=ea(e,z=>{v.value=z}),R=x(()=>e.rail&&e.expandOnHover&&v.value?Number(e.width):Number(e.rail?e.railWidth:e.width)),M=x(()=>Kt(e.location,t.value)),E=x(()=>e.persistent),_=x(()=>!e.permanent&&(u.value||e.temporary)),h=x(()=>e.sticky&&!_.value&&M.value!=="bottom");fe(()=>e.expandOnHover&&e.rail!=null,()=>{J(v,z=>c("update:rail",!z))}),fe(()=>!e.disableResizeWatcher,()=>{J(_,z=>!e.permanent&&ta(()=>y.value=!z))}),fe(()=>!e.disableRouteWatcher&&!!p,()=>{J(p.currentRoute,()=>_.value&&(y.value=!1))}),J(()=>e.permanent,z=>{z&&(y.value=!0)}),e.modelValue==null&&!_.value&&(y.value=e.permanent||!u.value);const{isDragging:S,dragProgress:U}=Qa({el:T,isActive:y,isTemporary:_,width:R,touchless:we(e,"touchless"),position:M}),ne=x(()=>{const z=_.value?0:e.rail&&e.expandOnHover?Number(e.railWidth):R.value;return S.value?z*U.value:z}),K=x(()=>["top","bottom"].includes(e.location)?0:R.value),{layoutItemStyles:qe,layoutItemScrimStyles:kt}=ft({id:e.name,order:x(()=>parseInt(e.order,10)),position:M,layoutSize:ne,elementSize:K,active:x(()=>y.value||S.value),disableTransitions:x(()=>S.value),absolute:x(()=>e.absolute||h.value&&typeof Oe.value!="string")}),{isStuck:Oe,stickyStyles:Tt}=Ha({rootEl:T,isSticky:h,layoutItemStyles:qe}),Fe=Ke(x(()=>typeof e.scrim=="string"?e.scrim:null)),Ct=x(()=>({...S.value?{opacity:U.value*.2,transition:"none"}:void 0,...kt.value}));return Xt({VList:{bgColor:"transparent"}}),Be(()=>{const z=o.image||e.image;return b(Y,null,[b(e.tag,ee({ref:T,onMouseenter:I,onMouseleave:D,class:["v-navigation-drawer",`v-navigation-drawer--${M.value}`,{"v-navigation-drawer--expand-on-hover":e.expandOnHover,"v-navigation-drawer--floating":e.floating,"v-navigation-drawer--is-hovering":v.value,"v-navigation-drawer--rail":e.rail,"v-navigation-drawer--temporary":_.value,"v-navigation-drawer--persistent":E.value,"v-navigation-drawer--active":y.value,"v-navigation-drawer--sticky":h.value},d.value,s.value,n.value,r.value,m.value,k.value,e.class],style:[g.value,qe.value,$.value,Tt.value,e.style,["top","bottom"].includes(M.value)?{height:"auto"}:{}]},A,a),{default:()=>{var Qe,ze,Ye;return[z&&b("div",{key:"image",class:"v-navigation-drawer__img"},[o.image?b(Jt,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{alt:"",cover:!0,height:"inherit",src:e.image}}},o.image):b($e,{key:"image-img",alt:"",cover:!0,height:"inherit",src:e.image},null)]),o.prepend&&b("div",{class:"v-navigation-drawer__prepend"},[(Qe=o.prepend)==null?void 0:Qe.call(o)]),b("div",{class:"v-navigation-drawer__content"},[(ze=o.default)==null?void 0:ze.call(o)]),o.append&&b("div",{class:"v-navigation-drawer__append"},[(Ye=o.append)==null?void 0:Ye.call(o)])]}}),b(Zt,{name:"fade-transition"},{default:()=>[_.value&&(S.value||y.value)&&!!e.scrim&&b("div",ee({class:["v-navigation-drawer__scrim",Fe.backgroundColorClasses.value],style:[Ct.value,Fe.backgroundColorStyles.value],onClick:()=>{E.value||(y.value=!1)}},A),null)]})])}),{isStuck:Oe}}});var le=(e=>(e.Explorer="explorer",e))(le||{});const ja="/lab/logo/evitalab-logo-mini.png?raw=true",Ka="/lab/documentation.svg",Xa="/lab/discord.svg";var W=(e=>(e.Keymap="keymap",e.EvitaLabGithub="evitaLabGithub",e.DiscussEvitaLab="discussEvitaLab",e.ReportEvitaLabIssue="reportEvitaLabIssue",e.EvitaDBDocumentation="evitaDBDocumentation",e.EvitaDBGithub="evitaDBGithub",e.DiscussEvitaDB="discussEvitaDB",e.ReportEvitaDBIssue="reportEvitaDBIssue",e))(W||{});const Ja=G({__name:"ManageMenu",setup(e){const l=Ie(),a=ve(),c=aa(),o=j(),{t}=O(),d=[{type:"subheader",title:t("panel.manage.manage.title")},{title:t(`panel.manage.manage.item.${W.Keymap}`),value:W.Keymap,command:Q.System_Keymap,props:{prependIcon:"mdi-keyboard-outline"}},{type:"subheader",title:t("panel.manage.evitaLabHelp.title")},{title:t(`panel.manage.evitaLabHelp.item.${W.EvitaLabGithub}`),value:W.EvitaLabGithub,props:{prependIcon:"mdi-github"}},{title:t(`panel.manage.evitaLabHelp.item.${W.DiscussEvitaLab}`),value:W.DiscussEvitaLab,props:{prependIcon:"mdi-forum-outline"}},{title:t(`panel.manage.evitaLabHelp.item.${W.ReportEvitaLabIssue}`),value:W.ReportEvitaLabIssue,props:{prependIcon:"mdi-bug"}},{type:"subheader",title:t("panel.manage.evitaDBHelp.title")},{title:t(`panel.manage.evitaDBHelp.item.${W.EvitaDBDocumentation}`),value:W.EvitaDBDocumentation,props:{prependIcon:"mdi-book-open-variant"}},{title:t(`panel.manage.evitaDBHelp.item.${W.EvitaDBGithub}`),value:W.EvitaDBGithub,props:{prependIcon:"mdi-github"}},{title:t(`panel.manage.evitaDBHelp.item.${W.DiscussEvitaDB}`),value:W.DiscussEvitaDB,props:{prependIcon:"mdi-forum-outline"}},{title:t(`panel.manage.evitaDBHelp.item.${W.ReportEvitaDBIssue}`),value:W.ReportEvitaDBIssue,props:{prependIcon:"mdi-bug"}}];function n(){a.createTab(c.createNew())}function s(g){if(g.length>0)switch(g[0]){case W.Keymap:n();break;case W.EvitaLabGithub:window.open("https://github.com/lukashornych/evitalab","_blank");break;case W.DiscussEvitaLab:window.open("https://discord.gg/VsNBWxgmSw","_blank");break;case W.ReportEvitaLabIssue:window.open("https://github.com/lukashornych/evitalab/issues/new","_blank");break;case W.EvitaDBDocumentation:window.open("https://evitadb.io/documentation","_blank");break;case W.EvitaDBGithub:window.open("https://github.com/FgForrest/evitaDB","_blank");break;case W.DiscussEvitaDB:window.open("https://discord.gg/VsNBWxgmSw","_blank");break;case W.ReportEvitaDBIssue:window.open("https://github.com/FgForrest/evitaDB/issues/new","_blank");break;default:o.error(new lt(`Unknown manage option ${g[0]}`))}}return me(()=>{l.bindGlobal(Q.System_Keymap,n)}),Le(()=>{l.unbindGlobal(Q.System_Keymap)}),(g,m)=>(f(),C(nt,null,{activator:i(({props:r})=>[b(Ae,ee(r,{icon:"",variant:"text",class:"manage-button"}),{default:i(()=>[he(g.$slots,"default",{},void 0,!0),b(be,{activator:"parent"},{default:i(()=>[B(" Manage evitaLab ")]),_:1})]),_:2},1040)]),default:i(()=>[b(ke,{items:d,"onUpdate:selected":s},{title:i(({item:r})=>[b(oa,null,{default:i(()=>[B(V(r.title)+" ",1),r.command!=null?(f(),C(Me,{key:0,command:r.command},{default:i(()=>[B(V(r.title),1)]),_:2},1032,["command"])):q("",!0)]),_:2},1024)]),_:1})]),_:3}))}});const Za=pe(Ja,[["__scopeId","data-v-d2e32f29"]]),eo={class:"lab-nav-links"},to={href:"https://evitadb.io/documentation",target:"_blank"},ao=["alt"],oo={href:"https://discord.gg/VsNBWxgmSw",target:"_blank"},no=["alt"],lo=G({__name:"WorkspacePanel",props:{panel:{}},emits:["update:panel"],setup(e,{emit:l}){const a=e,c=Ie(),{t:o}=O(),t=d();function d(){const s=[];return s.push(new ie(le.Explorer,o(`panel.item.${le.Explorer}`),"mdi-connection",()=>{},Q.System_Panels_ConnectionsExplorer)),s}function n(s){s.value?l("update:panel",s.id):l("update:panel",null)}return me(()=>{c.bindGlobal(Q.System_Panels_ConnectionsExplorer,()=>{a.panel===le.Explorer?l("update:panel",null):l("update:panel",le.Explorer)})}),Le(()=>{c.unbindGlobal(Q.System_Panels_ConnectionsExplorer)}),(s,g)=>(f(),C(ht,{permanent:"",rail:"",class:"bg-primary-dark"},{prepend:i(()=>[b(Za,null,{default:i(()=>[b(na,{size:"30px"},{default:i(()=>[b($e,{alt:"evitaLab Logo",width:"30px",height:"30px",src:ja})]),_:1})]),_:1})]),append:i(()=>[N("ul",eo,[N("li",null,[N("a",to,[N("img",{src:Ka,alt:w(o)("panel.link.evitaDBDocumentation.icon.alt")},null,8,ao),b(be,{activator:"parent"},{default:i(()=>[B(V(w(o)("panel.link.evitaDBDocumentation.tooltip")),1)]),_:1})])]),N("li",null,[N("a",oo,[N("img",{src:Xa,alt:w(o)("panel.link.discord.icon.alt")},null,8,no),b(be,{activator:"parent"},{default:i(()=>[B(V(w(o)("panel.link.discord.tooltip")),1)]),_:1})])])])]),default:i(()=>[b(ke,{density:"compact",nav:"",selected:[s.panel],"onClick:select":n,class:"navigation-items"},{default:i(()=>[(f(!0),P(Y,null,ae(w(t),m=>(f(),C(Se,{key:m.value,value:m.value},{default:i(()=>[b(ce,null,{default:i(()=>[B(V(m.prependIcon),1)]),_:2},1024),b(Me,{command:m.command},{default:i(()=>[B(V(m.title),1)]),_:2},1032,["command"])]),_:2},1032,["value"]))),128))]),_:1},8,["selected"])]),_:1}))}});const ro=pe(lo,[["__scopeId","data-v-d2d1dd7a"]]);var F=(e=>(e.Refresh="refresh",e.OpenGraphQLSystemAPIConsole="openGraphQLSystemApiConsole",e.Edit="edit",e.Remove="remove",e.Detail="detail",e.Tasks="tasks",e.JfrRecordings="jfrRecordings",e.ModifySubheader="modifySubheader",e.CatalogsSubheader="catalogsSubheader",e.CreateCatalog="createCatalog",e))(F||{});const bt=Symbol("connection");function io(e){Ue(bt,e)}function yt(){return Pe(bt)}const _t=Symbol("serverStatus");function so(e){Ue(_t,e)}function wt(){return Pe(_t)}const St=Symbol("catalog");function co(e){Ue(St,e)}function uo(){return Pe(St)}const mo=e=>(it("data-v-2967730b"),e=e(),st(),e),vo={class:"tree-view-item__content"},po=mo(()=>N("span",{class:"text-disabled"}," No items found ",-1)),go={key:0,class:"tree-view-item__flags"},fo={key:0,class:"tree-view-item__flags"},ho=G({__name:"VTreeViewItem",props:{openable:{type:Boolean,default:!1},isOpen:{type:Boolean,default:!1},prependIcon:{},loading:{type:Boolean,default:!1},flags:{default:()=>[]},actions:{default:()=>[]}},emits:["click:action"],setup(e,{emit:l}){const a=e,c=L(!1);function o(){a.actions&&a.actions.length>0&&(c.value=!0)}return(t,d)=>(f(),C(Se,{"prepend-icon":null,"append-icon":null,onContextmenu:Ce(o,["prevent"])},{default:i(()=>[N("div",vo,[t.openable?(f(),C(ce,{key:0},{default:i(()=>[B(V(t.isOpen?"mdi-chevron-up":"mdi-chevron-down"),1)]),_:1})):(f(),C(ce,{key:1})),t.loading?(f(),C(rt,{key:2})):(f(),C(ce,{key:3},{default:i(()=>[B(V(t.prependIcon),1)]),_:1})),b(be,null,{activator:i(({props:n})=>[N("span",ee(n,{class:"tree-view-item__text text-truncate"}),[he(t.$slots,"default",{},()=>[po],!0),t.flags.length>0?(f(),P("span",go,[(f(!0),P(Y,null,ae(t.flags,s=>(f(),P("span",{key:s.value,class:Xe(["tree-view-item__flag",`tree-view-item__flag--${s.type}`])},V(s.value),3))),128))])):q("",!0)],16)]),default:i(()=>[he(t.$slots,"default",{},void 0,!0),t.flags.length>0?(f(),P("span",fo,[(f(!0),P(Y,null,ae(t.flags,n=>(f(),P("span",{key:n.value,class:Xe(["tree-view-item__flag","tree-view-item__lg-flag",`tree-view-item__flag--${n.type}`])},V(n.value),3))),128))])):q("",!0)]),_:3}),t.actions&&t.actions.length>0?(f(),C(nt,{key:4,"menu-items":t.actions,modelValue:c.value,"onUpdate:modelValue":d[1]||(d[1]=n=>c.value=n)},{activator:i(({props:n})=>[b(ce,ee(n,{class:"text-gray-light"}),{default:i(()=>[B(" mdi-dots-vertical ")]),_:2},1040)]),default:i(()=>[b(ke,{density:"compact",items:t.actions,"onClick:select":d[0]||(d[0]=n=>t.$emit("click:action",n.id))},{item:i(({props:n})=>[b(Se,{"prepend-icon":n.prependIcon,value:n.value,disabled:n.disabled},{default:i(()=>[B(V(n.title),1)]),_:2},1032,["prepend-icon","value","disabled"])]),_:1},8,["items"])]),_:1},8,["menu-items","modelValue"])):q("",!0)])]),_:3},8,["onContextmenu"]))}});const Ge=pe(ho,[["__scopeId","data-v-2967730b"]]);var H=(e=>(e.OpenEvitaQLConsole="openEvitaQLConsole",e.OpenGraphQLDataAPIConsole="openGraphQLDataApiConsole",e.OpenGraphQLSchemaAPIConsole="openGraphQLSchemaApiConsole",e.ViewSchema="viewSchema",e.DropCatalog="dropCatalog",e.RenameCatalog="renameCatalog",e.ReplaceCatalog="replaceCatalog",e.SwitchCatalogToAliveState="switchCatalogToAliveState",e.ModifySubheader="modifySubheader",e.CollectionsSubheader="collectionsSubheader",e.JobsSubheader="jobsSubheader",e.CreateCollection="createCollection",e.BackupSubheader="backupSubheader",e.Backups="backups",e.Jobs="jobs",e))(H||{});const bo={class:"pl-8 text-disabled"},Vt=G({__name:"VTreeViewEmptyItem",setup(e){const{t:l}=O();return(a,c)=>(f(),C(Se,null,{default:i(()=>[N("span",bo,V(w(l)("common.list.empty")),1)]),_:1}))}});var Z=(e=>(e.ViewEntities="viewEntities",e.ViewSchema="viewSchema",e.ModifySubheader="modifySubheader",e.DropCollection="dropCollection",e.RenameCollection="renameCollection",e))(Z||{});class ue{constructor(l){ge(this,"title");ge(this,"type","subheader");this.title=l}}const yo=G({__name:"DropCollectionDialog",props:{modelValue:{type:Boolean},connection:{},catalogName:{},entityType:{}},emits:["update:modelValue","drop"],setup(e,{emit:l}){const a=e,c=We(),o=j(),{t}=O();async function d(){try{return await c.dropCollection(a.connection,a.catalogName,a.entityType)?(o.success(t("explorer.collection.drop.notification.collectionDropped",{entityType:a.entityType})),l("drop")):o.info(t("explorer.collection.drop.notification.collectionNotDropped",{entityType:a.entityType})),!0}catch(n){return o.error(t("explorer.collection.drop.notification.couldNotDropCollection",{entityType:a.entityType,reason:n.message})),!1}}return(n,s)=>{const g=oe("I18nT");return f(),C(te,{"model-value":n.modelValue,dangerous:"",changed:"","confirm-button-icon":"mdi-delete-outline",confirm:d,"onUpdate:modelValue":s[0]||(s[0]=m=>l("update:modelValue",m))},{title:i(()=>[b(g,{keypath:"explorer.collection.drop.title"},{entityType:i(()=>[N("strong",null,V(n.entityType),1)]),_:1})]),"prepend-form":i(()=>[B(V(w(t)("explorer.collection.drop.question")),1)]),"confirm-button-body":i(()=>[B(V(w(t)("common.button.drop")),1)]),_:1},8,["model-value"])}}}),_o=G({__name:"RenameCollectionDialog",props:{modelValue:{type:Boolean},connection:{},catalogName:{},entityType:{}},emits:["update:modelValue","rename"],setup(e,{emit:l}){const a=e,c=We(),o=j(),{t}=O(),d=[r=>r!=null&&r.trim().length>0?!0:t("explorer.collection.rename.form.newName.validations.required"),async r=>{const u=await c.isEntityTypeValid(a.connection,r);return u==null?!0:t(`explorer.collection.rename.form.newName.validations.${u}`)},async r=>r===a.entityType||await c.isEntityTypeAvailable(a.connection,a.catalogName,r)?!0:t("explorer.collection.rename.form.newName.validations.notAvailable")],n=L(a.entityType),s=x(()=>n.value!==a.entityType);function g(){n.value=a.entityType}async function m(){try{return await c.renameCollection(a.connection,a.catalogName,a.entityType,n.value)?(o.success(t("explorer.collection.rename.notification.collectionRenamed",{entityType:a.entityType,newName:n.value})),l("rename")):o.info(t("explorer.collection.rename.notification.collectionNotRenamed",{entityType:a.entityType})),!0}catch(r){return o.error(t("explorer.collection.rename.notification.couldNotRenameCollection",{entityType:a.entityType,reason:r.message})),!1}}return(r,u)=>{const k=oe("I18nT");return f(),C(te,{"model-value":r.modelValue,changed:s.value,dangerous:"","confirm-button-icon":"mdi-pencil-outline",confirm:m,reset:g,"onUpdate:modelValue":u[1]||(u[1]=p=>l("update:modelValue",p))},{title:i(()=>[b(k,{keypath:"explorer.collection.rename.title"},{entityType:i(()=>[N("strong",null,V(r.entityType),1)]),_:1})]),default:i(()=>[b(de,{modelValue:n.value,"onUpdate:modelValue":u[0]||(u[0]=p=>n.value=p),label:w(t)("explorer.collection.rename.form.newName.label"),rules:d,required:""},null,8,["modelValue","label"])]),"confirm-button-body":i(()=>[B(V(w(t)("common.button.rename")),1)]),_:1},8,["model-value","changed"])}}}),wo=G({__name:"CollectionItem",props:{entityCollection:{}},emits:["change"],setup(e,{emit:l}){const a=e,c=ve(),o=la(),t=ct(),{t:d}=O(),n=wt(),s=L(!1),g=L(!1),m=yt(),r=uo(),u=x(()=>$()),k=x(()=>Array.from(u.value.values()));if(r.value==null)throw new lt("Catalog schema is not loaded yet, but collection item is already rendered!");function p(){c.createTab(o.createNew(m,r.value.name,a.entityCollection.entityType,void 0,!0))}function y(T){const v=u.value.get(T);v instanceof ie&&v.execute()}function $(){const T=n.value!=null&&!n.value.readOnly,v=new Map;return v.set(Z.ViewEntities,A(Z.ViewEntities,"mdi-table",p)),v.set(Z.ViewSchema,A(Z.ViewSchema,"mdi-file-code-outline",()=>c.createTab(t.createNew(m,new ra(r.value.name,a.entityCollection.entityType))))),v.set(Z.ModifySubheader,new ue(d("explorer.collection.subheader.modify"))),v.set(Z.RenameCollection,A(Z.RenameCollection,"mdi-pencil-outline",()=>g.value=!0,T)),v.set(Z.DropCollection,A(Z.DropCollection,"mdi-delete-outline",()=>s.value=!0,T)),v}function A(T,v,I,D=!0){return new ie(T,d(`explorer.collection.actions.${T}`),v,I,void 0,!D)}return(T,v)=>(f(),P("div",null,[b(Ge,{"prepend-icon":"mdi-list-box-outline",actions:k.value,onClick:p,"onClick:action":y,class:"text-gray-light"},{default:i(()=>[B(V(T.entityCollection.entityType),1)]),_:1},8,["actions"]),g.value?(f(),C(_o,{key:0,modelValue:g.value,"onUpdate:modelValue":v[0]||(v[0]=I=>g.value=I),connection:w(m),"catalog-name":w(r).name,"entity-type":T.entityCollection.entityType,onRename:v[1]||(v[1]=I=>l("change"))},null,8,["modelValue","connection","catalog-name","entity-type"])):q("",!0),s.value?(f(),C(yo,{key:1,modelValue:s.value,"onUpdate:modelValue":v[2]||(v[2]=I=>s.value=I),connection:w(m),"catalog-name":w(r).name,"entity-type":T.entityCollection.entityType,onDrop:v[3]||(v[3]=I=>l("change"))},null,8,["modelValue","connection","catalog-name","entity-type"])):q("",!0)]))}}),So=G({__name:"RenameCatalogDialog",props:{modelValue:{type:Boolean},connection:{},catalogName:{}},emits:["update:modelValue","rename"],setup(e,{emit:l}){const a=e,c=ye(),o=j(),{t}=O(),d=[r=>r!=null&&r.trim().length>0?!0:t("explorer.catalog.rename.form.newName.validations.required"),async r=>{const u=await c.isCatalogNameValid(a.connection,r);return u==null?!0:t(`explorer.catalog.rename.form.newName.validations.${u}`)},async r=>r===a.catalogName||await c.isCatalogNameAvailable(a.connection,r)?!0:t("explorer.catalog.rename.form.newName.validations.notAvailable")],n=L(a.catalogName),s=x(()=>a.catalogName!==n.value);function g(){n.value=a.catalogName}async function m(){try{return await c.renameCatalog(a.connection,a.catalogName,n.value)?(o.success(t("explorer.catalog.rename.notification.catalogRenamed",{catalogName:a.catalogName,newName:n.value})),l("rename")):o.info(t("explorer.catalog.rename.notification.catalogNotRenamed",{catalogName:a.catalogName})),!0}catch(r){return o.error(t("explorer.catalog.rename.notification.couldNotRenameCatalog",{catalogName:a.catalogName,reason:r.message})),!1}}return(r,u)=>{const k=oe("I18nT");return f(),C(te,{"model-value":r.modelValue,changed:s.value,dangerous:"","confirm-button-icon":"mdi-pencil-outline",confirm:m,reset:g,"onUpdate:modelValue":u[1]||(u[1]=p=>l("update:modelValue",p))},{title:i(()=>[b(k,{keypath:"explorer.catalog.rename.title"},{catalogName:i(()=>[N("strong",null,V(r.catalogName),1)]),_:1})]),default:i(()=>[b(de,{modelValue:n.value,"onUpdate:modelValue":u[0]||(u[0]=p=>n.value=p),label:w(t)("explorer.catalog.rename.form.newName.label"),rules:d,required:""},null,8,["modelValue","label"])]),"confirm-button-body":i(()=>[B(V(w(t)("common.button.rename")),1)]),_:1},8,["model-value","changed"])}}}),Vo=G({__name:"DropCatalogDialog",props:{modelValue:{type:Boolean},connection:{},catalogName:{}},emits:["update:modelValue","drop"],setup(e,{emit:l}){const a=e,c=ye(),o=j(),{t}=O();async function d(){try{return await c.dropCatalog(a.connection,a.catalogName)?(o.success(t("explorer.catalog.drop.notification.catalogDropped",{catalogName:a.catalogName})),l("drop")):o.info(t("explorer.catalog.drop.notification.catalogNotDropped",{catalogName:a.catalogName})),!0}catch(n){return o.error(t("explorer.catalog.drop.notification.couldNotDropCatalog",{catalogName:a.catalogName,reason:n.message})),!1}}return(n,s)=>{const g=oe("I18nT");return f(),C(te,{"model-value":n.modelValue,dangerous:"",changed:"","confirm-button-icon":"mdi-delete-outline",confirm:d,"onUpdate:modelValue":s[0]||(s[0]=m=>l("update:modelValue",m))},{title:i(()=>[b(g,{keypath:"explorer.catalog.drop.title"},{catalogName:i(()=>[N("strong",null,V(n.catalogName),1)]),_:1})]),"prepend-form":i(()=>[B(V(w(t)("explorer.catalog.drop.question")),1)]),"confirm-button-body":i(()=>[B(V(w(t)("common.button.drop")),1)]),_:1},8,["model-value"])}}}),ko=G({__name:"ReplaceCatalogDialog",props:{modelValue:{type:Boolean},connection:{},catalogName:{}},emits:["update:modelValue","replace"],setup(e,{emit:l}){const a=e,c=ye(),o=j(),{t}=O(),d=[p=>p!=null&&p.trim().length>0?!0:t("explorer.catalog.replace.form.catalogNameToBeReplacedWith.validations.required"),async p=>p===a.catalogName||await c.isCatalogExists(a.connection,p)?!0:t("explorer.catalog.replace.form.catalogNameToBeReplacedWith.validations.notExists")],n=L(),s=x(()=>n.value==null?[]:n.value.map(p=>p.name)),g=L(!1),m=L(),r=x(()=>m.value!=null&&m.value.length>0);c.getCatalogs(a.connection).then(p=>{n.value=p.filter(y=>y.name!==a.catalogName),g.value=!0});function u(){n.value=[],g.value=!1,m.value=""}async function k(){try{return await c.replaceCatalog(a.connection,m.value,a.catalogName)?(o.success(t("explorer.catalog.replace.notification.catalogReplaced",{catalogNameToBeReplaced:a.catalogName,catalogNameToBeReplacedWith:m.value})),l("replace")):o.info(t("explorer.catalog.replace.notification.catalogNotReplaced",{catalogNameToBeReplaced:a.catalogName})),!0}catch(p){return o.error(t("explorer.catalog.replace.notification.couldNotReplaceCatalog",{catalogNameToBeReplaced:a.catalogName,reason:p.message})),!1}}return(p,y)=>{const $=oe("I18nT");return f(),C(te,{"model-value":p.modelValue,dangerous:"",changed:r.value,"confirm-button-icon":"mdi-file-replace-outline",confirm:k,reset:u,"onUpdate:modelValue":y[1]||(y[1]=A=>l("update:modelValue",A))},{title:i(()=>[b($,{keypath:"explorer.catalog.replace.title"},{catalogNameToBeReplaced:i(()=>[N("strong",null,V(p.catalogName),1)]),_:1})]),default:i(()=>[b(ia,{modelValue:m.value,"onUpdate:modelValue":y[0]||(y[0]=A=>m.value=A),label:w(t)("explorer.catalog.replace.form.catalogNameToBeReplacedWith.label"),items:s.value,rules:d},null,8,["modelValue","label","items"])]),"append-form":i(()=>[b(He,{icon:"mdi-information-outline",type:"info"},{default:i(()=>[b($,{keypath:"explorer.catalog.replace.info"},sa({catalogNameToBeReplaced:i(()=>[N("strong",null,V(p.catalogName),1)]),_:2},[r.value?{name:"catalogNameToBeReplacedWith",fn:i(()=>[N("strong",null,V(m.value),1)]),key:"0"}:{name:"catalogNameToBeReplacedWith",fn:i(()=>[N("strong",null,"?")]),key:"1"}]),1024)]),_:1})]),"confirm-button-body":i(()=>[B(V(w(t)("common.button.replace")),1)]),_:1},8,["model-value","changed"])}}}),To=G({__name:"CreateCollectionDialog",props:{modelValue:{type:Boolean},connection:{},catalogName:{}},emits:["update:modelValue","create"],setup(e,{emit:l}){const a=e,c=We(),o=j(),{t}=O(),d=[r=>r!=null&&r.trim().length>0?!0:t("explorer.collection.create.form.entityType.validations.required"),async r=>{const u=await c.isEntityTypeValid(a.connection,r);return u==null?!0:t(`explorer.collection.create.form.entityType.validations.${u}`)},async r=>await c.isEntityTypeAvailable(a.connection,a.catalogName,r)?!0:t("explorer.collection.create.form.entityType.validations.notAvailable")],n=L(""),s=x(()=>n.value.length>0);function g(){n.value=""}async function m(){try{return await c.createCollection(a.connection,a.catalogName,n.value),o.success(t("explorer.collection.create.notification.collectionCreated",{entityType:n.value})),l("create"),!0}catch(r){return o.error(t("explorer.collection.create.notification.couldNotCreateCollection",{entityType:n.value,reason:r.message})),!1}}return(r,u)=>{const k=oe("I18nT");return f(),C(te,{"model-value":r.modelValue,changed:s.value,"confirm-button-icon":"mdi-plus",confirm:m,reset:g,"onUpdate:modelValue":u[1]||(u[1]=p=>l("update:modelValue",p))},{title:i(()=>[b(k,{keypath:"explorer.collection.create.title"},{catalogName:i(()=>[N("strong",null,V(r.catalogName),1)]),_:1})]),default:i(()=>[b(de,{modelValue:n.value,"onUpdate:modelValue":u[0]||(u[0]=p=>n.value=p),label:w(t)("explorer.collection.create.form.entityType.label"),rules:d,required:""},null,8,["modelValue","label"])]),"confirm-button-body":i(()=>[B(V(w(t)("common.button.create")),1)]),_:1},8,["model-value","changed"])}}}),Co=G({__name:"SwitchCatalogToAliveStateDialog",props:{modelValue:{type:Boolean},connection:{},catalogName:{}},emits:["update:modelValue","switch"],setup(e,{emit:l}){const a=e,c=ye(),o=j(),{t}=O();async function d(){try{return await c.switchCatalogToAliveState(a.connection,a.catalogName)?(o.success(t("explorer.catalog.switchToAliveState.notification.catalogSwitched",{catalogName:a.catalogName})),l("switch")):o.info(t("explorer.catalog.switchToAliveState.notification.catalogNotSwitched",{catalogName:a.catalogName})),!0}catch(n){return o.error(t("explorer.catalog.switchToAliveState.notification.couldNotSwitchCatalog",{catalogName:a.catalogName,reason:n.message})),!1}}return(n,s)=>{const g=oe("I18nT");return f(),C(te,{"model-value":n.modelValue,dangerous:"",changed:"","confirm-button-icon":"mdi-toggle-switch-outline",confirm:d,"onUpdate:modelValue":s[0]||(s[0]=m=>l("update:modelValue",m))},{title:i(()=>[b(g,{keypath:"explorer.catalog.switchToAliveState.title"},{catalogName:i(()=>[N("strong",null,V(n.catalogName),1)]),_:1})]),"prepend-form":i(()=>[B(V(w(t)("explorer.catalog.switchToAliveState.description")),1)]),"append-form":i(()=>[b(He,{icon:"mdi-alert-outline",type:"warning"},{default:i(()=>[B(V(w(t)("explorer.catalog.switchToAliveState.warning")),1)]),_:1})]),"confirm-button-body":i(()=>[B(V(w(t)("common.button.switch")),1)]),_:1},8,["model-value"])}}});var _e=(e=>(e.Info="info",e.Warning="warning",e.Error="error",e))(_e||{});class re{constructor(l,a){ge(this,"value");ge(this,"type");this.value=l,this.type=a}static info(l){return new re(l,_e.Info)}static warning(l){return new re(l,_e.Warning)}static error(l){return new re(l,_e.Error)}}const No={key:0},xo=G({__name:"CatalogItem",props:{catalog:{}},emits:["change"],setup(e,{emit:l}){const a=e,c=ve(),o=ca(),t=ut(),d=ct(),n=ua(),{t:s}=O(),g=wt(),m=L(!1),r=L(!1),u=L(!1),k=L(!1),p=L(!1),y=yt(),$=x(()=>{const _=[];return a.catalog.corrupted&&_.push(re.error(s("explorer.catalog.flag.corrupted"))),a.catalog.isInWarmup&&_.push(re.warning(s("explorer.catalog.flag.warmingUp"))),_}),A=x(()=>M()),T=x(()=>Array.from(A.value.values())),v=x(()=>a.catalog.entityCollections.sort((_,h)=>_.entityType.localeCompare(h.entityType))),I=L(a.catalog);co(I);const D=L(!1);function R(_){var S;const h=(S=A.value)==null?void 0:S.get(_);h&&h instanceof ie&&h.execute()}function M(){const _=g.value!=null&&g.value.apiEnabled(Ne.GraphQL),h=!a.catalog.corrupted,S=g.value!=null&&!g.value.readOnly,U=new Map;return U.set(H.OpenEvitaQLConsole,E(H.OpenEvitaQLConsole,"mdi-variable",()=>{c.createTab(o.createNew(y,a.catalog.name))},h)),U.set(H.OpenGraphQLDataAPIConsole,E(H.OpenGraphQLDataAPIConsole,"mdi-graphql",()=>{c.createTab(t.createNew(y,a.catalog.name,xe.Data))},h&&_)),U.set(H.OpenGraphQLSchemaAPIConsole,E(H.OpenGraphQLSchemaAPIConsole,"mdi-graphql",()=>{c.createTab(t.createNew(y,a.catalog.name,xe.Schema))},h&&_)),U.set(H.ViewSchema,E(H.ViewSchema,"mdi-file-code-outline",()=>{c.createTab(d.createNew(y,new da(a.catalog.name)))},h)),U.set(H.BackupSubheader,new ue(s("explorer.catalog.subheader.backup"))),U.set(H.Backups,E(H.Backups,"mdi-cloud-download-outline",()=>{c.createTab(n.createNew(y,a.catalog.name))},h&&S)),U.set(H.ModifySubheader,new ue(s("explorer.catalog.subheader.modify"))),U.set(H.RenameCatalog,E(H.RenameCatalog,"mdi-pencil-outline",()=>m.value=!0,h&&S)),U.set(H.ReplaceCatalog,E(H.ReplaceCatalog,"mdi-file-replace-outline",()=>r.value=!0,h&&S)),a.catalog.isInWarmup&&U.set(H.SwitchCatalogToAliveState,E(H.SwitchCatalogToAliveState,"mdi-toggle-switch-outline",()=>u.value=!0,h&&S)),U.set(H.DropCatalog,E(H.DropCatalog,"mdi-delete-outline",()=>k.value=!0,S)),U.set(H.CollectionsSubheader,new ue(s("explorer.catalog.subheader.collections"))),U.set(H.CreateCollection,E(H.CreateCollection,"mdi-plus",()=>p.value=!0,h&&S)),new Map(U)}function E(_,h,S,U=!0){return new ie(_,s(`explorer.catalog.actions.${_}`),h,S,void 0,!U)}return(_,h)=>(f(),C(dt,{value:`${w(y).name}|${_.catalog.name}`},{activator:i(({isOpen:S,props:U})=>[b(Ge,ee(U,{openable:!_.catalog.corrupted,"is-open":S,"prepend-icon":"mdi-menu",loading:D.value,flags:$.value,actions:T.value,"onClick:action":R,class:"text-gray-light"}),{default:i(()=>[B(V(_.catalog.name),1)]),_:2},1040,["openable","is-open","loading","flags","actions"])]),default:i(()=>[_.catalog.corrupted?q("",!0):(f(),P("div",No,[_.catalog.entityCollections.size>0?(f(!0),P(Y,{key:0},ae(v.value,S=>(f(),C(wo,{key:S.entityType,"entity-collection":S,onChange:h[0]||(h[0]=U=>l("change"))},null,8,["entity-collection"]))),128)):(f(),C(Vt,{key:1}))])),m.value?(f(),C(So,{key:1,modelValue:m.value,"onUpdate:modelValue":h[1]||(h[1]=S=>m.value=S),connection:w(y),"catalog-name":_.catalog.name,onRename:h[2]||(h[2]=S=>l("change"))},null,8,["modelValue","connection","catalog-name"])):q("",!0),r.value?(f(),C(ko,{key:2,modelValue:r.value,"onUpdate:modelValue":h[3]||(h[3]=S=>r.value=S),connection:w(y),"catalog-name":_.catalog.name,onReplace:h[4]||(h[4]=S=>l("change"))},null,8,["modelValue","connection","catalog-name"])):q("",!0),u.value?(f(),C(Co,{key:3,modelValue:u.value,"onUpdate:modelValue":h[5]||(h[5]=S=>u.value=S),connection:w(y),"catalog-name":_.catalog.name,onSwitch:h[6]||(h[6]=S=>l("change"))},null,8,["modelValue","connection","catalog-name"])):q("",!0),k.value?(f(),C(Vo,{key:4,modelValue:k.value,"onUpdate:modelValue":h[7]||(h[7]=S=>k.value=S),connection:w(y),"catalog-name":_.catalog.name,onDrop:h[8]||(h[8]=S=>l("change"))},null,8,["modelValue","connection","catalog-name"])):q("",!0),p.value?(f(),C(To,{key:5,modelValue:p.value,"onUpdate:modelValue":h[9]||(h[9]=S=>p.value=S),connection:w(y),"catalog-name":_.catalog.name,onCreate:h[10]||(h[10]=S=>l("change"))},null,8,["modelValue","connection","catalog-name"])):q("",!0)]),_:1},8,["value"]))}}),Do=G({__name:"RemoveConnectionDialog",props:{modelValue:{type:Boolean},connection:{}},emits:["update:modelValue"],setup(e,{emit:l}){const a=e,c=Te(),o=j(),{t}=O();async function d(){try{return c.removeConnection(a.connection.id),o.success(t("explorer.connection.remove.notification.connectionRemoved",{connectionName:a.connection.name})),!0}catch(n){return o.error(t("explorer.connection.remove.notification.couldNotRemoveConnection",{connectionName:a.connection.name,reason:n.message})),!1}}return(n,s)=>{const g=oe("I18nT");return f(),C(te,{"model-value":n.modelValue,dangerous:"",changed:"","confirm-button-icon":"mdi-delete-outline",confirm:d,"onUpdate:modelValue":s[0]||(s[0]=m=>l("update:modelValue",m))},{activator:i(({props:m})=>[he(n.$slots,"activator",mt(vt(m)))]),title:i(()=>[b(g,{keypath:"explorer.connection.remove.title"},{connectionName:i(()=>[N("strong",null,V(n.connection.name),1)]),_:1})]),"prepend-form":i(()=>[B(V(w(t)("explorer.connection.remove.question")),1)]),"confirm-button-body":i(()=>[B(V(w(t)("common.button.remove")),1)]),_:3},8,["model-value"])}}}),Ro=G({__name:"CreateCatalogDialog",props:{modelValue:{type:Boolean},connection:{}},emits:["update:modelValue","create"],setup(e,{emit:l}){const a=e,c=ye(),o=j(),{t}=O(),d=[r=>r!=null&&r.trim().length>0?!0:t("explorer.catalog.create.form.catalogName.validations.required"),async r=>{const u=await c.isCatalogNameValid(a.connection,r);return u==null?!0:t(`explorer.catalog.create.form.catalogName.validations.${u}`)},async r=>await c.isCatalogNameAvailable(a.connection,r)?!0:t("explorer.catalog.create.form.catalogName.validations.notAvailable")],n=L(""),s=x(()=>n.value.length>0);function g(){n.value=""}async function m(){try{return await c.createCatalog(a.connection,n.value),o.success(t("explorer.catalog.create.notification.catalogCreated",{catalogName:n.value})),l("create"),!0}catch(r){return o.error(t("explorer.catalog.create.notification.couldNotCreateCatalog",{catalogName:n.value,reason:r.message})),!1}}return(r,u)=>(f(),C(te,{"model-value":r.modelValue,changed:s.value,"confirm-button-icon":"mdi-plus",confirm:m,reset:g,"onUpdate:modelValue":u[1]||(u[1]=k=>l("update:modelValue",k))},{title:i(()=>[B(V(w(t)("explorer.catalog.create.title")),1)]),default:i(()=>[b(de,{modelValue:n.value,"onUpdate:modelValue":u[0]||(u[0]=k=>n.value=k),label:w(t)("explorer.catalog.create.form.catalogName.label"),rules:d,required:""},null,8,["modelValue","label"])]),"confirm-button-body":i(()=>[B(V(w(t)("common.button.create")),1)]),_:1},8,["model-value","changed"]))}}),Eo={key:0},Bo=G({__name:"ConnectionItem",props:{connection:{}},setup(e){const l=e,a=pt(),c=ve(),o=Te(),t=ut(),d=ma(),n=va(),s=pa(),g=j(),{t:m}=O();io(l.connection);const r=L();so(r),I().then();const u=x(()=>{const _=[];return l.connection.preconfigured&&_.push(re.info(m("explorer.connection.flag.preconfigured"))),_}),k=L();J([()=>l.connection,r],async()=>k.value=await M(),{immediate:!0});const p=x(()=>k.value==null?[]:Array.from(k.value.values())),y=L(),$=L(!1),A=L(!1),T=L(!1);async function v(){$.value=!0;try{y.value=(await o.getCatalogs(l.connection,!0)).sort((_,h)=>_.name.localeCompare(h.name))}catch(_){g.error(m("explorer.connection.notification.couldNotLoadCatalogs",{connectionName:l.connection.name,reason:_.message}))}$.value=!1}async function I(){try{r.value=await o.getServerStatus(l.connection)}catch(_){g.error(_)}}async function D(){await v(),await I()}function R(_){if(k.value==null)return;const h=k.value.get(_);h instanceof ie&&h.execute()}async function M(){const _=r.value!=null&&r.value.apiEnabled(Ne.GraphQL),h=r.value!=null&&r.value.apiEnabled(Ne.Observability),S=!l.connection.preconfigured,U=!a.readOnly,ne=r.value!=null&&!r.value.readOnly,K=new Map;return K.set(F.Refresh,E(F.Refresh,"mdi-refresh",async()=>await D())),K.set(F.OpenGraphQLSystemAPIConsole,E(F.OpenGraphQLSystemAPIConsole,"mdi-graphql",()=>c.createTab(t.createNew(l.connection,"system",xe.System)),_)),K.set(F.Detail,E(F.Detail,"mdi-database-outline",()=>c.createTab(d.createNew(l.connection)))),K.set(F.Tasks,E(F.Tasks,"mdi-chart-gantt",()=>{c.createTab(n.createNew(l.connection))})),K.set(F.JfrRecordings,E(F.JfrRecordings,"mdi-chart-timeline",()=>{c.createTab(s.createNew(l.connection))},h)),K.set(F.ModifySubheader,new ue(m("explorer.connection.subheader.modify"))),K.set(F.Remove,E(F.Remove,"mdi-delete-outline",()=>A.value=!0,S&&U)),K.set(F.CatalogsSubheader,new ue(m("explorer.connection.subheader.catalogs"))),K.set(F.CreateCatalog,E(F.CreateCatalog,"mdi-plus",()=>T.value=!0,ne)),K}function E(_,h,S,U=!0){return new ie(_,m(`explorer.connection.actions.${_}`),h,S,void 0,!U)}return(_,h)=>(f(),P("div",null,[b(dt,{value:_.connection.name},{activator:i(({isOpen:S,props:U})=>[b(Ge,ee(U,{openable:"","is-open":S,"prepend-icon":"mdi-power-plug-outline",loading:$.value,flags:u.value,actions:p.value,onClick:h[0]||(h[0]=ne=>v()),"onClick:action":R}),{default:i(()=>[B(V(_.connection.name),1)]),_:2},1040,["is-open","loading","flags","actions"])]),default:i(()=>[y.value!==void 0?(f(),P("div",Eo,[y.value.size>0?(f(!0),P(Y,{key:0},ae(y.value,S=>(f(),C(xo,{key:S.name,catalog:S,onChange:v},null,8,["catalog"]))),128)):(f(),C(Vt,{key:1}))])):q("",!0),A.value?(f(),C(Do,{key:1,modelValue:A.value,"onUpdate:modelValue":h[1]||(h[1]=S=>A.value=S),connection:_.connection},null,8,["modelValue","connection"])):q("",!0),T.value?(f(),C(Ro,{key:2,modelValue:T.value,"onUpdate:modelValue":h[2]||(h[2]=S=>T.value=S),connection:_.connection,onCreate:v},null,8,["modelValue","connection"])):q("",!0)]),_:1},8,["value"])]))}}),$o=G({__name:"ConnectToServerDialog",props:{modelValue:{type:Boolean},connection:{default:void 0}},emits:["update:modelValue"],setup(e,{emit:l}){const a=Te(),c=j(),{t:o}=O(),t=[y=>y?!0:o("explorer.connection.connect.form.connectionName.validations.required"),y=>a.isConnectionExists(y)?o("explorer.connection.connect.form.connectionName.validations.duplicate"):!0],d=[y=>y?!0:o("explorer.connection.connect.form.serverUrl.validations.required"),y=>{try{return new URL(y),!0}catch{return o("explorer.connection.connect.form.serverUrl.validations.invalidUrl")}},async y=>{const $=await u(y);return $==null?(g.value=1,!0):(g.value=2,$)}],n=L(""),s=L(""),g=L(0),m=x(()=>n.value!=null&&n.value.length>0&&s.value!=null&&s.value.length>0),r=x(()=>{switch(g.value){case 0:return"";case 1:return"mdi-check-circle-outline";case 2:return"mdi-close-circle-outline"}});async function u(y){var $,A;try{const T=y.endsWith("/")?y:y+"/",v=await ga.post(`${T}io.evitadb.externalApi.grpc.generated.EvitaManagementService/ServerStatus`,{headers:{"Content-Type":"application/json",Accept:"application/json"},body:"{}"}).json();return v.readiness!=="API_READY"?o("explorer.connection.connect.form.serverUrl.validations.notReady"):(($=v.api.lab)==null?void 0:$.enabled)!==!0?o("explorer.connection.connect.form.serverUrl.validations.labApiMissing"):((A=v.api.gRPC)==null?void 0:A.enabled)!==!0?o("explorer.connection.connect.form.serverUrl.validations.grpcApiMissing"):void 0}catch{return o("explorer.connection.connect.form.serverUrl.validations.unreachable")}}function k(){n.value="",s.value="",g.value=0}async function p(){try{return a.addConnection(fa.user(void 0,n.value,s.value)),c.success(o("explorer.connection.connect.notification.connectionAdded",{connectionName:n.value})),!0}catch(y){return c.error(o("explorer.connection.connect.notification.couldNotAddConnection",{reason:y.message})),!1}}return(y,$)=>(f(),C(te,{"model-value":y.modelValue,changed:m.value,"confirm-button-icon":"mdi-power-plug-outline",confirm:p,reset:k,"onUpdate:modelValue":$[2]||($[2]=A=>l("update:modelValue",A))},{activator:i(({props:A})=>[he(y.$slots,"activator",mt(vt({props:A})))]),title:i(()=>[B(V(w(o)("explorer.connection.connect.title")),1)]),default:i(()=>[b(de,{modelValue:n.value,"onUpdate:modelValue":$[0]||($[0]=A=>n.value=A),label:w(o)("explorer.connection.connect.form.connectionName.label"),placeholder:"evitaDB",rules:t,required:""},null,8,["modelValue","label"]),b(de,{modelValue:s.value,"onUpdate:modelValue":$[1]||($[1]=A=>s.value=A),label:w(o)("explorer.connection.connect.form.serverUrl.label"),placeholder:"https://{evitadb-server}:5555",hint:w(o)("explorer.connection.connect.form.serverUrl.hint"),required:"",rules:d,"append-inner-icon":r.value},null,8,["modelValue","label","hint","append-inner-icon"])]),"confirm-button-body":i(()=>[B(V(w(o)("explorer.connection.connect.button.connect")),1)]),_:3},8,["model-value","changed"]))}}),Io={key:0,class:"pa-2"},Lo=G({__name:"ConnectionExplorerPanel",props:{modelValue:{type:Boolean}},emits:["update:modelValue"],setup(e,{emit:l}){const a=pt(),c=Te(),{t:o}=O(),t=L(!1),d=x(()=>c.getConnections().sort((n,s)=>n.preconfigured&&!s.preconfigured?-1:s.preconfigured&&!n.preconfigured?1:n.name.localeCompare(s.name)));return(n,s)=>(f(),C(ht,{permanent:"","model-value":n.modelValue,width:325,"onUpdate:modelValue":s[2]||(s[2]=g=>n.$emit("update:modelValue",g)),class:"bg-primary"},{append:i(()=>[w(a).readOnly?q("",!0):(f(),P("div",Io,[b($o,{modelValue:t.value,"onUpdate:modelValue":s[1]||(s[1]=g=>t.value=g)},{activator:i(({props:g})=>[b(Ae,ee({"prepend-icon":"mdi-power-plug-outline",block:"",variant:"outlined"},g,{onClick:s[0]||(s[0]=m=>t.value=!0)}),{default:i(()=>[B(V(w(o)("explorer.button.connect")),1)]),_:2},1040)]),_:1},8,["modelValue"])]))]),default:i(()=>[b(ke,{density:"compact",nav:""},{default:i(()=>[b(ha,{class:"text-gray-light text-sm-body-2 font-weight-medium"},{default:i(()=>[B(V(w(o)("explorer.title")),1)]),_:1}),(f(!0),P(Y,null,ae(d.value,g=>(f(),C(Bo,{key:g.name,connection:g},null,8,["connection"]))),128))]),_:1})]),_:1},8,["model-value"]))}});function Ao(e,l){return e.length<=l?e:e.substring(0,l-3)+"..."}const Mo={class:"loading-screen"},Uo={class:"loading-screen-info"},Po=G({__name:"TabLoadingScreen",setup(e){const{t:l}=O();return(a,c)=>(f(),P("div",Mo,[N("div",Uo,[b(rt,{size:48}),N("span",null,V(w(l)("tab.placeholder.loading")),1)])]))}});const Wo=pe(Po,[["__scopeId","data-v-b23d11da"]]),Ho=G({__name:"TabWindow",props:{component:{},componentProps:{}},emits:["dataUpdate"],setup(e,{emit:l}){const a=L(!1);return(c,o)=>(f(),P(Y,null,[(f(),C(wa,null,[ba((f(),C(_a(c.component),ee(c.componentProps,{onReady:o[0]||(o[0]=t=>a.value=!0),onDataUpdate:o[1]||(o[1]=t=>l("dataUpdate",t))}),null,16)),[[ya,a.value]])],1024)),a.value?q("",!0):(f(),C(Wo,{key:0}))],64))}}),Go="/lab/logo/evitalab-logo-representative.svg",qo=e=>(it("data-v-70fa2ac3"),e=e(),st(),e),Oo={class:"editor-welcome-screen"},Fo={class:"editor-welcome-screen-hero"},Qo={class:"editor-welcome-screen-hero__header"},zo={class:"editor-welcome-screen-hero__title"},Yo={class:"font-weight-bold mb-2",style:{"font-size":"4.375rem"}},jo={class:"text-white",style:{"font-size":"1rem"}},Ko={class:"text-primary-lightest text-body-2",href:"https://github.com/lukashornych/evitalab/releases",target:"_blank"},Xo={class:"text-gray-light",style:{"font-size":"1rem"}},Jo={class:"editor-welcome-screen-blog"},Zo=["href"],en={class:"editor-welcome-screen-blog-img__wrap"},tn=["src","alt"],an={class:"editor-welcome-screen-blog-item__title"},on={class:"editor-welcome-screen-blog-item__perex"},nn={class:"editor-welcome-screen-blog-item__btn"},ln=qo(()=>N("span",{class:"editor-welcome-screen-hr"},"",-1)),rn={class:"editor-welcome-screen-hero__links"},sn={href:"https://evitadb.io/documentation",target:"_blank"},cn={href:"https://github.com/lukashornych/evitalab/",target:"_blank"},un={href:"https://discord.gg/VsNBWxgmSw",target:"_blank"},dn={href:"https://github.com/lukashornych/evitalab/issues",target:"_blank"},mn=G({__name:"WelcomeScreen",setup(e){const l=Sa(),{t:a}=O(),c=x(()=>{const t="";return t.length===0?"?":t.substring(1)}),o=L([]);return l.getBlogPosts().then(t=>{o.value=t}),(t,d)=>{const n=oe("I18nT");return f(),P("div",Oo,[N("div",Fo,[N("header",Qo,[b($e,{width:"240",height:"240","max-width":"240","max-height":"240",alt:"evitaLab Logo",src:Go,class:"evitalab-logo"}),N("div",zo,[N("h1",Yo,V(w(a)("app.name")),1),N("p",jo,[B(V(c.value)+" ",1),N("a",Ko,"("+V(w(a)("welcomeScreen.changelog"))+")",1)]),N("p",Xo,V(w(a)("welcomeScreen.description")),1)])]),N("div",Jo,[(f(!0),P(Y,null,ae(o.value,s=>(f(),P("a",{key:s.url,href:s.url,target:"_blank"},[N("span",en,[N("img",{class:"Blog_BlogMotive__72hVr",height:"160",width:"480",src:s.thumbnailUrl,alt:w(a)("welcomeScreen.blog.thumbnail.alt",{title:s.title})},null,8,tn)]),N("span",an,V(s.title),1),N("span",on,[b(Va,{source:s.perex},null,8,["source"])]),N("span",nn,V(w(a)("welcomeScreen.blog.button.read")),1)],8,Zo))),128))]),ln,N("ul",rn,[b(n,{keypath:"welcomeScreen.link.evitaDBDocumentation.text",tag:"li"},{link:i(()=>[N("a",sn,V(w(a)("welcomeScreen.link.evitaDBDocumentation.link")),1)]),_:1}),b(n,{keypath:"welcomeScreen.link.evitaLabGitHub.text",tag:"li"},{link:i(()=>[N("a",cn,V(w(a)("welcomeScreen.link.evitaLabGitHub.link")),1)]),_:1}),b(n,{keypath:"welcomeScreen.link.discord.text",tag:"li"},{link:i(()=>[N("a",un,V(w(a)("welcomeScreen.link.discord.link")),1)]),_:1}),N("li",null,[N("a",dn,V(w(a)("welcomeScreen.link.submitIssue")),1)])])])])}}});const vn=pe(mn,[["__scopeId","data-v-70fa2ac3"]]),pn=["innerHTML"],gn=["innerHTML"],fn=["innerHTML"],hn=G({__name:"TabSharedDialog",props:{tabRequest:{}},emits:["resolve"],setup(e,{emit:l}){const a=e,c=ve(),{t:o}=O();function t(){c.createTab(a.tabRequest),l("resolve")}function d(){l("resolve")}return(n,s)=>(f(),C(Ca,{"model-value":!0,"max-width":"36rem","onUpdate:modelValue":d},{title:i(()=>[B(V(w(o)("tabShare.sharedDialog.title")),1)]),default:i(()=>[n.tabRequest.initialData!=null?(f(),P("span",{key:0,innerHTML:w(o)("tabShare.sharedDialog.text.withoutInitialData")},null,8,pn)):(f(),P("span",{key:1,innerHTML:w(o)("tabShare.sharedDialog.text.withInitialData")},null,8,gn)),n.tabRequest.initialData!=null?(f(),C(He,{key:2,icon:"mdi-alert-outline",type:"warning",class:"mt-4"},{default:i(()=>[N("span",{innerHTML:w(o)("tabShare.sharedDialog.warning.potentiallyUnsafe")},null,8,fn)]),_:1})):q("",!0)]),"reject-button":i(()=>[b(ka,{onReject:d},{default:i(()=>[B(V(w(o)("tabShare.sharedDialog.button.reject")),1)]),_:1})]),"confirm-button":i(()=>[b(Ta,{icon:"mdi-check",onConfirm:t},{default:i(()=>[B(V(w(o)("tabShare.sharedDialog.button.accept")),1)]),_:1})]),_:1}))}}),bn={key:1,style:{position:"relative"}},yn=G({__name:"WorkspaceTabWindowList",setup(e){const l=Na(),a=j(),c=Ie(),{t:o}=O(),t=ve(),d=xa(),n=Da(),s=L(!1),g=L(!1),m=L(),r=L(t.getTabDefinitions());J(r,()=>{const v=t.getTheNewTab();v&&(u.value=v.id,t.markTabAsVisited(v.id))},{deep:!0});const u=L();J(u,(v,I)=>{v!=null?c.setContext(v):I!=null&&c.resetActivatedContext()});function k(v){if(u.value==null)return;let D=t.getTabIndex(u.value)+v;D<0?D=r.value.length-1:D>=r.value.length&&(D=0),u.value=r.value[D].id}function p(v){const I=r.value.length,D=r.value.findIndex(M=>M.id===u.value),R=r.value.findIndex(M=>M.id===v);t.destroyTab(v),c.deleteContext(v),r.value.length===0?u.value=null:R===D&&R===I-1?u.value=r.value[R-1].id:R===D&&R<I-1&&(u.value=r.value[R].id)}async function y(){const v=l.query.demoSnippetRequest;if(v!=null)try{return await d.resolve(v)}catch(I){a.error(I)}}async function $(){const v=l.query.sharedTab;if(v!=null)try{return await n.resolve(v)}catch(I){a.error(I)}}function A(){try{let v=!1;t.restoreTabsFromLastSession()&&(v=!0),t.restoreTabHistory()&&(v=!0),v&&a.info("Your last session has been restored.")}catch(v){console.error(v),a.warning("Failed to fully restore your last session.")}}function T(){t.storeOpenedTabs(),t.storeTabHistory()}return y().then(v=>(v!=null&&(s.value=!0,t.createTab(v)),$())).then(v=>{v!=null&&(s.value=!0,m.value=v,g.value=!0),s.value||A()}),me(()=>{c.bindGlobal(Q.System_Editor_PreviousTab,()=>k(-1)),c.bindGlobal(Q.System_Editor_NextTab,()=>k(1)),c.bindGlobal(Q.System_Editor_CloseTab,()=>{u.value!=null&&p(u.value)}),c.bindGlobal(Q.System_Editor_CloseAllTabs,()=>t.destroyAllTabs())}),Le(()=>{c.unbindGlobal(Q.System_Editor_PreviousTab),c.unbindGlobal(Q.System_Editor_NextTab),c.unbindGlobal(Q.System_Editor_CloseTab),c.unbindGlobal(Q.System_Editor_CloseAllTabs)}),window.addEventListener("beforeunload",()=>{s.value||T()}),(v,I)=>(f(),P(Y,null,[r.value.length>0?(f(),C(Ua,{key:0,density:"compact",elevation:"0"},{default:i(()=>[b(Ra,{modelValue:u.value,"onUpdate:modelValue":I[0]||(I[0]=D=>u.value=D)},{default:i(()=>[(f(!0),P(Y,null,ae(r.value,D=>(f(),C(Ba,{key:D.id,value:D.id,"prepend-icon":D.icon,onMousedown:Ce(R=>p(D.id),["middle"]),class:"lab-tab"},{default:i(()=>[N("span",null,[B(V(w(Ao)(D.title,30))+" ",1),D.title.length>30?(f(),C(be,{key:0,activator:"parent"},{default:i(()=>[B(V(D.title),1)]),_:2},1024)):q("",!0)]),b(Ae,{icon:"",variant:"plain",density:"compact",class:"ml-3",onClick:Ce(R=>p(D.id),["stop"])},{default:i(()=>[b(ce,null,{default:i(()=>[B("mdi-close")]),_:1}),b(Me,{command:w(Q).System_Editor_CloseTab},{default:i(()=>[B(V(w(o)("tab.button.closeTab")),1)]),_:1},8,["command"])]),_:2},1032,["onClick"])]),_:2},1032,["value","prepend-icon","onMousedown"]))),128))]),_:1},8,["modelValue"])]),_:1})):q("",!0),b(Wa,{scrollable:!1,class:"lab-editor"},{default:i(()=>[r.value.length>0?(f(),C(Ea,{key:0,modelValue:u.value,"onUpdate:modelValue":I[1]||(I[1]=D=>u.value=D)},{default:i(()=>[(f(!0),P(Y,null,ae(r.value,D=>(f(),C($a,{key:D.id,value:D.id,transition:!1,"reverse-transition":!1,class:"window-item"},{default:i(()=>[b(Ho,{component:D.component,"component-props":D.componentProps(),onDataUpdate:R=>w(t).replaceTabData(D.id,R)},null,8,["component","component-props","onDataUpdate"])]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])):(f(),P("div",bn,[b(vn)]))]),_:1}),m.value?(f(),C(hn,{key:1,"tab-request":m.value,onResolve:I[2]||(I[2]=D=>m.value=void 0)},null,8,["tab-request"])):q("",!0)],64))}});const _n=pe(yn,[["__scopeId","data-v-d87f82ca"]]),kn=G({__name:"MainView",setup(e){const l=L(le.Explorer);return(a,c)=>(f(),P(Y,null,[b(ro,{panel:l.value,"onUpdate:panel":c[0]||(c[0]=o=>l.value=o)},null,8,["panel"]),b(Lo,{"model-value":l.value===w(le).Explorer},null,8,["model-value"]),b(_n)],64))}});export{kn as default};
