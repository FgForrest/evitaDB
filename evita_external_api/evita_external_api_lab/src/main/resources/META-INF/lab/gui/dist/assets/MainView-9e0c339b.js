var Tt=Object.defineProperty;var Ct=(e,l,a)=>l in e?Tt(e,l,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[l]=a;var ve=(e,l,a)=>(Ct(e,typeof l!="symbol"?l+"":l,a),a);import{p as Se,f as M,s as j,h as E,i as Nt,j as X,k as ue,l as xe,n as xt,g as De,q as Je,t as pe,v as Re,x as _e,c as Ee,V as Qe,d as f,y as Z,z as Ze,m as et,A as Dt,B as tt,C as Rt,D as Et,E as Bt,F as $t,G as It,H as Lt,I as At,J as Mt,K as Ut,a as Pt,u as Ht,b as Wt,L as Gt,M as ze,N as qt,O as Ot,P as Ft,Q as Qt,R as zt,S as Yt,T as jt,U as Be,W as Kt,X as Xt,Y as z,Z as Jt,$ as Zt,a0 as W,a1 as $e,a2 as de,a3 as ea,a4 as Y,a5 as q,a6 as F,a7 as Ie,o as g,e as x,w as i,a8 as ge,a9 as fe,aa as $,ab as Le,ac as ta,ad as S,ae as Ae,af as G,ag as Ve,ah as at,ai as ot,_ as me,aj as le,ak as aa,al as R,am as w,an as U,ao as te,ap as we,aq as ie,ar as nt,as as lt,at as rt,au as Ye,av as Ce,aw as it,ax as st,ay as Me,r as ae,az as ee,aA as ce,aB as oa,aC as ct,aD as ke,aE as na,aF as he,aG as la,aH as Ue,aI as ra,aJ as ia,aK as ut,aL as sa,aM as Ne,aN as ca,aO as dt,aP as Te,aQ as mt,aR as vt,aS as ua,aT as da,aU as ma,aV as va,aW as pa,aX as ga,aY as fa,aZ as ha,a_ as ba,a$ as ya,b0 as _a,b1 as wa,b2 as je,b3 as Sa,b4 as Va,b5 as ka,b6 as Ta,b7 as Ca,b8 as Na,b9 as xa,ba as Da,bb as Ra,bc as Ea}from"./index-9601b8da.js";import{a as pt,u as gt,b as Ba}from"./layout-09f3622a.js";const $a=Se({scrollTarget:{type:String},scrollThreshold:{type:[String,Number],default:300}},"scroll");function Ia(e){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{canScroll:a}=l;let s=0,o=0;const t=M(null),d=j(0),n=j(0),c=j(0),p=j(!1),m=j(!1),r=E(()=>Number(e.scrollThreshold)),u=E(()=>Nt((r.value-d.value)/r.value||0)),k=()=>{const v=t.value;if(!v||a&&!a.value)return;s=d.value,d.value="window"in v?v.pageYOffset:v.scrollTop;const b=v instanceof Window?document.documentElement.scrollHeight:v.scrollHeight;if(o!==b){o=b;return}m.value=d.value<s,c.value=Math.abs(d.value-r.value)};return X(m,()=>{n.value=n.value||d.value}),X(p,()=>{n.value=0}),ue(()=>{X(()=>e.scrollTarget,v=>{var I;const b=v?document.querySelector(v):window;b&&b!==t.value&&((I=t.value)==null||I.removeEventListener("scroll",k),t.value=b,t.value.addEventListener("scroll",k,{passive:!0}))},{immediate:!0})}),xe(()=>{var v;(v=t.value)==null||v.removeEventListener("scroll",k)}),a&&X(a,k,{immediate:!0}),{scrollThreshold:r,currentScroll:d,currentThreshold:c,isScrollActive:p,scrollRatio:u,isScrollingUp:m,savedScroll:n}}const La=Se({scrollBehavior:String,modelValue:{type:Boolean,default:!0},location:{type:String,default:"top",validator:e=>["top","bottom"].includes(e)},...xt(),...pt(),...$a(),height:{type:[Number,String],default:64}},"VAppBar"),Aa=De()({name:"VAppBar",props:La(),emits:{"update:modelValue":e=>!0},setup(e,l){let{slots:a}=l;const s=M(),o=Je(e,"modelValue"),t=E(()=>{var y;const V=new Set(((y=e.scrollBehavior)==null?void 0:y.split(" "))??[]);return{hide:V.has("hide"),fullyHide:V.has("fully-hide"),inverted:V.has("inverted"),collapse:V.has("collapse"),elevate:V.has("elevate"),fadeImage:V.has("fade-image")}}),d=E(()=>{const V=t.value;return V.hide||V.fullyHide||V.inverted||V.collapse||V.elevate||V.fadeImage||!o.value}),{currentScroll:n,scrollThreshold:c,isScrollingUp:p,scrollRatio:m}=Ia(e,{canScroll:d}),r=E(()=>t.value.hide||t.value.fullyHide),u=E(()=>e.collapse||t.value.collapse&&(t.value.inverted?m.value>0:m.value===0)),k=E(()=>e.flat||t.value.fullyHide&&!o.value||t.value.elevate&&(t.value.inverted?n.value>0:n.value===0)),v=E(()=>t.value.fadeImage?t.value.inverted?1-m.value:m.value:void 0),b=E(()=>{var A,T;if(t.value.hide&&t.value.inverted)return 0;const V=((A=s.value)==null?void 0:A.contentHeight)??0,y=((T=s.value)==null?void 0:T.extensionHeight)??0;return r.value?n.value<c.value||t.value.fullyHide?V+y:V:V+y});pe(E(()=>!!e.scrollBehavior),()=>{Ze(()=>{r.value?t.value.inverted?o.value=n.value>c.value:o.value=p.value||n.value<c.value:o.value=!0})});const{ssrBootStyles:I}=Re(),{layoutItemStyles:L}=gt({id:e.name,order:E(()=>parseInt(e.order,10)),position:_e(e,"location"),layoutSize:b,elementSize:j(void 0),active:o,absolute:_e(e,"absolute")});return Ee(()=>{const V=Qe.filterProps(e);return f(Qe,Z({ref:s,class:["v-app-bar",{"v-app-bar--bottom":e.location==="bottom"},e.class],style:[{...L.value,"--v-toolbar-image-opacity":v.value,height:void 0,...I.value},e.style]},V,{collapse:u.value,flat:k.value}),a)}),{}}});const Ma=Se({scrollable:Boolean,...et(),...Dt(),...tt({tag:"main"})},"VMain"),Ua=De()({name:"VMain",props:Ma(),setup(e,l){let{slots:a}=l;const{dimensionStyles:s}=Rt(e),{mainStyles:o}=Ba(),{ssrBootStyles:t}=Re();return Ee(()=>f(e.tag,{class:["v-main",{"v-main--scrollable":e.scrollable},e.class],style:[o.value,t.value,s.value,e.style]},{default:()=>{var d,n;return[e.scrollable?f("div",{class:"v-main__scroller"},[(d=a.default)==null?void 0:d.call(a)]):(n=a.default)==null?void 0:n.call(a)]}})),{}}});function Pa(e){let{rootEl:l,isSticky:a,layoutItemStyles:s}=e;const o=j(!1),t=j(0),d=E(()=>{const p=typeof o.value=="boolean"?"top":o.value;return[a.value?{top:"auto",bottom:"auto",height:void 0}:void 0,o.value?{[p]:Et(t.value)}:{top:s.value.top}]});ue(()=>{X(a,p=>{p?window.addEventListener("scroll",c,{passive:!0}):window.removeEventListener("scroll",c)},{immediate:!0})}),xe(()=>{window.removeEventListener("scroll",c)});let n=0;function c(){const p=n>window.scrollY?"up":"down",m=l.value.getBoundingClientRect(),r=parseFloat(s.value.top??0),u=window.scrollY-Math.max(0,t.value-r),k=m.height+Math.max(t.value,r)-window.scrollY-window.innerHeight,v=parseFloat(getComputedStyle(l.value).getPropertyValue("--v-body-scroll-y"))||0;m.height<window.innerHeight-r?(o.value="top",t.value=r):p==="up"&&o.value==="bottom"||p==="down"&&o.value==="top"?(t.value=window.scrollY+m.top-v,o.value=!0):p==="down"&&k<=0?(t.value=0,o.value="bottom"):p==="up"&&u<=0&&(v?o.value!=="top"&&(t.value=-u+v+r,o.value="top"):(t.value=m.top+u,o.value="top")),n=window.scrollY}return{isStuck:o,stickyStyles:d}}const Ha=100,Wa=20;function Ke(e){const l=1.41421356237;return(e<0?-1:1)*Math.sqrt(Math.abs(e))*l}function Xe(e){if(e.length<2)return 0;if(e.length===2)return e[1].t===e[0].t?0:(e[1].d-e[0].d)/(e[1].t-e[0].t);let l=0;for(let a=e.length-1;a>0;a--){if(e[a].t===e[a-1].t)continue;const s=Ke(l),o=(e[a].d-e[a-1].d)/(e[a].t-e[a-1].t);l+=(o-s)*Math.abs(o),a===e.length-1&&(l*=.5)}return Ke(l)*1e3}function Ga(){const e={};function l(o){Array.from(o.changedTouches).forEach(t=>{(e[t.identifier]??(e[t.identifier]=new Bt(Wa))).push([o.timeStamp,t])})}function a(o){Array.from(o.changedTouches).forEach(t=>{delete e[t.identifier]})}function s(o){var p;const t=(p=e[o])==null?void 0:p.values().reverse();if(!t)throw new Error(`No samples for touch id ${o}`);const d=t[0],n=[],c=[];for(const m of t){if(d[0]-m[0]>Ha)break;n.push({t:m[0],d:m[1].clientX}),c.push({t:m[0],d:m[1].clientY})}return{x:Xe(n),y:Xe(c),get direction(){const{x:m,y:r}=this,[u,k]=[Math.abs(m),Math.abs(r)];return u>k&&m>=0?"right":u>k&&m<=0?"left":k>u&&r>=0?"down":k>u&&r<=0?"up":qa()}}}return{addMovement:l,endTouch:a,getVelocity:s}}function qa(){throw new Error}function Oa(e){let{el:l,isActive:a,isTemporary:s,width:o,touchless:t,position:d}=e;ue(()=>{window.addEventListener("touchstart",V,{passive:!0}),window.addEventListener("touchmove",y,{passive:!1}),window.addEventListener("touchend",A,{passive:!0})}),xe(()=>{window.removeEventListener("touchstart",V),window.removeEventListener("touchmove",y),window.removeEventListener("touchend",A)});const n=E(()=>["left","right"].includes(d.value)),{addMovement:c,endTouch:p,getVelocity:m}=Ga();let r=!1;const u=j(!1),k=j(0),v=j(0);let b;function I(h,N){return(d.value==="left"?h:d.value==="right"?document.documentElement.clientWidth-h:d.value==="top"?h:d.value==="bottom"?document.documentElement.clientHeight-h:re())-(N?o.value:0)}function L(h){let N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const D=d.value==="left"?(h-v.value)/o.value:d.value==="right"?(document.documentElement.clientWidth-h-v.value)/o.value:d.value==="top"?(h-v.value)/o.value:d.value==="bottom"?(document.documentElement.clientHeight-h-v.value)/o.value:re();return N?Math.max(0,Math.min(1,D)):D}function V(h){if(t.value)return;const N=h.changedTouches[0].clientX,D=h.changedTouches[0].clientY,_=25,C=d.value==="left"?N<_:d.value==="right"?N>document.documentElement.clientWidth-_:d.value==="top"?D<_:d.value==="bottom"?D>document.documentElement.clientHeight-_:re(),B=a.value&&(d.value==="left"?N<o.value:d.value==="right"?N>document.documentElement.clientWidth-o.value:d.value==="top"?D<o.value:d.value==="bottom"?D>document.documentElement.clientHeight-o.value:re());(C||B||a.value&&s.value)&&(b=[N,D],v.value=I(n.value?N:D,a.value),k.value=L(n.value?N:D),r=v.value>-20&&v.value<80,p(h),c(h))}function y(h){const N=h.changedTouches[0].clientX,D=h.changedTouches[0].clientY;if(r){if(!h.cancelable){r=!1;return}const C=Math.abs(N-b[0]),B=Math.abs(D-b[1]);(n.value?C>B&&C>3:B>C&&B>3)?(u.value=!0,r=!1):(n.value?B:C)>3&&(r=!1)}if(!u.value)return;h.preventDefault(),c(h);const _=L(n.value?N:D,!1);k.value=Math.max(0,Math.min(1,_)),_>1?v.value=I(n.value?N:D,!0):_<0&&(v.value=I(n.value?N:D,!1))}function A(h){if(r=!1,!u.value)return;c(h),u.value=!1;const N=m(h.changedTouches[0].identifier),D=Math.abs(N.x),_=Math.abs(N.y);(n.value?D>_&&D>400:_>D&&_>3)?a.value=N.direction===({left:"right",right:"left",top:"down",bottom:"up"}[d.value]||re()):a.value=k.value>.5}const T=E(()=>u.value?{transform:d.value==="left"?`translateX(calc(-100% + ${k.value*o.value}px))`:d.value==="right"?`translateX(calc(100% - ${k.value*o.value}px))`:d.value==="top"?`translateY(calc(-100% + ${k.value*o.value}px))`:d.value==="bottom"?`translateY(calc(100% - ${k.value*o.value}px))`:re(),transition:"none"}:void 0);return pe(u,()=>{var D,_;const h=((D=l.value)==null?void 0:D.style.transform)??null,N=((_=l.value)==null?void 0:_.style.transition)??null;Ze(()=>{var C,B,K,be;(B=l.value)==null||B.style.setProperty("transform",((C=T.value)==null?void 0:C.transform)||"none"),(be=l.value)==null||be.style.setProperty("transition",((K=T.value)==null?void 0:K.transition)||null)}),$t(()=>{var C,B;(C=l.value)==null||C.style.setProperty("transform",h),(B=l.value)==null||B.style.setProperty("transition",N)})}),{isDragging:u,dragProgress:k,dragStyles:T}}function re(){throw new Error}const Fa=["start","end","left","right","top","bottom"],Qa=Se({color:String,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,modelValue:{type:Boolean,default:null},permanent:Boolean,rail:{type:Boolean,default:null},railWidth:{type:[Number,String],default:56},scrim:{type:[Boolean,String],default:!0},image:String,temporary:Boolean,persistent:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},location:{type:String,default:"start",validator:e=>Fa.includes(e)},sticky:Boolean,...It(),...et(),...Lt(),...At({mobile:null}),...Mt(),...pt(),...Ut(),...tt({tag:"nav"}),...Pt()},"VNavigationDrawer"),ft=De()({name:"VNavigationDrawer",props:Qa(),emits:{"update:modelValue":e=>!0,"update:rail":e=>!0},setup(e,l){let{attrs:a,emit:s,slots:o}=l;const{isRtl:t}=Ht(),{themeClasses:d}=Wt(e),{borderClasses:n}=Gt(e),{backgroundColorClasses:c,backgroundColorStyles:p}=ze(_e(e,"color")),{elevationClasses:m}=qt(e),{displayClasses:r,mobile:u}=Ot(e),{roundedClasses:k}=Ft(e),v=Qt(),b=Je(e,"modelValue",null,Q=>!!Q),{ssrBootStyles:I}=Re(),{scopeId:L}=zt(),V=M(),y=j(!1),{runOpenDelay:A,runCloseDelay:T}=Jt(e,Q=>{y.value=Q}),h=E(()=>e.rail&&e.expandOnHover&&y.value?Number(e.width):Number(e.rail?e.railWidth:e.width)),N=E(()=>Yt(e.location,t.value)),D=E(()=>e.persistent),_=E(()=>!e.permanent&&(u.value||e.temporary)),C=E(()=>e.sticky&&!_.value&&N.value!=="bottom");pe(()=>e.expandOnHover&&e.rail!=null,()=>{X(y,Q=>s("update:rail",!Q))}),pe(()=>!e.disableResizeWatcher,()=>{X(_,Q=>!e.permanent&&Zt(()=>b.value=!Q))}),pe(()=>!e.disableRouteWatcher&&!!v,()=>{X(v.currentRoute,()=>_.value&&(b.value=!1))}),X(()=>e.permanent,Q=>{Q&&(b.value=!0)}),e.modelValue==null&&!_.value&&(b.value=e.permanent||!u.value);const{isDragging:B,dragProgress:K}=Oa({el:V,isActive:b,isTemporary:_,width:h,touchless:_e(e,"touchless"),position:N}),be=E(()=>{const Q=_.value?0:e.rail&&e.expandOnHover?Number(e.railWidth):h.value;return B.value?Q*K.value:Q}),wt=E(()=>["top","bottom"].includes(e.location)?0:h.value),{layoutItemStyles:He,layoutItemScrimStyles:St}=gt({id:e.name,order:E(()=>parseInt(e.order,10)),position:N,layoutSize:be,elementSize:wt,active:E(()=>b.value||B.value),disableTransitions:E(()=>B.value),absolute:E(()=>e.absolute||C.value&&typeof We.value!="string")}),{isStuck:We,stickyStyles:Vt}=Pa({rootEl:V,isSticky:C,layoutItemStyles:He}),Ge=ze(E(()=>typeof e.scrim=="string"?e.scrim:null)),kt=E(()=>({...B.value?{opacity:K.value*.2,transition:"none"}:void 0,...St.value}));return jt({VList:{bgColor:"transparent"}}),Ee(()=>{const Q=o.image||e.image;return f(z,null,[f(e.tag,Z({ref:V,onMouseenter:A,onMouseleave:T,class:["v-navigation-drawer",`v-navigation-drawer--${N.value}`,{"v-navigation-drawer--expand-on-hover":e.expandOnHover,"v-navigation-drawer--floating":e.floating,"v-navigation-drawer--is-hovering":y.value,"v-navigation-drawer--rail":e.rail,"v-navigation-drawer--temporary":_.value,"v-navigation-drawer--persistent":D.value,"v-navigation-drawer--active":b.value,"v-navigation-drawer--sticky":C.value},d.value,c.value,n.value,r.value,m.value,k.value,e.class],style:[p.value,He.value,I.value,Vt.value,e.style,["top","bottom"].includes(N.value)?{height:"auto"}:{}]},L,a),{default:()=>{var qe,Oe,Fe;return[Q&&f("div",{key:"image",class:"v-navigation-drawer__img"},[o.image?f(Kt,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{alt:"",cover:!0,height:"inherit",src:e.image}}},o.image):f(Be,{key:"image-img",alt:"",cover:!0,height:"inherit",src:e.image},null)]),o.prepend&&f("div",{class:"v-navigation-drawer__prepend"},[(qe=o.prepend)==null?void 0:qe.call(o)]),f("div",{class:"v-navigation-drawer__content"},[(Oe=o.default)==null?void 0:Oe.call(o)]),o.append&&f("div",{class:"v-navigation-drawer__append"},[(Fe=o.append)==null?void 0:Fe.call(o)])]}}),f(Xt,{name:"fade-transition"},{default:()=>[_.value&&(B.value||b.value)&&!!e.scrim&&f("div",Z({class:["v-navigation-drawer__scrim",Ge.backgroundColorClasses.value],style:[kt.value,Ge.backgroundColorStyles.value],onClick:()=>{D.value||(b.value=!1)}},L),null)]})])}),{isStuck:We}}});var oe=(e=>(e.Explorer="explorer",e))(oe||{});const za="/lab/logo/evitalab-logo-mini.png?raw=true",Ya="/lab/documentation.svg",ja="/lab/discord.svg";var P=(e=>(e.Keymap="keymap",e.EvitaLabGithub="evitaLabGithub",e.DiscussEvitaLab="discussEvitaLab",e.ReportEvitaLabIssue="reportEvitaLabIssue",e.EvitaDBDocumentation="evitaDBDocumentation",e.EvitaDBGithub="evitaDBGithub",e.DiscussEvitaDB="discussEvitaDB",e.ReportEvitaDBIssue="reportEvitaDBIssue",e))(P||{});const Ka=W({__name:"ManageMenu",setup(e){const l=$e(),a=de(),s=ea(),o=Y(),{t}=q(),d=[{type:"subheader",title:t("panel.manage.manage.title")},{title:t(`panel.manage.manage.item.${P.Keymap}`),value:P.Keymap,command:F.System_Keymap,props:{prependIcon:"mdi-keyboard-outline"}},{type:"subheader",title:t("panel.manage.evitaLabHelp.title")},{title:t(`panel.manage.evitaLabHelp.item.${P.EvitaLabGithub}`),value:P.EvitaLabGithub,props:{prependIcon:"mdi-github"}},{title:t(`panel.manage.evitaLabHelp.item.${P.DiscussEvitaLab}`),value:P.DiscussEvitaLab,props:{prependIcon:"mdi-forum-outline"}},{title:t(`panel.manage.evitaLabHelp.item.${P.ReportEvitaLabIssue}`),value:P.ReportEvitaLabIssue,props:{prependIcon:"mdi-bug"}},{type:"subheader",title:t("panel.manage.evitaDBHelp.title")},{title:t(`panel.manage.evitaDBHelp.item.${P.EvitaDBDocumentation}`),value:P.EvitaDBDocumentation,props:{prependIcon:"mdi-book-open-variant"}},{title:t(`panel.manage.evitaDBHelp.item.${P.EvitaDBGithub}`),value:P.EvitaDBGithub,props:{prependIcon:"mdi-github"}},{title:t(`panel.manage.evitaDBHelp.item.${P.DiscussEvitaDB}`),value:P.DiscussEvitaDB,props:{prependIcon:"mdi-forum-outline"}},{title:t(`panel.manage.evitaDBHelp.item.${P.ReportEvitaDBIssue}`),value:P.ReportEvitaDBIssue,props:{prependIcon:"mdi-bug"}}];function n(){a.createTab(s.createNew())}function c(p){if(p.length>0)switch(p[0]){case P.Keymap:n();break;case P.EvitaLabGithub:window.open("https://github.com/lukashornych/evitalab","_blank");break;case P.DiscussEvitaLab:window.open("https://discord.gg/VsNBWxgmSw","_blank");break;case P.ReportEvitaLabIssue:window.open("https://github.com/lukashornych/evitalab/issues/new","_blank");break;case P.EvitaDBDocumentation:window.open("https://evitadb.io/documentation","_blank");break;case P.EvitaDBGithub:window.open("https://github.com/FgForrest/evitaDB","_blank");break;case P.DiscussEvitaDB:window.open("https://discord.gg/VsNBWxgmSw","_blank");break;case P.ReportEvitaDBIssue:window.open("https://github.com/FgForrest/evitaDB/issues/new","_blank");break;default:o.error(new ot(`Unknown manage option ${p[0]}`))}}return ue(()=>{l.bindGlobal(F.System_Keymap,n)}),Ie(()=>{l.unbindGlobal(F.System_Keymap)}),(p,m)=>(g(),x(at,null,{activator:i(({props:r})=>[f(Le,Z(r,{icon:"",variant:"text",class:"manage-button"}),{default:i(()=>[ge(p.$slots,"default",{},void 0,!0),f(fe,{activator:"parent"},{default:i(()=>[$(" Manage evitaLab ")]),_:1})]),_:2},1040)]),default:i(()=>[f(Ve,{items:d,"onUpdate:selected":c},{title:i(({item:r})=>[f(ta,null,{default:i(()=>[$(S(r.title)+" ",1),r.command!=null?(g(),x(Ae,{key:0,command:r.command},{default:i(()=>[$(S(r.title),1)]),_:2},1032,["command"])):G("",!0)]),_:2},1024)]),_:1})]),_:3}))}});const Xa=me(Ka,[["__scopeId","data-v-d2e32f29"]]),Ja={class:"lab-nav-links"},Za={href:"https://evitadb.io/documentation",target:"_blank"},eo=["alt"],to={href:"https://discord.gg/VsNBWxgmSw",target:"_blank"},ao=["alt"],oo=W({__name:"WorkspacePanel",props:{panel:{}},emits:["update:panel"],setup(e,{emit:l}){const a=e,s=$e(),{t:o}=q(),t=d();function d(){const c=[];return c.push(new le(oe.Explorer,o(`panel.item.${oe.Explorer}`),"mdi-connection",()=>{},F.System_Panels_ConnectionsExplorer)),c}function n(c){c.value?l("update:panel",c.id):l("update:panel",null)}return ue(()=>{s.bindGlobal(F.System_Panels_ConnectionsExplorer,()=>{a.panel===oe.Explorer?l("update:panel",null):l("update:panel",oe.Explorer)})}),Ie(()=>{s.unbindGlobal(F.System_Panels_ConnectionsExplorer)}),(c,p)=>(g(),x(ft,{permanent:"",rail:"",class:"bg-primary-dark"},{prepend:i(()=>[f(Xa,null,{default:i(()=>[f(aa,{size:"30px"},{default:i(()=>[f(Be,{alt:"evitaLab Logo",width:"30px",height:"30px",src:za})]),_:1})]),_:1})]),append:i(()=>[R("ul",Ja,[R("li",null,[R("a",Za,[R("img",{src:Ya,alt:w(o)("panel.link.evitaDBDocumentation.icon.alt")},null,8,eo),f(fe,{activator:"parent"},{default:i(()=>[$(S(w(o)("panel.link.evitaDBDocumentation.tooltip")),1)]),_:1})])]),R("li",null,[R("a",to,[R("img",{src:ja,alt:w(o)("panel.link.discord.icon.alt")},null,8,ao),f(fe,{activator:"parent"},{default:i(()=>[$(S(w(o)("panel.link.discord.tooltip")),1)]),_:1})])])])]),default:i(()=>[f(Ve,{density:"compact",nav:"",selected:[c.panel],"onClick:select":n,class:"navigation-items"},{default:i(()=>[(g(!0),U(z,null,te(w(t),m=>(g(),x(we,{key:m.value,value:m.value},{default:i(()=>[f(ie,null,{default:i(()=>[$(S(m.prependIcon),1)]),_:2},1024),f(Ae,{command:m.command},{default:i(()=>[$(S(m.title),1)]),_:2},1032,["command"])]),_:2},1032,["value"]))),128))]),_:1},8,["selected"])]),_:1}))}});const no=me(oo,[["__scopeId","data-v-d2d1dd7a"]]);var O=(e=>(e.Refresh="refresh",e.OpenGraphQLSystemAPIConsole="openGraphQLSystemApiConsole",e.Edit="edit",e.Remove="remove",e.Detail="detail",e.Tasks="tasks",e.JfrRecordings="jfrRecordings",e.ModifySubheader="modifySubheader",e.CatalogsSubheader="catalogsSubheader",e.CreateCatalog="createCatalog",e))(O||{});const ht=Symbol("connection");function lo(e){nt(ht,e)}function bt(){return lt(ht)}const yt=Symbol("catalog");function ro(e){nt(yt,e)}function io(){return lt(yt)}const so=e=>(it("data-v-2967730b"),e=e(),st(),e),co={class:"tree-view-item__content"},uo=so(()=>R("span",{class:"text-disabled"}," No items found ",-1)),mo={key:0,class:"tree-view-item__flags"},vo={key:0,class:"tree-view-item__flags"},po=W({__name:"VTreeViewItem",props:{openable:{type:Boolean,default:!1},isOpen:{type:Boolean,default:!1},prependIcon:{},loading:{type:Boolean,default:!1},flags:{default:()=>[]},actions:{default:()=>[]}},emits:["click:action"],setup(e,{emit:l}){const a=e,s=M(!1);function o(){a.actions&&a.actions.length>0&&(s.value=!0)}return(t,d)=>(g(),x(we,{"prepend-icon":null,"append-icon":null,onContextmenu:Ce(o,["prevent"])},{default:i(()=>[R("div",co,[t.openable?(g(),x(ie,{key:0},{default:i(()=>[$(S(t.isOpen?"mdi-chevron-up":"mdi-chevron-down"),1)]),_:1})):(g(),x(ie,{key:1})),t.loading?(g(),x(rt,{key:2})):(g(),x(ie,{key:3},{default:i(()=>[$(S(t.prependIcon),1)]),_:1})),f(fe,null,{activator:i(({props:n})=>[R("span",Z(n,{class:"tree-view-item__text text-truncate"}),[ge(t.$slots,"default",{},()=>[uo],!0),t.flags.length>0?(g(),U("span",mo,[(g(!0),U(z,null,te(t.flags,c=>(g(),U("span",{key:c.value,class:Ye(["tree-view-item__flag",`tree-view-item__flag--${c.type}`])},S(c.value),3))),128))])):G("",!0)],16)]),default:i(()=>[ge(t.$slots,"default",{},void 0,!0),t.flags.length>0?(g(),U("span",vo,[(g(!0),U(z,null,te(t.flags,n=>(g(),U("span",{key:n.value,class:Ye(["tree-view-item__flag","tree-view-item__lg-flag",`tree-view-item__flag--${n.type}`])},S(n.value),3))),128))])):G("",!0)]),_:3}),t.actions&&t.actions.length>0?(g(),x(at,{key:4,"menu-items":t.actions,modelValue:s.value,"onUpdate:modelValue":d[1]||(d[1]=n=>s.value=n)},{activator:i(({props:n})=>[f(ie,Z(n,{class:"text-gray-light"}),{default:i(()=>[$(" mdi-dots-vertical ")]),_:2},1040)]),default:i(()=>[f(Ve,{density:"compact",items:t.actions,"onClick:select":d[0]||(d[0]=n=>t.$emit("click:action",n.id))},{item:i(({props:n})=>[f(we,{"prepend-icon":n.prependIcon,value:n.value,disabled:n.disabled},{default:i(()=>[$(S(n.title),1)]),_:2},1032,["prepend-icon","value","disabled"])]),_:1},8,["items"])]),_:1},8,["menu-items","modelValue"])):G("",!0)])]),_:3},8,["onContextmenu"]))}});const Pe=me(po,[["__scopeId","data-v-2967730b"]]);var H=(e=>(e.OpenEvitaQLConsole="openEvitaQLConsole",e.OpenGraphQLDataAPIConsole="openGraphQLDataApiConsole",e.OpenGraphQLSchemaAPIConsole="openGraphQLSchemaApiConsole",e.ViewSchema="viewSchema",e.DropCatalog="dropCatalog",e.RenameCatalog="renameCatalog",e.ReplaceCatalog="replaceCatalog",e.SwitchCatalogToAliveState="switchCatalogToAliveState",e.ModifySubheader="modifySubheader",e.CollectionsSubheader="collectionsSubheader",e.JobsSubheader="jobsSubheader",e.CreateCollection="createCollection",e.BackupSubheader="backupSubheader",e.Backups="backups",e.Jobs="jobs",e))(H||{});const go={class:"pl-8 text-disabled"},_t=W({__name:"VTreeViewEmptyItem",setup(e){const{t:l}=q();return(a,s)=>(g(),x(we,null,{default:i(()=>[R("span",go,S(w(l)("common.list.empty")),1)]),_:1}))}});var J=(e=>(e.ViewEntities="viewEntities",e.ViewSchema="viewSchema",e.ModifySubheader="modifySubheader",e.DropCollection="dropCollection",e.RenameCollection="renameCollection",e))(J||{});class se{constructor(l){ve(this,"title");ve(this,"type","subheader");this.title=l}}const fo=W({__name:"DropCollectionDialog",props:{modelValue:{type:Boolean},connection:{},catalogName:{},entityType:{}},emits:["update:modelValue","drop"],setup(e,{emit:l}){const a=e,s=Me(),o=Y(),{t}=q();async function d(){try{return await s.dropCollection(a.connection,a.catalogName,a.entityType)?(o.success(t("explorer.collection.drop.notification.collectionDropped",{entityType:a.entityType})),l("drop")):o.info(t("explorer.collection.drop.notification.collectionNotDropped",{entityType:a.entityType})),!0}catch(n){return o.error(t("explorer.collection.drop.notification.couldNotDropCollection",{entityType:a.entityType,reason:n.message})),!1}}return(n,c)=>{const p=ae("I18nT");return g(),x(ee,{"model-value":n.modelValue,dangerous:"",changed:"","confirm-button-icon":"mdi-delete-outline",confirm:d,"onUpdate:modelValue":c[0]||(c[0]=m=>l("update:modelValue",m))},{title:i(()=>[f(p,{keypath:"explorer.collection.drop.title"},{entityType:i(()=>[R("strong",null,S(n.entityType),1)]),_:1})]),"prepend-form":i(()=>[$(S(w(t)("explorer.collection.drop.question")),1)]),"confirm-button-body":i(()=>[$(S(w(t)("common.button.drop")),1)]),_:1},8,["model-value"])}}}),ho=W({__name:"RenameCollectionDialog",props:{modelValue:{type:Boolean},connection:{},catalogName:{},entityType:{}},emits:["update:modelValue","rename"],setup(e,{emit:l}){const a=e,s=Me(),o=Y(),{t}=q(),d=[r=>r!=null&&r.trim().length>0?!0:t("explorer.collection.rename.form.newName.validations.required"),async r=>{const u=await s.isEntityTypeValid(a.connection,r);return u==null?!0:t(`explorer.collection.rename.form.newName.validations.${u}`)},async r=>r===a.entityType||await s.isEntityTypeAvailable(a.connection,a.catalogName,r)?!0:t("explorer.collection.rename.form.newName.validations.notAvailable")],n=M(a.entityType),c=E(()=>n.value!==a.entityType);function p(){n.value=a.entityType}async function m(){try{return await s.renameCollection(a.connection,a.catalogName,a.entityType,n.value)?(o.success(t("explorer.collection.rename.notification.collectionRenamed",{entityType:a.entityType,newName:n.value})),l("rename")):o.info(t("explorer.collection.rename.notification.collectionNotRenamed",{entityType:a.entityType})),!0}catch(r){return o.error(t("explorer.collection.rename.notification.couldNotRenameCollection",{entityType:a.entityType,reason:r.message})),!1}}return(r,u)=>{const k=ae("I18nT");return g(),x(ee,{"model-value":r.modelValue,changed:c.value,dangerous:"","confirm-button-icon":"mdi-pencil-outline",confirm:m,reset:p,"onUpdate:modelValue":u[1]||(u[1]=v=>l("update:modelValue",v))},{title:i(()=>[f(k,{keypath:"explorer.collection.rename.title"},{entityType:i(()=>[R("strong",null,S(r.entityType),1)]),_:1})]),default:i(()=>[f(ce,{modelValue:n.value,"onUpdate:modelValue":u[0]||(u[0]=v=>n.value=v),label:w(t)("explorer.collection.rename.form.newName.label"),rules:d,required:""},null,8,["modelValue","label"])]),"confirm-button-body":i(()=>[$(S(w(t)("common.button.rename")),1)]),_:1},8,["model-value","changed"])}}}),bo=W({__name:"CollectionItem",props:{entityCollection:{}},emits:["change"],setup(e,{emit:l}){const a=e,s=de(),o=oa(),t=ct(),{t:d}=q(),n=ke(),c=M(!1),p=M(!1),m=bt(),r=io(),u=E(()=>I()),k=E(()=>Array.from(u.value.values()));if(r.value==null)throw new ot("Catalog schema is not loaded yet, but collection item is already rendered!");function v(){s.createTab(o.createNew(m,r.value.name,a.entityCollection.entityType,void 0,!0))}function b(V){const y=u.value.get(V);y instanceof le&&y.execute()}function I(){const V=new Map;return V.set(J.ViewEntities,L(J.ViewEntities,"mdi-table",v)),V.set(J.ViewSchema,L(J.ViewSchema,"mdi-file-code-outline",()=>s.createTab(t.createNew(m,new na(r.value.name,a.entityCollection.entityType))))),V.set(J.ModifySubheader,new se(d("explorer.collection.subheader.modify"))),V.set(J.RenameCollection,L(J.RenameCollection,"mdi-pencil-outline",()=>p.value=!0,n.readOnly)),V.set(J.DropCollection,L(J.DropCollection,"mdi-delete-outline",()=>c.value=!0,n.readOnly)),V}function L(V,y,A,T){return new le(V,d(`explorer.collection.actions.${V}`),y,A,void 0,T)}return(V,y)=>(g(),U("div",null,[f(Pe,{"prepend-icon":"mdi-list-box-outline",actions:k.value,onClick:v,"onClick:action":b,class:"text-gray-light text-sm-body-2"},{default:i(()=>[$(S(V.entityCollection.entityType),1)]),_:1},8,["actions"]),p.value?(g(),x(ho,{key:0,modelValue:p.value,"onUpdate:modelValue":y[0]||(y[0]=A=>p.value=A),connection:w(m),"catalog-name":w(r).name,"entity-type":V.entityCollection.entityType,onRename:y[1]||(y[1]=A=>l("change"))},null,8,["modelValue","connection","catalog-name","entity-type"])):G("",!0),c.value?(g(),x(fo,{key:1,modelValue:c.value,"onUpdate:modelValue":y[2]||(y[2]=A=>c.value=A),connection:w(m),"catalog-name":w(r).name,"entity-type":V.entityCollection.entityType,onDrop:y[3]||(y[3]=A=>l("change"))},null,8,["modelValue","connection","catalog-name","entity-type"])):G("",!0)]))}}),yo=W({__name:"RenameCatalogDialog",props:{modelValue:{type:Boolean},connection:{},catalogName:{}},emits:["update:modelValue","rename"],setup(e,{emit:l}){const a=e,s=he(),o=Y(),{t}=q(),d=[r=>r!=null&&r.trim().length>0?!0:t("explorer.catalog.rename.form.newName.validations.required"),async r=>{const u=await s.isCatalogNameValid(a.connection,r);return u==null?!0:t(`explorer.catalog.rename.form.newName.validations.${u}`)},async r=>r===a.catalogName||await s.isCatalogNameAvailable(a.connection,r)?!0:t("explorer.catalog.rename.form.newName.validations.notAvailable")],n=M(a.catalogName),c=E(()=>a.catalogName!==n.value);function p(){n.value=a.catalogName}async function m(){try{return await s.renameCatalog(a.connection,a.catalogName,n.value)?(o.success(t("explorer.catalog.rename.notification.catalogRenamed",{catalogName:a.catalogName,newName:n.value})),l("rename")):o.info(t("explorer.catalog.rename.notification.catalogNotRenamed",{catalogName:a.catalogName})),!0}catch(r){return o.error(t("explorer.catalog.rename.notification.couldNotRenameCatalog",{catalogName:a.catalogName,reason:r.message})),!1}}return(r,u)=>{const k=ae("I18nT");return g(),x(ee,{"model-value":r.modelValue,changed:c.value,dangerous:"","confirm-button-icon":"mdi-pencil-outline",confirm:m,reset:p,"onUpdate:modelValue":u[1]||(u[1]=v=>l("update:modelValue",v))},{title:i(()=>[f(k,{keypath:"explorer.catalog.rename.title"},{catalogName:i(()=>[R("strong",null,S(r.catalogName),1)]),_:1})]),default:i(()=>[f(ce,{modelValue:n.value,"onUpdate:modelValue":u[0]||(u[0]=v=>n.value=v),label:w(t)("explorer.catalog.rename.form.newName.label"),rules:d,required:""},null,8,["modelValue","label"])]),"confirm-button-body":i(()=>[$(S(w(t)("common.button.rename")),1)]),_:1},8,["model-value","changed"])}}}),_o=W({__name:"DropCatalogDialog",props:{modelValue:{type:Boolean},connection:{},catalogName:{}},emits:["update:modelValue","drop"],setup(e,{emit:l}){const a=e,s=he(),o=Y(),{t}=q();async function d(){try{return await s.dropCatalog(a.connection,a.catalogName)?(o.success(t("explorer.catalog.drop.notification.catalogDropped",{catalogName:a.catalogName})),l("drop")):o.info(t("explorer.catalog.drop.notification.catalogNotDropped",{catalogName:a.catalogName})),!0}catch(n){return o.error(t("explorer.catalog.drop.notification.couldNotDropCatalog",{catalogName:a.catalogName,reason:n.message})),!1}}return(n,c)=>{const p=ae("I18nT");return g(),x(ee,{"model-value":n.modelValue,dangerous:"",changed:"","confirm-button-icon":"mdi-delete-outline",confirm:d,"onUpdate:modelValue":c[0]||(c[0]=m=>l("update:modelValue",m))},{title:i(()=>[f(p,{keypath:"explorer.catalog.drop.title"},{catalogName:i(()=>[R("strong",null,S(n.catalogName),1)]),_:1})]),"prepend-form":i(()=>[$(S(w(t)("explorer.catalog.drop.question")),1)]),"confirm-button-body":i(()=>[$(S(w(t)("common.button.drop")),1)]),_:1},8,["model-value"])}}}),wo=W({__name:"ReplaceCatalogDialog",props:{modelValue:{type:Boolean},connection:{},catalogName:{}},emits:["update:modelValue","replace"],setup(e,{emit:l}){const a=e,s=he(),o=Y(),{t}=q(),d=[v=>v!=null&&v.trim().length>0?!0:t("explorer.catalog.replace.form.catalogNameToBeReplacedWith.validations.required"),async v=>v===a.catalogName||await s.isCatalogExists(a.connection,v)?!0:t("explorer.catalog.replace.form.catalogNameToBeReplacedWith.validations.notExists")],n=M(),c=E(()=>n.value==null?[]:n.value.map(v=>v.name)),p=M(!1),m=M(),r=E(()=>m.value!=null&&m.value.length>0);s.getCatalogs(a.connection).then(v=>{n.value=v.filter(b=>b.name!==a.catalogName),p.value=!0});function u(){n.value=[],p.value=!1,m.value=""}async function k(){try{return await s.replaceCatalog(a.connection,m.value,a.catalogName)?(o.success(t("explorer.catalog.replace.notification.catalogReplaced",{catalogNameToBeReplaced:a.catalogName,catalogNameToBeReplacedWith:m.value})),l("replace")):o.info(t("explorer.catalog.replace.notification.catalogNotReplaced",{catalogNameToBeReplaced:a.catalogName})),!0}catch(v){return o.error(t("explorer.catalog.replace.notification.couldNotReplaceCatalog",{catalogNameToBeReplaced:a.catalogName,reason:v.message})),!1}}return(v,b)=>{const I=ae("I18nT");return g(),x(ee,{"model-value":v.modelValue,dangerous:"",changed:r.value,"confirm-button-icon":"mdi-file-replace-outline",confirm:k,reset:u,"onUpdate:modelValue":b[1]||(b[1]=L=>l("update:modelValue",L))},{title:i(()=>[f(I,{keypath:"explorer.catalog.replace.title"},{catalogNameToBeReplaced:i(()=>[R("strong",null,S(v.catalogName),1)]),_:1})]),default:i(()=>[f(la,{modelValue:m.value,"onUpdate:modelValue":b[0]||(b[0]=L=>m.value=L),label:w(t)("explorer.catalog.replace.form.catalogNameToBeReplacedWith.label"),items:c.value,rules:d},null,8,["modelValue","label","items"])]),"append-form":i(()=>[f(Ue,{icon:"mdi-information-outline",type:"info"},{default:i(()=>[f(I,{keypath:"explorer.catalog.replace.info"},ra({catalogNameToBeReplaced:i(()=>[R("strong",null,S(v.catalogName),1)]),_:2},[r.value?{name:"catalogNameToBeReplacedWith",fn:i(()=>[R("strong",null,S(m.value),1)]),key:"0"}:{name:"catalogNameToBeReplacedWith",fn:i(()=>[R("strong",null,"?")]),key:"1"}]),1024)]),_:1})]),"confirm-button-body":i(()=>[$(S(w(t)("common.button.replace")),1)]),_:1},8,["model-value","changed"])}}}),So=W({__name:"CreateCollectionDialog",props:{modelValue:{type:Boolean},connection:{},catalogName:{}},emits:["update:modelValue","create"],setup(e,{emit:l}){const a=e,s=Me(),o=Y(),{t}=q(),d=[r=>r!=null&&r.trim().length>0?!0:t("explorer.collection.create.form.entityType.validations.required"),async r=>{const u=await s.isEntityTypeValid(a.connection,r);return u==null?!0:t(`explorer.collection.create.form.entityType.validations.${u}`)},async r=>await s.isEntityTypeAvailable(a.connection,a.catalogName,r)?!0:t("explorer.collection.create.form.entityType.validations.notAvailable")],n=M(""),c=E(()=>n.value.length>0);function p(){n.value=""}async function m(){try{return await s.createCollection(a.connection,a.catalogName,n.value),o.success(t("explorer.collection.create.notification.collectionCreated",{entityType:n.value})),l("create"),!0}catch(r){return o.error(t("explorer.collection.create.notification.couldNotCreateCollection",{entityType:n.value,reason:r.message})),!1}}return(r,u)=>{const k=ae("I18nT");return g(),x(ee,{"model-value":r.modelValue,changed:c.value,"confirm-button-icon":"mdi-plus",confirm:m,reset:p,"onUpdate:modelValue":u[1]||(u[1]=v=>l("update:modelValue",v))},{title:i(()=>[f(k,{keypath:"explorer.collection.create.title"},{catalogName:i(()=>[R("strong",null,S(r.catalogName),1)]),_:1})]),default:i(()=>[f(ce,{modelValue:n.value,"onUpdate:modelValue":u[0]||(u[0]=v=>n.value=v),label:w(t)("explorer.collection.create.form.entityType.label"),rules:d,required:""},null,8,["modelValue","label"])]),"confirm-button-body":i(()=>[$(S(w(t)("common.button.create")),1)]),_:1},8,["model-value","changed"])}}}),Vo=W({__name:"SwitchCatalogToAliveStateDialog",props:{modelValue:{type:Boolean},connection:{},catalogName:{}},emits:["update:modelValue","switch"],setup(e,{emit:l}){const a=e,s=he(),o=Y(),{t}=q();async function d(){try{return await s.switchCatalogToAliveState(a.connection,a.catalogName)?(o.success(t("explorer.catalog.switchToAliveState.notification.catalogSwitched",{catalogName:a.catalogName})),l("switch")):o.info(t("explorer.catalog.switchToAliveState.notification.catalogNotSwitched",{catalogName:a.catalogName})),!0}catch(n){return o.error(t("explorer.catalog.switchToAliveState.notification.couldNotSwitchCatalog",{catalogName:a.catalogName,reason:n.message})),!1}}return(n,c)=>{const p=ae("I18nT");return g(),x(ee,{"model-value":n.modelValue,dangerous:"",changed:"","confirm-button-icon":"mdi-toggle-switch-outline",confirm:d,"onUpdate:modelValue":c[0]||(c[0]=m=>l("update:modelValue",m))},{title:i(()=>[f(p,{keypath:"explorer.catalog.switchToAliveState.title"},{catalogName:i(()=>[R("strong",null,S(n.catalogName),1)]),_:1})]),"prepend-form":i(()=>[$(S(w(t)("explorer.catalog.switchToAliveState.description")),1)]),"append-form":i(()=>[f(Ue,{icon:"mdi-alert-outline",type:"warning"},{default:i(()=>[$(S(w(t)("explorer.catalog.switchToAliveState.warning")),1)]),_:1})]),"confirm-button-body":i(()=>[$(S(w(t)("common.button.switch")),1)]),_:1},8,["model-value"])}}});var ye=(e=>(e.Info="info",e.Warning="warning",e.Error="error",e))(ye||{});class ne{constructor(l,a){ve(this,"value");ve(this,"type");this.value=l,this.type=a}static info(l){return new ne(l,ye.Info)}static warning(l){return new ne(l,ye.Warning)}static error(l){return new ne(l,ye.Error)}}const ko={key:0},To=W({__name:"CatalogItem",props:{catalog:{}},emits:["change"],setup(e,{emit:l}){const a=e,s=ke(),o=de(),t=ia(),d=ut(),n=ct(),c=sa(),{t:p}=q(),m=M(!1),r=M(!1),u=M(!1),k=M(!1),v=M(!1),b=bt(),I=E(()=>{const _=[];return a.catalog.corrupted&&_.push(ne.error(p("explorer.catalog.flag.corrupted"))),a.catalog.isInWarmup&&_.push(ne.warning(p("explorer.catalog.flag.warmingUp"))),_}),L=E(()=>N()),V=E(()=>Array.from(L.value.values())),y=E(()=>a.catalog.entityCollections.sort((_,C)=>_.entityType.localeCompare(C.entityType))),A=M(a.catalog);ro(A);const T=M(!1);function h(_){var B;const C=(B=L.value)==null?void 0:B.get(_);C&&C instanceof le&&C.execute()}function N(){const _=new Map;return _.set(H.OpenEvitaQLConsole,D(H.OpenEvitaQLConsole,"mdi-variable",()=>{o.createTab(t.createNew(b,a.catalog.name))},!a.catalog.corrupted)),_.set(H.OpenGraphQLDataAPIConsole,D(H.OpenGraphQLDataAPIConsole,"mdi-graphql",()=>{o.createTab(d.createNew(b,a.catalog.name,Ne.Data))},!a.catalog.corrupted)),_.set(H.OpenGraphQLSchemaAPIConsole,D(H.OpenGraphQLSchemaAPIConsole,"mdi-graphql",()=>{o.createTab(d.createNew(b,a.catalog.name,Ne.Schema))},!a.catalog.corrupted)),_.set(H.ViewSchema,D(H.ViewSchema,"mdi-file-code-outline",()=>{o.createTab(n.createNew(b,new ca(a.catalog.name)))},!a.catalog.corrupted)),_.set(H.BackupSubheader,new se(p("explorer.catalog.subheader.backup"))),_.set(H.Backups,D(H.Backups,"mdi-cloud-download-outline",()=>{o.createTab(c.createNew(b,a.catalog.name,!1))},!a.catalog.corrupted&&!s.readOnly)),_.set(H.ModifySubheader,new se(p("explorer.catalog.subheader.modify"))),_.set(H.RenameCatalog,D(H.RenameCatalog,"mdi-pencil-outline",()=>m.value=!0,!a.catalog.corrupted&&!s.readOnly)),_.set(H.ReplaceCatalog,D(H.ReplaceCatalog,"mdi-file-replace-outline",()=>r.value=!0,!a.catalog.corrupted&&!s.readOnly)),a.catalog.isInWarmup&&_.set(H.SwitchCatalogToAliveState,D(H.SwitchCatalogToAliveState,"mdi-toggle-switch-outline",()=>u.value=!0,!a.catalog.corrupted&&!s.readOnly)),_.set(H.DropCatalog,D(H.DropCatalog,"mdi-delete-outline",()=>k.value=!0,!s.readOnly)),_.set(H.CollectionsSubheader,new se(p("explorer.catalog.subheader.collections"))),_.set(H.CreateCollection,D(H.CreateCollection,"mdi-plus",()=>v.value=!0,!a.catalog.corrupted&&!s.readOnly)),new Map(_)}function D(_,C,B,K=!0){return new le(_,p(`explorer.catalog.actions.${_}`),C,B,void 0,!K)}return(_,C)=>(g(),x(dt,{value:`${w(b).name}|${_.catalog.name}`},{activator:i(({isOpen:B,props:K})=>[f(Pe,Z(K,{openable:!_.catalog.corrupted,"is-open":B,"prepend-icon":"mdi-menu",loading:T.value,flags:I.value,actions:V.value,"onClick:action":h,class:"text-gray-light text-sm-body-2"}),{default:i(()=>[$(S(_.catalog.name),1)]),_:2},1040,["openable","is-open","loading","flags","actions"])]),default:i(()=>[_.catalog.corrupted?G("",!0):(g(),U("div",ko,[_.catalog.entityCollections.size>0?(g(!0),U(z,{key:0},te(y.value,B=>(g(),x(bo,{key:B.entityType,"entity-collection":B,onChange:C[0]||(C[0]=K=>l("change"))},null,8,["entity-collection"]))),128)):(g(),x(_t,{key:1}))])),m.value?(g(),x(yo,{key:1,modelValue:m.value,"onUpdate:modelValue":C[1]||(C[1]=B=>m.value=B),connection:w(b),"catalog-name":_.catalog.name,onRename:C[2]||(C[2]=B=>l("change"))},null,8,["modelValue","connection","catalog-name"])):G("",!0),r.value?(g(),x(wo,{key:2,modelValue:r.value,"onUpdate:modelValue":C[3]||(C[3]=B=>r.value=B),connection:w(b),"catalog-name":_.catalog.name,onReplace:C[4]||(C[4]=B=>l("change"))},null,8,["modelValue","connection","catalog-name"])):G("",!0),u.value?(g(),x(Vo,{key:3,modelValue:u.value,"onUpdate:modelValue":C[5]||(C[5]=B=>u.value=B),connection:w(b),"catalog-name":_.catalog.name,onSwitch:C[6]||(C[6]=B=>l("change"))},null,8,["modelValue","connection","catalog-name"])):G("",!0),k.value?(g(),x(_o,{key:4,modelValue:k.value,"onUpdate:modelValue":C[7]||(C[7]=B=>k.value=B),connection:w(b),"catalog-name":_.catalog.name,onDrop:C[8]||(C[8]=B=>l("change"))},null,8,["modelValue","connection","catalog-name"])):G("",!0),v.value?(g(),x(So,{key:5,modelValue:v.value,"onUpdate:modelValue":C[9]||(C[9]=B=>v.value=B),connection:w(b),"catalog-name":_.catalog.name,onCreate:C[10]||(C[10]=B=>l("change"))},null,8,["modelValue","connection","catalog-name"])):G("",!0)]),_:1},8,["value"]))}}),Co=W({__name:"RemoveConnectionDialog",props:{modelValue:{type:Boolean},connection:{}},emits:["update:modelValue"],setup(e,{emit:l}){const a=e,s=Te(),o=Y(),{t}=q();async function d(){try{return s.removeConnection(a.connection.id),o.success(t("explorer.connection.remove.notification.connectionRemoved",{connectionName:a.connection.name})),!0}catch(n){return o.error(t("explorer.connection.remove.notification.couldNotRemoveConnection",{connectionName:a.connection.name,reason:n.message})),!1}}return(n,c)=>{const p=ae("I18nT");return g(),x(ee,{"model-value":n.modelValue,dangerous:"",changed:"","confirm-button-icon":"mdi-delete-outline",confirm:d,"onUpdate:modelValue":c[0]||(c[0]=m=>l("update:modelValue",m))},{activator:i(({props:m})=>[ge(n.$slots,"activator",mt(vt(m)))]),title:i(()=>[f(p,{keypath:"explorer.connection.remove.title"},{connectionName:i(()=>[R("strong",null,S(n.connection.name),1)]),_:1})]),"prepend-form":i(()=>[$(S(w(t)("explorer.connection.remove.question")),1)]),"confirm-button-body":i(()=>[$(S(w(t)("common.button.remove")),1)]),_:3},8,["model-value"])}}}),No=W({__name:"CreateCatalogDialog",props:{modelValue:{type:Boolean},connection:{}},emits:["update:modelValue","create"],setup(e,{emit:l}){const a=e,s=he(),o=Y(),{t}=q(),d=[r=>r!=null&&r.trim().length>0?!0:t("explorer.catalog.create.form.catalogName.validations.required"),async r=>{const u=await s.isCatalogNameValid(a.connection,r);return u==null?!0:t(`explorer.catalog.create.form.catalogName.validations.${u}`)},async r=>await s.isCatalogNameAvailable(a.connection,r)?!0:t("explorer.catalog.create.form.catalogName.validations.notAvailable")],n=M(""),c=E(()=>n.value.length>0);function p(){n.value=""}async function m(){try{return await s.createCatalog(a.connection,n.value),o.success(t("explorer.catalog.create.notification.catalogCreated",{catalogName:n.value})),l("create"),!0}catch(r){return o.error(t("explorer.catalog.create.notification.couldNotCreateCatalog",{catalogName:n.value,reason:r.message})),!1}}return(r,u)=>(g(),x(ee,{"model-value":r.modelValue,changed:c.value,"confirm-button-icon":"mdi-plus",confirm:m,reset:p,"onUpdate:modelValue":u[1]||(u[1]=k=>l("update:modelValue",k))},{title:i(()=>[$(S(w(t)("explorer.catalog.create.title")),1)]),default:i(()=>[f(ce,{modelValue:n.value,"onUpdate:modelValue":u[0]||(u[0]=k=>n.value=k),label:w(t)("explorer.catalog.create.form.catalogName.label"),rules:d,required:""},null,8,["modelValue","label"])]),"confirm-button-body":i(()=>[$(S(w(t)("common.button.create")),1)]),_:1},8,["model-value","changed"]))}}),xo={key:0},Do=W({__name:"ConnectionItem",props:{connection:{}},setup(e){const l=e,a=ke(),s=de(),o=Te(),t=ut(),d=ua(),n=da(),c=ma(),p=Y(),{t:m}=q();lo(l.connection);const r=E(()=>{const h=[];return l.connection.preconfigured&&h.push(ne.info(m("explorer.connection.flag.preconfigured"))),h}),u=E(()=>A()),k=E(()=>Array.from(u.value.values())),v=M(),b=M(!1),I=M(!1),L=M(!1);async function V(){b.value=!0;try{v.value=(await o.getCatalogs(l.connection,!0)).sort((h,N)=>h.name.localeCompare(N.name))}catch(h){p.error(h)}b.value=!1}function y(h){const N=u.value.get(h);N instanceof le&&N.execute()}function A(){const h=new Map;return h.set(O.Refresh,T(O.Refresh,"mdi-refresh",()=>V())),h.set(O.OpenGraphQLSystemAPIConsole,T(O.OpenGraphQLSystemAPIConsole,"mdi-graphql",()=>s.createTab(t.createNew(l.connection,"system",Ne.System)))),h.set(O.Detail,T(O.Detail,"mdi-database-outline",()=>s.createTab(d.createNew(l.connection)))),h.set(O.Tasks,T(O.Tasks,"mdi-chart-gantt",()=>{s.createTab(n.createNew(l.connection))})),h.set(O.JfrRecordings,T(O.JfrRecordings,"mdi-chart-timeline",()=>{s.createTab(c.createNew(l.connection))})),h.set(O.ModifySubheader,new se(m("explorer.connection.subheader.modify"))),h.set(O.Remove,T(O.Remove,"mdi-delete-outline",()=>I.value=!0,l.connection.preconfigured)),h.set(O.CatalogsSubheader,new se(m("explorer.connection.subheader.catalogs"))),h.set(O.CreateCatalog,T(O.CreateCatalog,"mdi-plus",()=>L.value=!0,a.readOnly)),h}function T(h,N,D,_){return new le(h,m(`explorer.connection.actions.${h}`),N,D,void 0,_)}return(h,N)=>(g(),U("div",null,[f(dt,{value:h.connection.name},{activator:i(({isOpen:D,props:_})=>[f(Pe,Z(_,{openable:"","is-open":D,"prepend-icon":"mdi-power-plug-outline",loading:b.value,flags:r.value,actions:k.value,onClick:N[0]||(N[0]=C=>V()),"onClick:action":y}),{default:i(()=>[$(S(h.connection.name),1)]),_:2},1040,["is-open","loading","flags","actions"])]),default:i(()=>[v.value!==void 0?(g(),U("div",xo,[v.value.size>0?(g(!0),U(z,{key:0},te(v.value,D=>(g(),x(To,{key:D.name,catalog:D,onChange:V},null,8,["catalog"]))),128)):(g(),x(_t,{key:1}))])):G("",!0),I.value?(g(),x(Co,{key:1,modelValue:I.value,"onUpdate:modelValue":N[1]||(N[1]=D=>I.value=D),connection:h.connection},null,8,["modelValue","connection"])):G("",!0),L.value?(g(),x(No,{key:2,modelValue:L.value,"onUpdate:modelValue":N[2]||(N[2]=D=>L.value=D),connection:h.connection,onCreate:V},null,8,["modelValue","connection"])):G("",!0)]),_:1},8,["value"])]))}}),Ro=W({__name:"ConnectToServerDialog",props:{modelValue:{type:Boolean},connection:{default:void 0}},emits:["update:modelValue"],setup(e,{emit:l}){const a=Te(),s=Y(),{t:o}=q(),t=[b=>b?!0:o("explorer.connection.connect.form.connectionName.validations.required"),b=>a.isConnectionExists(b)?o("explorer.connection.connect.form.connectionName.validations.duplicate"):!0],d=[b=>b?!0:o("explorer.connection.connect.form.serverUrl.validations.required"),b=>{try{return new URL(b),!0}catch{return o("explorer.connection.connect.form.serverUrl.validations.invalidUrl")}},async b=>{const I=await u(b);return I==null?(p.value=1,!0):(p.value=2,I)}],n=M(""),c=M(""),p=M(0),m=E(()=>n.value!=null&&n.value.length>0&&c.value!=null&&c.value.length>0),r=E(()=>{switch(p.value){case 0:return"";case 1:return"mdi-check-circle-outline";case 2:return"mdi-close-circle-outline"}});async function u(b){var I,L;try{const V=b.endsWith("/")?b:b+"/",y=await va.post(`${V}io.evitadb.externalApi.grpc.generated.EvitaManagementService/ServerStatus`,{headers:{"Content-Type":"application/json",Accept:"application/json"},body:"{}"}).json();return y.readiness!=="API_READY"?o("explorer.connection.connect.form.serverUrl.validations.notReady"):((I=y.api.lab)==null?void 0:I.enabled)!==!0?o("explorer.connection.connect.form.serverUrl.validations.labApiMissing"):((L=y.api.gRPC)==null?void 0:L.enabled)!==!0?o("explorer.connection.connect.form.serverUrl.validations.grpcApiMissing"):void 0}catch{return o("explorer.connection.connect.form.serverUrl.validations.unreachable")}}function k(){n.value="",c.value="",p.value=0}async function v(){try{return a.addConnection(pa.user(void 0,n.value,c.value)),s.success(o("explorer.connection.connect.notification.connectionAdded",{connectionName:n.value})),!0}catch(b){return s.error(o("explorer.connection.connect.notification.couldNotAddConnection",{reason:b.message})),!1}}return(b,I)=>(g(),x(ee,{"model-value":b.modelValue,changed:m.value,"confirm-button-icon":"mdi-power-plug-outline",confirm:v,reset:k,"onUpdate:modelValue":I[2]||(I[2]=L=>l("update:modelValue",L))},{activator:i(({props:L})=>[ge(b.$slots,"activator",mt(vt({props:L})))]),title:i(()=>[$(S(w(o)("explorer.connection.connect.title")),1)]),default:i(()=>[f(ce,{modelValue:n.value,"onUpdate:modelValue":I[0]||(I[0]=L=>n.value=L),label:w(o)("explorer.connection.connect.form.connectionName.label"),placeholder:"evitaDB",rules:t,required:""},null,8,["modelValue","label"]),f(ce,{modelValue:c.value,"onUpdate:modelValue":I[1]||(I[1]=L=>c.value=L),label:w(o)("explorer.connection.connect.form.serverUrl.label"),placeholder:"https://{evitadb-server}:5555",hint:w(o)("explorer.connection.connect.form.serverUrl.hint"),required:"",rules:d,"append-inner-icon":r.value},null,8,["modelValue","label","hint","append-inner-icon"])]),"confirm-button-body":i(()=>[$(S(w(o)("explorer.connection.connect.button.connect")),1)]),_:3},8,["model-value","changed"]))}}),Eo={key:0,class:"pa-2"},Bo=W({__name:"ConnectionExplorerPanel",props:{modelValue:{type:Boolean}},emits:["update:modelValue"],setup(e,{emit:l}){const a=ke(),s=Te(),{t:o}=q(),t=M(!1),d=E(()=>s.getConnections().sort((n,c)=>n.preconfigured&&!c.preconfigured?-1:c.preconfigured&&!n.preconfigured?1:n.name.localeCompare(c.name)));return(n,c)=>(g(),x(ft,{permanent:"","model-value":n.modelValue,width:325,"onUpdate:modelValue":c[2]||(c[2]=p=>n.$emit("update:modelValue",p)),class:"bg-primary"},{append:i(()=>[w(a).readOnly?G("",!0):(g(),U("div",Eo,[f(Ro,{modelValue:t.value,"onUpdate:modelValue":c[1]||(c[1]=p=>t.value=p)},{activator:i(({props:p})=>[f(Le,Z({"prepend-icon":"mdi-power-plug-outline",block:"",variant:"outlined"},p,{onClick:c[0]||(c[0]=m=>t.value=!0)}),{default:i(()=>[$(S(w(o)("explorer.button.connect")),1)]),_:2},1040)]),_:1},8,["modelValue"])]))]),default:i(()=>[f(Ve,{density:"compact",nav:""},{default:i(()=>[f(ga,{class:"text-gray-light text-sm-body-2 font-weight-medium"},{default:i(()=>[$(S(w(o)("explorer.title")),1)]),_:1}),(g(!0),U(z,null,te(d.value,p=>(g(),x(Do,{key:p.name,connection:p},null,8,["connection"]))),128))]),_:1})]),_:1},8,["model-value"]))}});function $o(e,l){return e.length<=l?e:e.substring(0,l-3)+"..."}const Io={class:"loading-screen"},Lo={class:"loading-screen-info"},Ao=W({__name:"TabLoadingScreen",setup(e){const{t:l}=q();return(a,s)=>(g(),U("div",Io,[R("div",Lo,[f(rt,{size:48}),R("span",null,S(w(l)("tab.placeholder.loading")),1)])]))}});const Mo=me(Ao,[["__scopeId","data-v-b23d11da"]]),Uo=W({__name:"TabWindow",props:{component:{},componentProps:{}},emits:["dataUpdate"],setup(e,{emit:l}){const a=M(!1);return(s,o)=>(g(),U(z,null,[(g(),x(ya,null,[fa((g(),x(ba(s.component),Z(s.componentProps,{onReady:o[0]||(o[0]=t=>a.value=!0),onDataUpdate:o[1]||(o[1]=t=>l("dataUpdate",t))}),null,16)),[[ha,a.value]])],1024)),a.value?G("",!0):(g(),x(Mo,{key:0}))],64))}}),Po="/lab/logo/evitalab-logo-representative.svg",Ho=e=>(it("data-v-70fa2ac3"),e=e(),st(),e),Wo={class:"editor-welcome-screen"},Go={class:"editor-welcome-screen-hero"},qo={class:"editor-welcome-screen-hero__header"},Oo={class:"editor-welcome-screen-hero__title"},Fo={class:"font-weight-bold mb-2",style:{"font-size":"4.375rem"}},Qo={class:"text-white",style:{"font-size":"1rem"}},zo={class:"text-primary-lightest text-body-2",href:"https://github.com/lukashornych/evitalab/releases",target:"_blank"},Yo={class:"text-gray-light",style:{"font-size":"1rem"}},jo={class:"editor-welcome-screen-blog"},Ko=["href"],Xo={class:"editor-welcome-screen-blog-img__wrap"},Jo=["src","alt"],Zo={class:"editor-welcome-screen-blog-item__title"},en={class:"editor-welcome-screen-blog-item__perex"},tn={class:"editor-welcome-screen-blog-item__btn"},an=Ho(()=>R("span",{class:"editor-welcome-screen-hr"},"",-1)),on={class:"editor-welcome-screen-hero__links"},nn={href:"https://evitadb.io/documentation",target:"_blank"},ln={href:"https://github.com/lukashornych/evitalab/",target:"_blank"},rn={href:"https://discord.gg/VsNBWxgmSw",target:"_blank"},sn={href:"https://github.com/lukashornych/evitalab/issues",target:"_blank"},cn=W({__name:"WelcomeScreen",setup(e){const l=_a(),{t:a}=q(),s=E(()=>{const t="";return t.length===0?"?":t.substring(1)}),o=M([]);return l.getBlogPosts().then(t=>{o.value=t}),(t,d)=>{const n=ae("I18nT");return g(),U("div",Wo,[R("div",Go,[R("header",qo,[f(Be,{width:"240",height:"240","max-width":"240","max-height":"240",alt:"evitaLab Logo",src:Po,class:"evitalab-logo"}),R("div",Oo,[R("h1",Fo,S(w(a)("app.name")),1),R("p",Qo,[$(S(s.value)+" ",1),R("a",zo,"("+S(w(a)("welcomeScreen.changelog"))+")",1)]),R("p",Yo,S(w(a)("welcomeScreen.description")),1)])]),R("div",jo,[(g(!0),U(z,null,te(o.value,c=>(g(),U("a",{key:c.url,href:c.url,target:"_blank"},[R("span",Xo,[R("img",{class:"Blog_BlogMotive__72hVr",height:"160",width:"480",src:c.thumbnailUrl,alt:w(a)("welcomeScreen.blog.thumbnail.alt",{title:c.title})},null,8,Jo)]),R("span",Zo,S(c.title),1),R("span",en,[f(wa,{source:c.perex},null,8,["source"])]),R("span",tn,S(w(a)("welcomeScreen.blog.button.read")),1)],8,Ko))),128))]),an,R("ul",on,[f(n,{keypath:"welcomeScreen.link.evitaDBDocumentation.text",tag:"li"},{link:i(()=>[R("a",nn,S(w(a)("welcomeScreen.link.evitaDBDocumentation.link")),1)]),_:1}),f(n,{keypath:"welcomeScreen.link.evitaLabGitHub.text",tag:"li"},{link:i(()=>[R("a",ln,S(w(a)("welcomeScreen.link.evitaLabGitHub.link")),1)]),_:1}),f(n,{keypath:"welcomeScreen.link.discord.text",tag:"li"},{link:i(()=>[R("a",rn,S(w(a)("welcomeScreen.link.discord.link")),1)]),_:1}),R("li",null,[R("a",sn,S(w(a)("welcomeScreen.link.submitIssue")),1)])])])])}}});const un=me(cn,[["__scopeId","data-v-70fa2ac3"]]),dn=["innerHTML"],mn=["innerHTML"],vn=["innerHTML"],pn=W({__name:"TabSharedDialog",props:{tabRequest:{}},emits:["resolve"],setup(e,{emit:l}){const a=e,s=de(),{t:o}=q();function t(){s.createTab(a.tabRequest),l("resolve")}function d(){l("resolve")}return(n,c)=>(g(),x(ka,{"model-value":!0,"max-width":"36rem","onUpdate:modelValue":d},{title:i(()=>[$(S(w(o)("tabShare.sharedDialog.title")),1)]),default:i(()=>[f(je,null,{default:i(()=>[n.tabRequest.initialData!=null?(g(),U("span",{key:0,innerHTML:w(o)("tabShare.sharedDialog.text.withoutInitialData")},null,8,dn)):(g(),U("span",{key:1,innerHTML:w(o)("tabShare.sharedDialog.text.withInitialData")},null,8,mn))]),_:1}),n.tabRequest.initialData!=null?(g(),x(je,{key:0},{default:i(()=>[f(Ue,{icon:"mdi-alert-outline",type:"warning"},{default:i(()=>[R("span",{innerHTML:w(o)("tabShare.sharedDialog.warning.potentiallyUnsafe")},null,8,vn)]),_:1})]),_:1})):G("",!0)]),"reject-button":i(()=>[f(Sa,{onReject:d},{default:i(()=>[$(S(w(o)("tabShare.sharedDialog.button.reject")),1)]),_:1})]),"confirm-button":i(()=>[f(Va,{icon:"mdi-check",onConfirm:t},{default:i(()=>[$(S(w(o)("tabShare.sharedDialog.button.accept")),1)]),_:1})]),_:1}))}}),gn={key:1,style:{position:"relative"}},fn=W({__name:"WorkspaceTabWindowList",setup(e){const l=Ta(),a=Y(),s=$e(),{t:o}=q(),t=de(),d=Ca(),n=Na(),c=M(!1),p=M(!1),m=M(),r=M(t.getTabDefinitions());X(r,()=>{const y=t.getTheNewTab();y&&(u.value=y.id,t.markTabAsVisited(y.id))},{deep:!0});const u=M();X(u,(y,A)=>{y!=null?s.setContext(y):A!=null&&s.resetActivatedContext()});function k(y){if(u.value==null)return;let T=t.getTabIndex(u.value)+y;T<0?T=r.value.length-1:T>=r.value.length&&(T=0),u.value=r.value[T].id}function v(y){const A=r.value.length,T=r.value.findIndex(N=>N.id===u.value),h=r.value.findIndex(N=>N.id===y);t.destroyTab(y),s.deleteContext(y),r.value.length===0?u.value=null:h===T&&h===A-1?u.value=r.value[h-1].id:h===T&&h<A-1&&(u.value=r.value[h].id)}async function b(){const y=l.query.demoSnippetRequest;if(y!=null)try{return await d.resolve(y)}catch(A){a.error(A)}}async function I(){const y=l.query.sharedTab;if(y!=null)try{return await n.resolve(y)}catch(A){a.error(A)}}function L(){try{let y=!1;t.restoreTabsFromLastSession()&&(y=!0),t.restoreTabHistory()&&(y=!0),y&&a.info("Your last session has been restored.")}catch(y){console.error(y),a.warning("Failed to fully restore your last session.")}}function V(){t.storeOpenedTabs(),t.storeTabHistory()}return b().then(y=>(y!=null&&(c.value=!0,t.createTab(y)),I())).then(y=>{y!=null&&(c.value=!0,m.value=y,p.value=!0),c.value||L()}),ue(()=>{s.bindGlobal(F.System_Editor_PreviousTab,()=>k(-1)),s.bindGlobal(F.System_Editor_NextTab,()=>k(1)),s.bindGlobal(F.System_Editor_CloseTab,()=>{u.value!=null&&v(u.value)}),s.bindGlobal(F.System_Editor_CloseAllTabs,()=>t.destroyAllTabs())}),Ie(()=>{s.unbindGlobal(F.System_Editor_PreviousTab),s.unbindGlobal(F.System_Editor_NextTab),s.unbindGlobal(F.System_Editor_CloseTab),s.unbindGlobal(F.System_Editor_CloseAllTabs)}),window.addEventListener("beforeunload",()=>{c.value||V()}),(y,A)=>(g(),U(z,null,[r.value.length>0?(g(),x(Aa,{key:0,density:"compact",elevation:"0"},{default:i(()=>[f(xa,{modelValue:u.value,"onUpdate:modelValue":A[0]||(A[0]=T=>u.value=T)},{default:i(()=>[(g(!0),U(z,null,te(r.value,T=>(g(),x(Ra,{key:T.id,value:T.id,"prepend-icon":T.icon,onMousedown:Ce(h=>v(T.id),["middle"]),class:"lab-tab"},{default:i(()=>[R("span",null,[$(S(w($o)(T.title,30))+" ",1),T.title.length>30?(g(),x(fe,{key:0,activator:"parent"},{default:i(()=>[$(S(T.title),1)]),_:2},1024)):G("",!0)]),f(Le,{icon:"",variant:"plain",density:"compact",class:"ml-3",onClick:Ce(h=>v(T.id),["stop"])},{default:i(()=>[f(ie,null,{default:i(()=>[$("mdi-close")]),_:1}),f(Ae,{command:w(F).System_Editor_CloseTab},{default:i(()=>[$(S(w(o)("tab.button.closeTab")),1)]),_:1},8,["command"])]),_:2},1032,["onClick"])]),_:2},1032,["value","prepend-icon","onMousedown"]))),128))]),_:1},8,["modelValue"])]),_:1})):G("",!0),f(Ua,{scrollable:!1,class:"lab-editor"},{default:i(()=>[r.value.length>0?(g(),x(Da,{key:0,modelValue:u.value,"onUpdate:modelValue":A[1]||(A[1]=T=>u.value=T)},{default:i(()=>[(g(!0),U(z,null,te(r.value,T=>(g(),x(Ea,{key:T.id,value:T.id,transition:!1,"reverse-transition":!1,class:"window-item"},{default:i(()=>[f(Uo,{component:T.component,"component-props":T.componentProps(),onDataUpdate:h=>w(t).replaceTabData(T.id,h)},null,8,["component","component-props","onDataUpdate"])]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])):(g(),U("div",gn,[f(un)]))]),_:1}),m.value?(g(),x(pn,{key:1,"tab-request":m.value,onResolve:A[2]||(A[2]=T=>m.value=void 0)},null,8,["tab-request"])):G("",!0)],64))}});const hn=me(fn,[["__scopeId","data-v-d87f82ca"]]),wn=W({__name:"MainView",setup(e){const l=M(oe.Explorer);return(a,s)=>(g(),U(z,null,[f(no,{panel:l.value,"onUpdate:panel":s[0]||(s[0]=o=>l.value=o)},null,8,["panel"]),f(Bo,{"model-value":l.value===w(oe).Explorer},null,8,["model-value"]),f(hn)],64))}});export{wn as default};
