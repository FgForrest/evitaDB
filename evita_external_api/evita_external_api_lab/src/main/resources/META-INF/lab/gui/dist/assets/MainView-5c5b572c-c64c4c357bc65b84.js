var Tt=Object.defineProperty;var kt=(e,d,n)=>d in e?Tt(e,d,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[d]=n;var be=(e,d,n)=>(kt(e,typeof d!="symbol"?d+"":d,n),n);import{p as Ne,f as M,s as Z,h as $,i as Nt,j as ee,k as pe,l as $e,n as xt,g as Le,q as at,t as ye,v as Ie,x as Te,c as Ae,V as Xe,d as f,y as ae,z as ot,m as nt,A as Dt,B as lt,C as Rt,D as Et,E as Bt,F as $t,G as Lt,H as It,I as At,J as Mt,K as Ut,a as Pt,u as Wt,b as Ht,L as Gt,M as Je,N as qt,O as Ot,P as Ft,Q as Qt,R as zt,S as Yt,T as jt,U as Me,W as Kt,X as Xt,Y as X,Z as Jt,$ as Zt,a0 as H,a1 as Ue,a2 as ge,a3 as ea,a4 as J,a5 as O,a6 as z,a7 as Pe,o as g,e as R,w as r,a8 as _e,a9 as we,aa as L,ab as We,ac as ta,ad as w,ae as He,af as q,ag as xe,ah as rt,ai as it,_ as fe,aj as ue,ak as aa,al as B,am as y,an as P,ao as ne,ap as ke,aq as me,ar as Ge,as as qe,at as st,au as Ze,av as Re,aw as Oe,r as le,ax as oe,ay as ve,az as oa,aA as ct,aB as na,aC as Ve,aD as la,aE as Fe,aF as ra,aG as ia,aH as ut,aI as Ee,aJ as dt,aK as Be,aL as sa,aM as De,aN as mt,aO as vt,aP as pt,aQ as ca,aR as ua,aS as da,aT as ma,aU as va,aV as pa,aW as ga,aX as fa,aY as ha,aZ as ba,a_ as ya,a$ as _a,b0 as wa,b1 as Sa,b2 as Va,b3 as Ca,b4 as Ta,b5 as ka,b6 as Na,b7 as xa,b8 as Da,b9 as Ra,ba as Ea}from"./index-c64c4c357bc65b84.js";import{a as gt,u as ft,b as Ba}from"./layout-736f470f-c64c4c357bc65b84.js";const $a=Ne({scrollTarget:{type:String},scrollThreshold:{type:[String,Number],default:300}},"scroll");function La(e){let d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{canScroll:n}=d;let s=0,a=0;const t=M(null),c=Z(0),u=Z(0),o=Z(0),m=Z(!1),v=Z(!1),i=$(()=>Number(e.scrollThreshold)),l=$(()=>Nt((i.value-c.value)/i.value||0)),p=()=>{const _=t.value;if(!_||n&&!n.value)return;s=c.value,c.value="window"in _?_.pageYOffset:_.scrollTop;const h=_ instanceof Window?document.documentElement.scrollHeight:_.scrollHeight;if(a!==h){a=h;return}v.value=c.value<s,o.value=Math.abs(c.value-i.value)};return ee(v,()=>{u.value=u.value||c.value}),ee(m,()=>{u.value=0}),pe(()=>{ee(()=>e.scrollTarget,_=>{var N;const h=_?document.querySelector(_):window;h&&h!==t.value&&((N=t.value)==null||N.removeEventListener("scroll",p),t.value=h,t.value.addEventListener("scroll",p,{passive:!0}))},{immediate:!0})}),$e(()=>{var _;(_=t.value)==null||_.removeEventListener("scroll",p)}),n&&ee(n,p,{immediate:!0}),{scrollThreshold:i,currentScroll:c,currentThreshold:o,isScrollActive:m,scrollRatio:l,isScrollingUp:v,savedScroll:u}}const Ia=Ne({scrollBehavior:String,modelValue:{type:Boolean,default:!0},location:{type:String,default:"top",validator:e=>["top","bottom"].includes(e)},...xt(),...gt(),...$a(),height:{type:[Number,String],default:64}},"VAppBar"),Aa=Le()({name:"VAppBar",props:Ia(),emits:{"update:modelValue":e=>!0},setup(e,d){let{slots:n}=d;const s=M(),a=at(e,"modelValue"),t=$(()=>{var b;const T=new Set(((b=e.scrollBehavior)==null?void 0:b.split(" "))??[]);return{hide:T.has("hide"),fullyHide:T.has("fully-hide"),inverted:T.has("inverted"),collapse:T.has("collapse"),elevate:T.has("elevate"),fadeImage:T.has("fade-image")}}),c=$(()=>{const T=t.value;return T.hide||T.fullyHide||T.inverted||T.collapse||T.elevate||T.fadeImage||!a.value}),{currentScroll:u,scrollThreshold:o,isScrollingUp:m,scrollRatio:v}=La(e,{canScroll:c}),i=$(()=>t.value.hide||t.value.fullyHide),l=$(()=>e.collapse||t.value.collapse&&(t.value.inverted?v.value>0:v.value===0)),p=$(()=>e.flat||t.value.fullyHide&&!a.value||t.value.elevate&&(t.value.inverted?u.value>0:u.value===0)),_=$(()=>t.value.fadeImage?t.value.inverted?1-v.value:v.value:void 0),h=$(()=>{var C,x;if(t.value.hide&&t.value.inverted)return 0;const T=((C=s.value)==null?void 0:C.contentHeight)??0,b=((x=s.value)==null?void 0:x.extensionHeight)??0;return i.value?u.value<o.value||t.value.fullyHide?T+b:T:T+b});ye($(()=>!!e.scrollBehavior),()=>{ot(()=>{i.value?t.value.inverted?a.value=u.value>o.value:a.value=m.value||u.value<o.value:a.value=!0})});const{ssrBootStyles:N}=Ie(),{layoutItemStyles:A}=ft({id:e.name,order:$(()=>parseInt(e.order,10)),position:Te(e,"location"),layoutSize:h,elementSize:Z(void 0),active:a,absolute:Te(e,"absolute")});return Ae(()=>{const T=Xe.filterProps(e);return f(Xe,ae({ref:s,class:["v-app-bar",{"v-app-bar--bottom":e.location==="bottom"},e.class],style:[{...A.value,"--v-toolbar-image-opacity":_.value,height:void 0,...N.value},e.style]},T,{collapse:l.value,flat:p.value}),n)}),{}}});const Ma=Ne({scrollable:Boolean,...nt(),...Dt(),...lt({tag:"main"})},"VMain"),Ua=Le()({name:"VMain",props:Ma(),setup(e,d){let{slots:n}=d;const{dimensionStyles:s}=Rt(e),{mainStyles:a}=Ba(),{ssrBootStyles:t}=Ie();return Ae(()=>f(e.tag,{class:["v-main",{"v-main--scrollable":e.scrollable},e.class],style:[a.value,t.value,s.value,e.style]},{default:()=>{var c,u;return[e.scrollable?f("div",{class:"v-main__scroller"},[(c=n.default)==null?void 0:c.call(n)]):(u=n.default)==null?void 0:u.call(n)]}})),{}}});function Pa(e){let{rootEl:d,isSticky:n,layoutItemStyles:s}=e;const a=Z(!1),t=Z(0),c=$(()=>{const m=typeof a.value=="boolean"?"top":a.value;return[n.value?{top:"auto",bottom:"auto",height:void 0}:void 0,a.value?{[m]:Et(t.value)}:{top:s.value.top}]});pe(()=>{ee(n,m=>{m?window.addEventListener("scroll",o,{passive:!0}):window.removeEventListener("scroll",o)},{immediate:!0})}),$e(()=>{window.removeEventListener("scroll",o)});let u=0;function o(){const m=u>window.scrollY?"up":"down",v=d.value.getBoundingClientRect(),i=parseFloat(s.value.top??0),l=window.scrollY-Math.max(0,t.value-i),p=v.height+Math.max(t.value,i)-window.scrollY-window.innerHeight,_=parseFloat(getComputedStyle(d.value).getPropertyValue("--v-body-scroll-y"))||0;v.height<window.innerHeight-i?(a.value="top",t.value=i):m==="up"&&a.value==="bottom"||m==="down"&&a.value==="top"?(t.value=window.scrollY+v.top-_,a.value=!0):m==="down"&&p<=0?(t.value=0,a.value="bottom"):m==="up"&&l<=0&&(_?a.value!=="top"&&(t.value=-l+_+i,a.value="top"):(t.value=v.top+l,a.value="top")),u=window.scrollY}return{isStuck:a,stickyStyles:c}}const Wa=100,Ha=20;function et(e){const d=1.41421356237;return(e<0?-1:1)*Math.sqrt(Math.abs(e))*d}function tt(e){if(e.length<2)return 0;if(e.length===2)return e[1].t===e[0].t?0:(e[1].d-e[0].d)/(e[1].t-e[0].t);let d=0;for(let n=e.length-1;n>0;n--){if(e[n].t===e[n-1].t)continue;const s=et(d),a=(e[n].d-e[n-1].d)/(e[n].t-e[n-1].t);d+=(a-s)*Math.abs(a),n===e.length-1&&(d*=.5)}return et(d)*1e3}function Ga(){const e={};function d(a){Array.from(a.changedTouches).forEach(t=>{(e[t.identifier]??(e[t.identifier]=new Bt(Ha))).push([a.timeStamp,t])})}function n(a){Array.from(a.changedTouches).forEach(t=>{delete e[t.identifier]})}function s(a){var m;const t=(m=e[a])==null?void 0:m.values().reverse();if(!t)throw new Error(`No samples for touch id ${a}`);const c=t[0],u=[],o=[];for(const v of t){if(c[0]-v[0]>Wa)break;u.push({t:v[0],d:v[1].clientX}),o.push({t:v[0],d:v[1].clientY})}return{x:tt(u),y:tt(o),get direction(){const{x:v,y:i}=this,[l,p]=[Math.abs(v),Math.abs(i)];return l>p&&v>=0?"right":l>p&&v<=0?"left":p>l&&i>=0?"down":p>l&&i<=0?"up":qa()}}}return{addMovement:d,endTouch:n,getVelocity:s}}function qa(){throw new Error}function Oa(e){let{el:d,isActive:n,isTemporary:s,width:a,touchless:t,position:c}=e;pe(()=>{window.addEventListener("touchstart",T,{passive:!0}),window.addEventListener("touchmove",b,{passive:!1}),window.addEventListener("touchend",C,{passive:!0})}),$e(()=>{window.removeEventListener("touchstart",T),window.removeEventListener("touchmove",b),window.removeEventListener("touchend",C)});const u=$(()=>["left","right"].includes(c.value)),{addMovement:o,endTouch:m,getVelocity:v}=Ga();let i=!1;const l=Z(!1),p=Z(0),_=Z(0);let h;function N(E,U){return(c.value==="left"?E:c.value==="right"?document.documentElement.clientWidth-E:c.value==="top"?E:c.value==="bottom"?document.documentElement.clientHeight-E:de())-(U?a.value:0)}function A(E){let U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const I=c.value==="left"?(E-_.value)/a.value:c.value==="right"?(document.documentElement.clientWidth-E-_.value)/a.value:c.value==="top"?(E-_.value)/a.value:c.value==="bottom"?(document.documentElement.clientHeight-E-_.value)/a.value:de();return U?Math.max(0,Math.min(1,I)):I}function T(E){if(t.value)return;const U=E.changedTouches[0].clientX,I=E.changedTouches[0].clientY,k=25,S=c.value==="left"?U<k:c.value==="right"?U>document.documentElement.clientWidth-k:c.value==="top"?I<k:c.value==="bottom"?I>document.documentElement.clientHeight-k:de(),V=n.value&&(c.value==="left"?U<a.value:c.value==="right"?U>document.documentElement.clientWidth-a.value:c.value==="top"?I<a.value:c.value==="bottom"?I>document.documentElement.clientHeight-a.value:de());(S||V||n.value&&s.value)&&(h=[U,I],_.value=N(u.value?U:I,n.value),p.value=A(u.value?U:I),i=_.value>-20&&_.value<80,m(E),o(E))}function b(E){const U=E.changedTouches[0].clientX,I=E.changedTouches[0].clientY;if(i){if(!E.cancelable){i=!1;return}const S=Math.abs(U-h[0]),V=Math.abs(I-h[1]);(u.value?S>V&&S>3:V>S&&V>3)?(l.value=!0,i=!1):(u.value?V:S)>3&&(i=!1)}if(!l.value)return;E.preventDefault(),o(E);const k=A(u.value?U:I,!1);p.value=Math.max(0,Math.min(1,k)),k>1?_.value=N(u.value?U:I,!0):k<0&&(_.value=N(u.value?U:I,!1))}function C(E){if(i=!1,!l.value)return;o(E),l.value=!1;const U=v(E.changedTouches[0].identifier),I=Math.abs(U.x),k=Math.abs(U.y);(u.value?I>k&&I>400:k>I&&k>3)?n.value=U.direction===({left:"right",right:"left",top:"down",bottom:"up"}[c.value]||de()):n.value=p.value>.5}const x=$(()=>l.value?{transform:c.value==="left"?`translateX(calc(-100% + ${p.value*a.value}px))`:c.value==="right"?`translateX(calc(100% - ${p.value*a.value}px))`:c.value==="top"?`translateY(calc(-100% + ${p.value*a.value}px))`:c.value==="bottom"?`translateY(calc(100% - ${p.value*a.value}px))`:de(),transition:"none"}:void 0);return ye(l,()=>{var I,k;const E=((I=d.value)==null?void 0:I.style.transform)??null,U=((k=d.value)==null?void 0:k.style.transition)??null;ot(()=>{var S,V,D,F;(V=d.value)==null||V.style.setProperty("transform",((S=x.value)==null?void 0:S.transform)||"none"),(F=d.value)==null||F.style.setProperty("transition",((D=x.value)==null?void 0:D.transition)||null)}),$t(()=>{var S,V;(S=d.value)==null||S.style.setProperty("transform",E),(V=d.value)==null||V.style.setProperty("transition",U)})}),{isDragging:l,dragProgress:p,dragStyles:x}}function de(){throw new Error}const Fa=["start","end","left","right","top","bottom"],Qa=Ne({color:String,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,modelValue:{type:Boolean,default:null},permanent:Boolean,rail:{type:Boolean,default:null},railWidth:{type:[Number,String],default:56},scrim:{type:[Boolean,String],default:!0},image:String,temporary:Boolean,persistent:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},location:{type:String,default:"start",validator:e=>Fa.includes(e)},sticky:Boolean,...Lt(),...nt(),...It(),...At({mobile:null}),...Mt(),...gt(),...Ut(),...lt({tag:"nav"}),...Pt()},"VNavigationDrawer"),ht=Le()({name:"VNavigationDrawer",props:Qa(),emits:{"update:modelValue":e=>!0,"update:rail":e=>!0},setup(e,d){let{attrs:n,emit:s,slots:a}=d;const{isRtl:t}=Wt(),{themeClasses:c}=Ht(e),{borderClasses:u}=Gt(e),{backgroundColorClasses:o,backgroundColorStyles:m}=Je(Te(e,"color")),{elevationClasses:v}=qt(e),{displayClasses:i,mobile:l}=Ot(e),{roundedClasses:p}=Ft(e),_=Qt(),h=at(e,"modelValue",null,j=>!!j),{ssrBootStyles:N}=Ie(),{scopeId:A}=zt(),T=M(),b=Z(!1),{runOpenDelay:C,runCloseDelay:x}=Jt(e,j=>{b.value=j}),E=$(()=>e.rail&&e.expandOnHover&&b.value?Number(e.width):Number(e.rail?e.railWidth:e.width)),U=$(()=>Yt(e.location,t.value)),I=$(()=>e.persistent),k=$(()=>!e.permanent&&(l.value||e.temporary)),S=$(()=>e.sticky&&!k.value&&U.value!=="bottom");ye(()=>e.expandOnHover&&e.rail!=null,()=>{ee(b,j=>s("update:rail",!j))}),ye(()=>!e.disableResizeWatcher,()=>{ee(k,j=>!e.permanent&&Zt(()=>h.value=!j))}),ye(()=>!e.disableRouteWatcher&&!!_,()=>{ee(_.currentRoute,()=>k.value&&(h.value=!1))}),ee(()=>e.permanent,j=>{j&&(h.value=!0)}),e.modelValue==null&&!k.value&&(h.value=e.permanent||!l.value);const{isDragging:V,dragProgress:D}=Oa({el:T,isActive:h,isTemporary:k,width:E,touchless:Te(e,"touchless"),position:U}),F=$(()=>{const j=k.value?0:e.rail&&e.expandOnHover?Number(e.railWidth):E.value;return V.value?j*D.value:j}),Y=$(()=>["top","bottom"].includes(e.location)?0:E.value),{layoutItemStyles:re,layoutItemScrimStyles:he}=ft({id:e.name,order:$(()=>parseInt(e.order,10)),position:U,layoutSize:F,elementSize:Y,active:$(()=>h.value||V.value),disableTransitions:$(()=>V.value),absolute:$(()=>e.absolute||S.value&&typeof ie.value!="string")}),{isStuck:ie,stickyStyles:K}=Pa({rootEl:T,isSticky:S,layoutItemStyles:re}),ze=Je($(()=>typeof e.scrim=="string"?e.scrim:null)),Ct=$(()=>({...V.value?{opacity:D.value*.2,transition:"none"}:void 0,...he.value}));return jt({VList:{bgColor:"transparent"}}),Ae(()=>{const j=a.image||e.image;return f(X,null,[f(e.tag,ae({ref:T,onMouseenter:C,onMouseleave:x,class:["v-navigation-drawer",`v-navigation-drawer--${U.value}`,{"v-navigation-drawer--expand-on-hover":e.expandOnHover,"v-navigation-drawer--floating":e.floating,"v-navigation-drawer--is-hovering":b.value,"v-navigation-drawer--rail":e.rail,"v-navigation-drawer--temporary":k.value,"v-navigation-drawer--persistent":I.value,"v-navigation-drawer--active":h.value,"v-navigation-drawer--sticky":S.value},c.value,o.value,u.value,i.value,v.value,p.value,e.class],style:[m.value,re.value,N.value,K.value,e.style,["top","bottom"].includes(U.value)?{height:"auto"}:{}]},A,n),{default:()=>{var Ye,je,Ke;return[j&&f("div",{key:"image",class:"v-navigation-drawer__img"},[a.image?f(Kt,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{alt:"",cover:!0,height:"inherit",src:e.image}}},a.image):f(Me,{key:"image-img",alt:"",cover:!0,height:"inherit",src:e.image},null)]),a.prepend&&f("div",{class:"v-navigation-drawer__prepend"},[(Ye=a.prepend)==null?void 0:Ye.call(a)]),f("div",{class:"v-navigation-drawer__content"},[(je=a.default)==null?void 0:je.call(a)]),a.append&&f("div",{class:"v-navigation-drawer__append"},[(Ke=a.append)==null?void 0:Ke.call(a)])]}}),f(Xt,{name:"fade-transition"},{default:()=>[k.value&&(V.value||h.value)&&!!e.scrim&&f("div",ae({class:["v-navigation-drawer__scrim",ze.backgroundColorClasses.value],style:[Ct.value,ze.backgroundColorStyles.value],onClick:()=>{I.value||(h.value=!1)}},A),null)]})])}),{isStuck:ie}}});var se=(e=>(e.Explorer="explorer",e))(se||{});const za="/lab/logo/evitalab-logo-mini.png?raw=true",Ya="/lab/documentation.svg",ja="/lab/discord.svg";var W=(e=>(e.Keymap="keymap",e.EvitaLabGithub="evitaLabGithub",e.DiscussEvitaLab="discussEvitaLab",e.ReportEvitaLabIssue="reportEvitaLabIssue",e.EvitaDBDocumentation="evitaDBDocumentation",e.EvitaDBGithub="evitaDBGithub",e.DiscussEvitaDB="discussEvitaDB",e.ReportEvitaDBIssue="reportEvitaDBIssue",e))(W||{});const Ka=H({__name:"ManageMenu",setup(e){const d=Ue(),n=ge(),s=ea(),a=J(),{t}=O(),c=[{type:"subheader",title:t("panel.manage.manage.title")},{title:t(`panel.manage.manage.item.${W.Keymap}`),value:W.Keymap,command:z.System_Keymap,props:{prependIcon:"mdi-keyboard-outline"}},{type:"subheader",title:t("panel.manage.evitaLabHelp.title")},{title:t(`panel.manage.evitaLabHelp.item.${W.EvitaLabGithub}`),value:W.EvitaLabGithub,props:{prependIcon:"mdi-github"}},{title:t(`panel.manage.evitaLabHelp.item.${W.DiscussEvitaLab}`),value:W.DiscussEvitaLab,props:{prependIcon:"mdi-forum-outline"}},{title:t(`panel.manage.evitaLabHelp.item.${W.ReportEvitaLabIssue}`),value:W.ReportEvitaLabIssue,props:{prependIcon:"mdi-bug"}},{type:"subheader",title:t("panel.manage.evitaDBHelp.title")},{title:t(`panel.manage.evitaDBHelp.item.${W.EvitaDBDocumentation}`),value:W.EvitaDBDocumentation,props:{prependIcon:"mdi-book-open-variant"}},{title:t(`panel.manage.evitaDBHelp.item.${W.EvitaDBGithub}`),value:W.EvitaDBGithub,props:{prependIcon:"mdi-github"}},{title:t(`panel.manage.evitaDBHelp.item.${W.DiscussEvitaDB}`),value:W.DiscussEvitaDB,props:{prependIcon:"mdi-forum-outline"}},{title:t(`panel.manage.evitaDBHelp.item.${W.ReportEvitaDBIssue}`),value:W.ReportEvitaDBIssue,props:{prependIcon:"mdi-bug"}}];function u(){n.createTab(s.createNew())}function o(m){if(m.length>0)switch(m[0]){case W.Keymap:u();break;case W.EvitaLabGithub:window.open("https://github.com/lukashornych/evitalab","_blank");break;case W.DiscussEvitaLab:window.open("https://discord.gg/VsNBWxgmSw","_blank");break;case W.ReportEvitaLabIssue:window.open("https://github.com/lukashornych/evitalab/issues/new","_blank");break;case W.EvitaDBDocumentation:window.open("https://evitadb.io/documentation","_blank");break;case W.EvitaDBGithub:window.open("https://github.com/FgForrest/evitaDB","_blank");break;case W.DiscussEvitaDB:window.open("https://discord.gg/VsNBWxgmSw","_blank");break;case W.ReportEvitaDBIssue:window.open("https://github.com/FgForrest/evitaDB/issues/new","_blank");break;default:a.error(new it(`Unknown manage option ${m[0]}`))}}return pe(()=>{d.bindGlobal(z.System_Keymap,u)}),Pe(()=>{d.unbindGlobal(z.System_Keymap)}),(m,v)=>(g(),R(rt,null,{activator:r(({props:i})=>[f(We,ae(i,{icon:"",variant:"text",class:"manage-button"}),{default:r(()=>[_e(m.$slots,"default",{},void 0,!0),f(we,{activator:"parent"},{default:r(()=>v[0]||(v[0]=[L(" Manage evitaLab ")])),_:1})]),_:2},1040)]),default:r(()=>[f(xe,{items:c,"onUpdate:selected":o},{title:r(({item:i})=>[f(ta,null,{default:r(()=>[L(w(i.title)+" ",1),i.command!=null?(g(),R(He,{key:0,command:i.command},{default:r(()=>[L(w(i.title),1)]),_:2},1032,["command"])):q("",!0)]),_:2},1024)]),_:1})]),_:3}))}});const Xa=fe(Ka,[["__scopeId","data-v-d2e32f29"]]),Ja={class:"lab-nav-links"},Za={href:"https://evitadb.io/documentation",target:"_blank"},eo=["alt"],to={href:"https://discord.gg/VsNBWxgmSw",target:"_blank"},ao=["alt"],oo=H({__name:"WorkspacePanel",props:{panel:{}},emits:["update:panel"],setup(e,{emit:d}){const n=Ue(),{t:s}=O(),a=e,t=d,c=u();function u(){const m=[];return m.push(new ue(se.Explorer,s(`panel.item.${se.Explorer}`),"mdi-connection",()=>{},z.System_Panels_ConnectionsExplorer)),m}function o(m){m.value?t("update:panel",m.id):t("update:panel",null)}return pe(()=>{n.bindGlobal(z.System_Panels_ConnectionsExplorer,()=>{a.panel===se.Explorer?t("update:panel",null):t("update:panel",se.Explorer)})}),Pe(()=>{n.unbindGlobal(z.System_Panels_ConnectionsExplorer)}),(m,v)=>(g(),R(ht,{permanent:"",rail:"",class:"bg-primary-dark"},{prepend:r(()=>[f(Xa,null,{default:r(()=>[f(aa,{size:"30px"},{default:r(()=>[f(Me,{alt:"evitaLab Logo",width:"30px",height:"30px",src:za})]),_:1})]),_:1})]),append:r(()=>[B("ul",Ja,[B("li",null,[B("a",Za,[B("img",{src:Ya,alt:y(s)("panel.link.evitaDBDocumentation.icon.alt")},null,8,eo),f(we,{activator:"parent"},{default:r(()=>[L(w(y(s)("panel.link.evitaDBDocumentation.tooltip")),1)]),_:1})])]),B("li",null,[B("a",to,[B("img",{src:ja,alt:y(s)("panel.link.discord.icon.alt")},null,8,ao),f(we,{activator:"parent"},{default:r(()=>[L(w(y(s)("panel.link.discord.tooltip")),1)]),_:1})])])])]),default:r(()=>[f(xe,{density:"compact",nav:"",selected:[m.panel],"onClick:select":o,class:"navigation-items"},{default:r(()=>[(g(!0),P(X,null,ne(y(c),i=>(g(),R(ke,{key:i.value,value:i.value},{default:r(()=>[f(me,null,{default:r(()=>[L(w(i.prependIcon),1)]),_:2},1024),f(He,{command:i.command},{default:r(()=>[L(w(i.title),1)]),_:2},1032,["command"])]),_:2},1032,["value"]))),128))]),_:1},8,["selected"])]),_:1}))}});const no=fe(oo,[["__scopeId","data-v-d2d1dd7a"]]);var Q=(e=>(e.Refresh="refresh",e.OpenGraphQLSystemAPIConsole="openGraphQLSystemApiConsole",e.Edit="edit",e.Remove="remove",e.Server="server",e.Tasks="tasks",e.JfrRecordings="jfrRecordings",e.ModifySubheader="modifySubheader",e.CatalogsSubheader="catalogsSubheader",e.CreateCatalog="createCatalog",e.CatalogBackups="catalogBackups",e))(Q||{});const bt=Symbol("connection");function lo(e){Ge(bt,e)}function yt(){return qe(bt)}const _t=Symbol("serverStatus");function ro(e){Ge(_t,e)}function wt(){return qe(_t)}const St=Symbol("catalog");function io(e){Ge(St,e)}function so(){return qe(St)}const co={class:"tree-view-item__content"},uo={key:0,class:"tree-view-item__flags"},mo={key:0,class:"tree-view-item__flags"},vo=H({__name:"VTreeViewItem",props:{openable:{type:Boolean,default:!1},isOpen:{type:Boolean,default:!1},prependIcon:{},loading:{type:Boolean,default:!1},flags:{default:()=>[]},actions:{default:()=>[]}},emits:["click:action"],setup(e,{emit:d}){const n=e,s=M(!1);function a(){n.actions&&n.actions.length>0&&(s.value=!0)}return(t,c)=>(g(),R(ke,{"prepend-icon":null,"append-icon":null,onContextmenu:Re(a,["prevent"])},{default:r(()=>[B("div",co,[t.openable?(g(),R(me,{key:0},{default:r(()=>[L(w(t.isOpen?"mdi-chevron-up":"mdi-chevron-down"),1)]),_:1})):(g(),R(me,{key:1})),t.loading?(g(),R(st,{key:2})):(g(),R(me,{key:3},{default:r(()=>[L(w(t.prependIcon),1)]),_:1})),f(we,null,{activator:r(({props:u})=>[B("span",ae(u,{class:"tree-view-item__text text-truncate"}),[_e(t.$slots,"default",{},()=>[c[2]||(c[2]=B("span",{class:"text-disabled"}," No items found ",-1))],!0),t.flags.length>0?(g(),P("span",uo,[(g(!0),P(X,null,ne(t.flags,o=>(g(),P("span",{key:o.value,class:Ze(["tree-view-item__flag",`tree-view-item__flag--${o.type}`])},w(o.value),3))),128))])):q("",!0)],16)]),default:r(()=>[_e(t.$slots,"default",{},void 0,!0),t.flags.length>0?(g(),P("span",mo,[(g(!0),P(X,null,ne(t.flags,u=>(g(),P("span",{key:u.value,class:Ze(["tree-view-item__flag","tree-view-item__lg-flag",`tree-view-item__flag--${u.type}`])},w(u.value),3))),128))])):q("",!0)]),_:3}),t.actions&&t.actions.length>0?(g(),R(rt,{key:4,"menu-items":t.actions,modelValue:s.value,"onUpdate:modelValue":c[1]||(c[1]=u=>s.value=u)},{activator:r(({props:u})=>[f(me,ae(u,{class:"text-gray-light"}),{default:r(()=>c[3]||(c[3]=[L(" mdi-dots-vertical ")])),_:2},1040)]),default:r(()=>[f(xe,{density:"compact",items:t.actions,"onClick:select":c[0]||(c[0]=u=>t.$emit("click:action",u.id))},{item:r(({props:u})=>[f(ke,{"prepend-icon":u.prependIcon,value:u.value,disabled:u.disabled},{default:r(()=>[L(w(u.title),1)]),_:2},1032,["prepend-icon","value","disabled"])]),_:1},8,["items"])]),_:1},8,["menu-items","modelValue"])):q("",!0)])]),_:3}))}});const Qe=fe(vo,[["__scopeId","data-v-2967730b"]]);var G=(e=>(e.OpenEvitaQLConsole="openEvitaQLConsole",e.OpenGraphQLDataAPIConsole="openGraphQLDataApiConsole",e.OpenGraphQLSchemaAPIConsole="openGraphQLSchemaApiConsole",e.ViewSchema="viewSchema",e.DropCatalog="dropCatalog",e.RenameCatalog="renameCatalog",e.ReplaceCatalog="replaceCatalog",e.SwitchCatalogToAliveState="switchCatalogToAliveState",e.ModifySubheader="modifySubheader",e.CollectionsSubheader="collectionsSubheader",e.JobsSubheader="jobsSubheader",e.CreateCollection="createCollection",e.Jobs="jobs",e))(G||{});const po={class:"pl-8 text-disabled"},Vt=H({__name:"VTreeViewEmptyItem",setup(e){const{t:d}=O();return(n,s)=>(g(),R(ke,null,{default:r(()=>[B("span",po,w(y(d)("common.list.empty")),1)]),_:1}))}});var te=(e=>(e.ViewEntities="viewEntities",e.ViewSchema="viewSchema",e.ModifySubheader="modifySubheader",e.DropCollection="dropCollection",e.RenameCollection="renameCollection",e))(te||{});class Se{constructor(d){be(this,"title");be(this,"type","subheader");this.title=d}}const go=H({__name:"DropCollectionDialog",props:{modelValue:{type:Boolean},connection:{},catalogName:{},entityType:{}},emits:["update:modelValue","drop"],setup(e,{emit:d}){const n=Oe(),s=J(),{t:a}=O(),t=e,c=d;async function u(){try{return await n.dropCollection(t.connection,t.catalogName,t.entityType)?(s.success(a("explorer.collection.drop.notification.collectionDropped",{entityType:t.entityType})),c("drop")):s.info(a("explorer.collection.drop.notification.collectionNotDropped",{entityType:t.entityType})),!0}catch(o){return s.error(a("explorer.collection.drop.notification.couldNotDropCollection",{entityType:t.entityType,reason:o.message})),!1}}return(o,m)=>{const v=le("I18nT");return g(),R(oe,{"model-value":o.modelValue,dangerous:"",changed:"","confirm-button-icon":"mdi-delete-outline",confirm:u,"onUpdate:modelValue":m[0]||(m[0]=i=>c("update:modelValue",i))},{title:r(()=>[f(v,{keypath:"explorer.collection.drop.title"},{entityType:r(()=>[B("strong",null,w(o.entityType),1)]),_:1})]),"prepend-form":r(()=>[L(w(y(a)("explorer.collection.drop.question")),1)]),"confirm-button-body":r(()=>[L(w(y(a)("common.button.drop")),1)]),_:1},8,["model-value"])}}}),fo=H({__name:"RenameCollectionDialog",props:{modelValue:{type:Boolean},connection:{},catalogName:{},entityType:{}},emits:["update:modelValue","rename"],setup(e,{emit:d}){const n=Oe(),s=J(),{t:a}=O(),t=e,c=d,u=[l=>l!=null&&l.trim().length>0?!0:a("explorer.collection.rename.form.newName.validations.required"),async l=>{const p=await n.isEntityTypeValid(t.connection,l);return p==null?!0:a(`explorer.collection.rename.form.newName.validations.${p}`)},async l=>l===t.entityType||await n.isEntityTypeAvailable(t.connection,t.catalogName,l)?!0:a("explorer.collection.rename.form.newName.validations.notAvailable")],o=M(t.entityType),m=$(()=>o.value!==t.entityType);function v(){o.value=t.entityType}async function i(){try{return await n.renameCollection(t.connection,t.catalogName,t.entityType,o.value)?(s.success(a("explorer.collection.rename.notification.collectionRenamed",{entityType:t.entityType,newName:o.value})),c("rename")):s.info(a("explorer.collection.rename.notification.collectionNotRenamed",{entityType:t.entityType})),!0}catch(l){return s.error(a("explorer.collection.rename.notification.couldNotRenameCollection",{entityType:t.entityType,reason:l.message})),!1}}return(l,p)=>{const _=le("I18nT");return g(),R(oe,{"model-value":l.modelValue,changed:m.value,dangerous:"","confirm-button-icon":"mdi-pencil-outline",confirm:i,reset:v,"onUpdate:modelValue":p[1]||(p[1]=h=>c("update:modelValue",h))},{title:r(()=>[f(_,{keypath:"explorer.collection.rename.title"},{entityType:r(()=>[B("strong",null,w(l.entityType),1)]),_:1})]),default:r(()=>[f(ve,{modelValue:o.value,"onUpdate:modelValue":p[0]||(p[0]=h=>o.value=h),label:y(a)("explorer.collection.rename.form.newName.label"),rules:u,required:""},null,8,["modelValue","label"])]),"confirm-button-body":r(()=>[L(w(y(a)("common.button.rename")),1)]),_:1},8,["model-value","changed"])}}}),ho=H({__name:"CollectionItem",props:{entityCollection:{}},emits:["change"],setup(e,{emit:d}){const n=ge(),s=oa(),a=ct(),{t}=O(),c=e,u=d,o=wt(),m=M(!1),v=M(!1),i=yt(),l=so(),p=$(()=>A()),_=$(()=>Array.from(p.value.values()));if(l.value==null)throw new it("Catalog schema is not loaded yet, but collection item is already rendered!");function h(){n.createTab(s.createNew(i,l.value.name,c.entityCollection.entityType,void 0,!0))}function N(b){const C=p.value.get(b);C instanceof ue&&C.execute()}function A(){const b=o.value!=null&&!o.value.readOnly,C=new Map;return C.set(te.ViewEntities,T(te.ViewEntities,"mdi-table",h)),C.set(te.ViewSchema,T(te.ViewSchema,"mdi-file-code-outline",()=>n.createTab(a.createNew(i,new na(l.value.name,c.entityCollection.entityType))))),C.set(te.ModifySubheader,new Se(t("explorer.collection.subheader.modify"))),C.set(te.RenameCollection,T(te.RenameCollection,"mdi-pencil-outline",()=>v.value=!0,b)),C.set(te.DropCollection,T(te.DropCollection,"mdi-delete-outline",()=>m.value=!0,b)),C}function T(b,C,x,E=!0){return new ue(b,t(`explorer.collection.actions.${b}`),C,x,void 0,!E)}return(b,C)=>(g(),P("div",null,[f(Qe,{"prepend-icon":"mdi-list-box-outline",actions:_.value,onClick:h,"onClick:action":N,class:"text-gray-light"},{default:r(()=>[L(w(b.entityCollection.entityType),1)]),_:1},8,["actions"]),v.value?(g(),R(fo,{key:0,modelValue:v.value,"onUpdate:modelValue":C[0]||(C[0]=x=>v.value=x),connection:y(i),"catalog-name":y(l).name,"entity-type":b.entityCollection.entityType,onRename:C[1]||(C[1]=x=>u("change"))},null,8,["modelValue","connection","catalog-name","entity-type"])):q("",!0),m.value?(g(),R(go,{key:1,modelValue:m.value,"onUpdate:modelValue":C[2]||(C[2]=x=>m.value=x),connection:y(i),"catalog-name":y(l).name,"entity-type":b.entityCollection.entityType,onDrop:C[3]||(C[3]=x=>u("change"))},null,8,["modelValue","connection","catalog-name","entity-type"])):q("",!0)]))}}),bo=H({__name:"RenameCatalogDialog",props:{modelValue:{type:Boolean},connection:{},catalogName:{}},emits:["update:modelValue","rename"],setup(e,{emit:d}){const n=Ve(),s=J(),{t:a}=O(),t=e,c=d,u=[l=>l!=null&&l.trim().length>0?!0:a("explorer.catalog.rename.form.newName.validations.required"),async l=>{const p=await n.isCatalogNameValid(t.connection,l);return p==null?!0:a(`explorer.catalog.rename.form.newName.validations.${p}`)},async l=>l===t.catalogName||await n.isCatalogNameAvailable(t.connection,l)?!0:a("explorer.catalog.rename.form.newName.validations.notAvailable")],o=M(t.catalogName),m=$(()=>t.catalogName!==o.value);function v(){o.value=t.catalogName}async function i(){try{return await n.renameCatalog(t.connection,t.catalogName,o.value)?(s.success(a("explorer.catalog.rename.notification.catalogRenamed",{catalogName:t.catalogName,newName:o.value})),c("rename")):s.info(a("explorer.catalog.rename.notification.catalogNotRenamed",{catalogName:t.catalogName})),!0}catch(l){return s.error(a("explorer.catalog.rename.notification.couldNotRenameCatalog",{catalogName:t.catalogName,reason:l.message})),!1}}return(l,p)=>{const _=le("I18nT");return g(),R(oe,{"model-value":l.modelValue,changed:m.value,dangerous:"","confirm-button-icon":"mdi-pencil-outline",confirm:i,reset:v,"onUpdate:modelValue":p[1]||(p[1]=h=>c("update:modelValue",h))},{title:r(()=>[f(_,{keypath:"explorer.catalog.rename.title"},{catalogName:r(()=>[B("strong",null,w(l.catalogName),1)]),_:1})]),default:r(()=>[f(ve,{modelValue:o.value,"onUpdate:modelValue":p[0]||(p[0]=h=>o.value=h),label:y(a)("explorer.catalog.rename.form.newName.label"),rules:u,required:""},null,8,["modelValue","label"])]),"confirm-button-body":r(()=>[L(w(y(a)("common.button.rename")),1)]),_:1},8,["model-value","changed"])}}}),yo=H({__name:"DropCatalogDialog",props:{modelValue:{type:Boolean},connection:{},catalogName:{}},emits:["update:modelValue","drop"],setup(e,{emit:d}){const n=Ve(),s=J(),{t:a}=O(),t=e,c=d;async function u(){try{return await n.dropCatalog(t.connection,t.catalogName)?(s.success(a("explorer.catalog.drop.notification.catalogDropped",{catalogName:t.catalogName})),c("drop")):s.info(a("explorer.catalog.drop.notification.catalogNotDropped",{catalogName:t.catalogName})),!0}catch(o){return s.error(a("explorer.catalog.drop.notification.couldNotDropCatalog",{catalogName:t.catalogName,reason:o.message})),!1}}return(o,m)=>{const v=le("I18nT");return g(),R(oe,{"model-value":o.modelValue,dangerous:"",changed:"","confirm-button-icon":"mdi-delete-outline",confirm:u,"onUpdate:modelValue":m[0]||(m[0]=i=>c("update:modelValue",i))},{title:r(()=>[f(v,{keypath:"explorer.catalog.drop.title"},{catalogName:r(()=>[B("strong",null,w(o.catalogName),1)]),_:1})]),"prepend-form":r(()=>[L(w(y(a)("explorer.catalog.drop.question")),1)]),"confirm-button-body":r(()=>[L(w(y(a)("common.button.drop")),1)]),_:1},8,["model-value"])}}}),_o=H({__name:"ReplaceCatalogDialog",props:{modelValue:{type:Boolean},connection:{},catalogName:{}},emits:["update:modelValue","replace"],setup(e,{emit:d}){const n=Ve(),s=J(),{t:a}=O(),t=e,c=d,u=[h=>h!=null&&h.trim().length>0?!0:a("explorer.catalog.replace.form.catalogNameToBeReplacedWith.validations.required"),async h=>h===t.catalogName||await n.isCatalogExists(t.connection,h)?!0:a("explorer.catalog.replace.form.catalogNameToBeReplacedWith.validations.notExists")],o=M(),m=$(()=>o.value==null?[]:o.value.map(h=>h.name)),v=M(!1),i=M(),l=$(()=>i.value!=null&&i.value.length>0);n.getCatalogs(t.connection).then(h=>{o.value=h.filter(N=>N.name!==t.catalogName),v.value=!0});function p(){o.value=[],v.value=!1,i.value=""}async function _(){try{return await n.replaceCatalog(t.connection,i.value,t.catalogName)?(s.success(a("explorer.catalog.replace.notification.catalogReplaced",{catalogNameToBeReplaced:t.catalogName,catalogNameToBeReplacedWith:i.value})),c("replace")):s.info(a("explorer.catalog.replace.notification.catalogNotReplaced",{catalogNameToBeReplaced:t.catalogName})),!0}catch(h){return s.error(a("explorer.catalog.replace.notification.couldNotReplaceCatalog",{catalogNameToBeReplaced:t.catalogName,reason:h.message})),!1}}return(h,N)=>{const A=le("I18nT");return g(),R(oe,{"model-value":h.modelValue,dangerous:"",changed:l.value,"confirm-button-icon":"mdi-file-replace-outline",confirm:_,reset:p,"onUpdate:modelValue":N[1]||(N[1]=T=>c("update:modelValue",T))},{title:r(()=>[f(A,{keypath:"explorer.catalog.replace.title"},{catalogNameToBeReplaced:r(()=>[B("strong",null,w(h.catalogName),1)]),_:1})]),default:r(()=>[f(la,{modelValue:i.value,"onUpdate:modelValue":N[0]||(N[0]=T=>i.value=T),label:y(a)("explorer.catalog.replace.form.catalogNameToBeReplacedWith.label"),items:m.value,rules:u},null,8,["modelValue","label","items"])]),"append-form":r(()=>[f(Fe,{icon:"mdi-information-outline",type:"info"},{default:r(()=>[f(A,{keypath:"explorer.catalog.replace.info"},ra({catalogNameToBeReplaced:r(()=>[B("strong",null,w(h.catalogName),1)]),_:2},[l.value?{name:"catalogNameToBeReplacedWith",fn:r(()=>[B("strong",null,w(i.value),1)]),key:"0"}:{name:"catalogNameToBeReplacedWith",fn:r(()=>[N[2]||(N[2]=B("strong",null,"?",-1))]),key:"1"}]),1024)]),_:1})]),"confirm-button-body":r(()=>[L(w(y(a)("common.button.replace")),1)]),_:1},8,["model-value","changed"])}}}),wo=H({__name:"CreateCollectionDialog",props:{modelValue:{type:Boolean},connection:{},catalogName:{}},emits:["update:modelValue","create"],setup(e,{emit:d}){const n=Oe(),s=J(),{t:a}=O(),t=e,c=d,u=[l=>l!=null&&l.trim().length>0?!0:a("explorer.collection.create.form.entityType.validations.required"),async l=>{const p=await n.isEntityTypeValid(t.connection,l);return p==null?!0:a(`explorer.collection.create.form.entityType.validations.${p}`)},async l=>await n.isEntityTypeAvailable(t.connection,t.catalogName,l)?!0:a("explorer.collection.create.form.entityType.validations.notAvailable")],o=M(""),m=$(()=>o.value.length>0);function v(){o.value=""}async function i(){try{return await n.createCollection(t.connection,t.catalogName,o.value),s.success(a("explorer.collection.create.notification.collectionCreated",{entityType:o.value})),c("create"),!0}catch(l){return s.error(a("explorer.collection.create.notification.couldNotCreateCollection",{entityType:o.value,reason:l.message})),!1}}return(l,p)=>{const _=le("I18nT");return g(),R(oe,{"model-value":l.modelValue,changed:m.value,"confirm-button-icon":"mdi-plus",confirm:i,reset:v,"onUpdate:modelValue":p[1]||(p[1]=h=>c("update:modelValue",h))},{title:r(()=>[f(_,{keypath:"explorer.collection.create.title"},{catalogName:r(()=>[B("strong",null,w(l.catalogName),1)]),_:1})]),default:r(()=>[f(ve,{modelValue:o.value,"onUpdate:modelValue":p[0]||(p[0]=h=>o.value=h),label:y(a)("explorer.collection.create.form.entityType.label"),rules:u,required:""},null,8,["modelValue","label"])]),"confirm-button-body":r(()=>[L(w(y(a)("common.button.create")),1)]),_:1},8,["model-value","changed"])}}}),So=H({__name:"SwitchCatalogToAliveStateDialog",props:{modelValue:{type:Boolean},connection:{},catalogName:{}},emits:["update:modelValue","switch"],setup(e,{emit:d}){const n=Ve(),s=J(),{t:a}=O(),t=e,c=d;async function u(){try{return await n.switchCatalogToAliveState(t.connection,t.catalogName)?(s.success(a("explorer.catalog.switchToAliveState.notification.catalogSwitched",{catalogName:t.catalogName})),c("switch")):s.info(a("explorer.catalog.switchToAliveState.notification.catalogNotSwitched",{catalogName:t.catalogName})),!0}catch(o){return s.error(a("explorer.catalog.switchToAliveState.notification.couldNotSwitchCatalog",{catalogName:t.catalogName,reason:o.message})),!1}}return(o,m)=>{const v=le("I18nT");return g(),R(oe,{"model-value":o.modelValue,dangerous:"",changed:"","confirm-button-icon":"mdi-toggle-switch-outline",confirm:u,"onUpdate:modelValue":m[0]||(m[0]=i=>c("update:modelValue",i))},{title:r(()=>[f(v,{keypath:"explorer.catalog.switchToAliveState.title"},{catalogName:r(()=>[B("strong",null,w(o.catalogName),1)]),_:1})]),"prepend-form":r(()=>[L(w(y(a)("explorer.catalog.switchToAliveState.description")),1)]),"append-form":r(()=>[f(Fe,{icon:"mdi-alert-outline",type:"warning"},{default:r(()=>[L(w(y(a)("explorer.catalog.switchToAliveState.warning")),1)]),_:1})]),"confirm-button-body":r(()=>[L(w(y(a)("common.button.switch")),1)]),_:1},8,["model-value"])}}});var Ce=(e=>(e.Info="info",e.Warning="warning",e.Error="error",e))(Ce||{});class ce{constructor(d,n){be(this,"value");be(this,"type");this.value=d,this.type=n}static info(d){return new ce(d,Ce.Info)}static warning(d){return new ce(d,Ce.Warning)}static error(d){return new ce(d,Ce.Error)}}const Vo={key:0},Co=H({__name:"CatalogItem",props:{catalog:{}},emits:["change"],setup(e,{emit:d}){const n=ge(),s=ia(),a=ut(),t=ct(),{t:c}=O(),u=e,o=d,m=wt(),v=M(!1),i=M(!1),l=M(!1),p=M(!1),_=M(!1),h=yt(),N=$(()=>{const k=[];return u.catalog.corrupted&&k.push(ce.error(c("explorer.catalog.flag.corrupted"))),u.catalog.isInWarmup&&k.push(ce.warning(c("explorer.catalog.flag.warmingUp"))),k}),A=$(()=>U()),T=$(()=>Array.from(A.value.values())),b=$(()=>u.catalog.entityCollections.sort((k,S)=>k.entityType.localeCompare(S.entityType))),C=M(u.catalog);io(C);const x=M(!1);function E(k){var V;const S=(V=A.value)==null?void 0:V.get(k);S&&S instanceof ue&&S.execute()}function U(){const k=m.value!=null&&m.value.apiEnabled(Ee.GraphQL),S=!u.catalog.corrupted,V=m.value!=null&&!m.value.readOnly,D=new Map;return D.set(G.OpenEvitaQLConsole,I(G.OpenEvitaQLConsole,"mdi-variable",()=>{n.createTab(s.createNew(h,u.catalog.name))},S)),D.set(G.OpenGraphQLDataAPIConsole,I(G.OpenGraphQLDataAPIConsole,"mdi-graphql",()=>{n.createTab(a.createNew(h,u.catalog.name,Be.Data))},S&&k)),D.set(G.OpenGraphQLSchemaAPIConsole,I(G.OpenGraphQLSchemaAPIConsole,"mdi-graphql",()=>{n.createTab(a.createNew(h,u.catalog.name,Be.Schema))},S&&k)),D.set(G.ViewSchema,I(G.ViewSchema,"mdi-file-code-outline",()=>{n.createTab(t.createNew(h,new sa(u.catalog.name)))},S)),D.set(G.ModifySubheader,new Se(c("explorer.catalog.subheader.modify"))),D.set(G.RenameCatalog,I(G.RenameCatalog,"mdi-pencil-outline",()=>v.value=!0,S&&V)),D.set(G.ReplaceCatalog,I(G.ReplaceCatalog,"mdi-file-replace-outline",()=>i.value=!0,S&&V)),u.catalog.isInWarmup&&D.set(G.SwitchCatalogToAliveState,I(G.SwitchCatalogToAliveState,"mdi-toggle-switch-outline",()=>l.value=!0,S&&V)),D.set(G.DropCatalog,I(G.DropCatalog,"mdi-delete-outline",()=>p.value=!0,V)),D.set(G.CollectionsSubheader,new Se(c("explorer.catalog.subheader.collections"))),D.set(G.CreateCollection,I(G.CreateCollection,"mdi-plus",()=>_.value=!0,S&&V)),new Map(D)}function I(k,S,V,D=!0){return new ue(k,c(`explorer.catalog.actions.${k}`),S,V,void 0,!D)}return(k,S)=>(g(),R(dt,{value:`${y(h).name}|${k.catalog.name}`},{activator:r(({isOpen:V,props:D})=>[f(Qe,ae(D,{openable:!k.catalog.corrupted,"is-open":V,"prepend-icon":"mdi-menu",loading:x.value,flags:N.value,actions:T.value,"onClick:action":E,class:"text-gray-light"}),{default:r(()=>[L(w(k.catalog.name),1)]),_:2},1040,["openable","is-open","loading","flags","actions"])]),default:r(()=>[k.catalog.corrupted?q("",!0):(g(),P("div",Vo,[k.catalog.entityCollections.size>0?(g(!0),P(X,{key:0},ne(b.value,V=>(g(),R(ho,{key:V.entityType,"entity-collection":V,onChange:S[0]||(S[0]=D=>o("change"))},null,8,["entity-collection"]))),128)):(g(),R(Vt,{key:1}))])),v.value?(g(),R(bo,{key:1,modelValue:v.value,"onUpdate:modelValue":S[1]||(S[1]=V=>v.value=V),connection:y(h),"catalog-name":k.catalog.name,onRename:S[2]||(S[2]=V=>o("change"))},null,8,["modelValue","connection","catalog-name"])):q("",!0),i.value?(g(),R(_o,{key:2,modelValue:i.value,"onUpdate:modelValue":S[3]||(S[3]=V=>i.value=V),connection:y(h),"catalog-name":k.catalog.name,onReplace:S[4]||(S[4]=V=>o("change"))},null,8,["modelValue","connection","catalog-name"])):q("",!0),l.value?(g(),R(So,{key:3,modelValue:l.value,"onUpdate:modelValue":S[5]||(S[5]=V=>l.value=V),connection:y(h),"catalog-name":k.catalog.name,onSwitch:S[6]||(S[6]=V=>o("change"))},null,8,["modelValue","connection","catalog-name"])):q("",!0),p.value?(g(),R(yo,{key:4,modelValue:p.value,"onUpdate:modelValue":S[7]||(S[7]=V=>p.value=V),connection:y(h),"catalog-name":k.catalog.name,onDrop:S[8]||(S[8]=V=>o("change"))},null,8,["modelValue","connection","catalog-name"])):q("",!0),_.value?(g(),R(wo,{key:5,modelValue:_.value,"onUpdate:modelValue":S[9]||(S[9]=V=>_.value=V),connection:y(h),"catalog-name":k.catalog.name,onCreate:S[10]||(S[10]=V=>o("change"))},null,8,["modelValue","connection","catalog-name"])):q("",!0)]),_:1},8,["value"]))}}),To=H({__name:"RemoveConnectionDialog",props:{modelValue:{type:Boolean},connection:{}},emits:["update:modelValue"],setup(e,{emit:d}){const n=De(),s=J(),{t:a}=O(),t=e,c=d;async function u(){try{return n.removeConnection(t.connection.id),s.success(a("explorer.connection.remove.notification.connectionRemoved",{connectionName:t.connection.name})),!0}catch(o){return s.error(a("explorer.connection.remove.notification.couldNotRemoveConnection",{connectionName:t.connection.name,reason:o.message})),!1}}return(o,m)=>{const v=le("I18nT");return g(),R(oe,{"model-value":o.modelValue,dangerous:"",changed:"","confirm-button-icon":"mdi-delete-outline",confirm:u,"onUpdate:modelValue":m[0]||(m[0]=i=>c("update:modelValue",i))},{activator:r(({props:i})=>[_e(o.$slots,"activator",mt(vt(i)))]),title:r(()=>[f(v,{keypath:"explorer.connection.remove.title"},{connectionName:r(()=>[B("strong",null,w(o.connection.name),1)]),_:1})]),"prepend-form":r(()=>[L(w(y(a)("explorer.connection.remove.question")),1)]),"confirm-button-body":r(()=>[L(w(y(a)("common.button.remove")),1)]),_:3},8,["model-value"])}}}),ko=H({__name:"CreateCatalogDialog",props:{modelValue:{type:Boolean},connection:{}},emits:["update:modelValue","create"],setup(e,{emit:d}){const n=Ve(),s=J(),{t:a}=O(),t=e,c=d,u=[l=>l!=null&&l.trim().length>0?!0:a("explorer.catalog.create.form.catalogName.validations.required"),async l=>{const p=await n.isCatalogNameValid(t.connection,l);return p==null?!0:a(`explorer.catalog.create.form.catalogName.validations.${p}`)},async l=>await n.isCatalogNameAvailable(t.connection,l)?!0:a("explorer.catalog.create.form.catalogName.validations.notAvailable")],o=M(""),m=$(()=>o.value.length>0);function v(){o.value=""}async function i(){try{return await n.createCatalog(t.connection,o.value),s.success(a("explorer.catalog.create.notification.catalogCreated",{catalogName:o.value})),c("create"),!0}catch(l){return s.error(a("explorer.catalog.create.notification.couldNotCreateCatalog",{catalogName:o.value,reason:l.message})),!1}}return(l,p)=>(g(),R(oe,{"model-value":l.modelValue,changed:m.value,"confirm-button-icon":"mdi-plus",confirm:i,reset:v,"onUpdate:modelValue":p[1]||(p[1]=_=>c("update:modelValue",_))},{title:r(()=>[L(w(y(a)("explorer.catalog.create.title")),1)]),default:r(()=>[f(ve,{modelValue:o.value,"onUpdate:modelValue":p[0]||(p[0]=_=>o.value=_),label:y(a)("explorer.catalog.create.form.catalogName.label"),rules:u,required:""},null,8,["modelValue","label"])]),"confirm-button-body":r(()=>[L(w(y(a)("common.button.create")),1)]),_:1},8,["model-value","changed"]))}}),No={key:0},xo=H({__name:"ConnectionItem",props:{connection:{}},setup(e){const d=pt(),n=ge(),s=De(),a=ut(),t=ca(),c=ua(),u=da(),o=ma(),m=J(),{t:v}=O(),i=e;lo(i.connection);const l=M();ro(l);const p=$(()=>{const D=[];return i.connection.preconfigured&&D.push(ce.info(v("explorer.connection.flag.preconfigured"))),D}),_=M();ee([()=>i.connection,l],async()=>_.value=await S(),{immediate:!0});const h=$(()=>_.value==null?[]:Array.from(_.value.values())),N=M(),A=M(!1),T=M(!1),b=M(!1);let C=!1;async function x(){C||(A.value=!0,C=await U().then(D=>D?I():!1),A.value=!1)}async function E(){A.value=!0,await U().then(D=>D?I():!1),A.value=!1}async function U(){try{return l.value=await s.getServerStatus(i.connection),!0}catch(D){return m.error(v("explorer.connection.notification.couldNotLoadServerStatus",{connectionName:i.connection.name,reason:D.message})),!1}}async function I(){try{return N.value=(await s.getCatalogs(i.connection,!0)).sort((D,F)=>D.name.localeCompare(F.name)),!0}catch(D){return m.error(v("explorer.connection.notification.couldNotLoadCatalogs",{connectionName:i.connection.name,reason:D.message})),!1}}function k(D){if(_.value==null)return;const F=_.value.get(D);F instanceof ue&&F.execute()}async function S(){const D=l.value!=null&&l.value.apiEnabled(Ee.GraphQL),F=l.value!=null&&l.value.apiEnabled(Ee.Observability),Y=!i.connection.preconfigured,re=!d.readOnly,he=l.value!=null,ie=he&&!l.value.readOnly,K=new Map;return K.set(Q.Refresh,V(Q.Refresh,"mdi-refresh",async()=>await E())),K.set(Q.OpenGraphQLSystemAPIConsole,V(Q.OpenGraphQLSystemAPIConsole,"mdi-graphql",()=>n.createTab(a.createNew(i.connection,"system",Be.System)),D)),K.set(Q.Server,V(Q.Server,"mdi-database-outline",()=>n.createTab(t.createNew(i.connection)),he)),K.set(Q.Tasks,V(Q.Tasks,"mdi-chart-gantt",()=>{n.createTab(c.createNew(i.connection))},ie)),K.set(Q.JfrRecordings,V(Q.JfrRecordings,"mdi-chart-timeline",()=>{n.createTab(u.createNew(i.connection))},ie&&F)),K.set(Q.ModifySubheader,new Se(v("explorer.connection.subheader.modify"))),K.set(Q.Remove,V(Q.Remove,"mdi-delete-outline",()=>T.value=!0,Y&&re)),K.set(Q.CatalogsSubheader,new Se(v("explorer.connection.subheader.catalogs"))),K.set(Q.CreateCatalog,V(Q.CreateCatalog,"mdi-plus",()=>b.value=!0,ie)),K.set(Q.CatalogBackups,V(Q.CatalogBackups,"mdi-cloud-download-outline",()=>{n.createTab(o.createNew(i.connection))},ie)),K}function V(D,F,Y,re=!0){return new ue(D,v(`explorer.connection.actions.${D}`),F,Y,void 0,!re)}return(D,F)=>(g(),P("div",null,[f(dt,{value:D.connection.name},{activator:r(({isOpen:Y,props:re})=>[f(Qe,ae(re,{openable:"","is-open":Y,"prepend-icon":"mdi-power-plug-outline",loading:A.value,flags:p.value,actions:h.value,onClick:F[0]||(F[0]=he=>x()),"onClick:action":k}),{default:r(()=>[L(w(D.connection.name),1)]),_:2},1040,["is-open","loading","flags","actions"])]),default:r(()=>[N.value!==void 0?(g(),P("div",No,[N.value.size>0?(g(!0),P(X,{key:0},ne(N.value,Y=>(g(),R(Co,{key:Y.name,catalog:Y,onChange:I},null,8,["catalog"]))),128)):(g(),R(Vt,{key:1}))])):q("",!0),T.value?(g(),R(To,{key:1,modelValue:T.value,"onUpdate:modelValue":F[1]||(F[1]=Y=>T.value=Y),connection:D.connection},null,8,["modelValue","connection"])):q("",!0),b.value?(g(),R(ko,{key:2,modelValue:b.value,"onUpdate:modelValue":F[2]||(F[2]=Y=>b.value=Y),connection:D.connection,onCreate:I},null,8,["modelValue","connection"])):q("",!0)]),_:1},8,["value"])]))}}),Do=H({__name:"ConnectToServerDialog",props:{modelValue:{type:Boolean},connection:{default:void 0}},emits:["update:modelValue"],setup(e,{emit:d}){const n=De(),s=J(),{t:a}=O(),t=d,c=[N=>N?!0:a("explorer.connection.connect.form.connectionName.validations.required"),N=>n.isConnectionExists(N)?a("explorer.connection.connect.form.connectionName.validations.duplicate"):!0],u=[N=>N?!0:a("explorer.connection.connect.form.serverUrl.validations.required"),N=>{try{return new URL(N),!0}catch{return a("explorer.connection.connect.form.serverUrl.validations.invalidUrl")}},async N=>{const A=await p(N);return A==null?(v.value=1,!0):(v.value=2,A)}],o=M(""),m=M(""),v=M(0),i=$(()=>o.value!=null&&o.value.length>0&&m.value!=null&&m.value.length>0),l=$(()=>{switch(v.value){case 0:return"";case 1:return"mdi-check-circle-outline";case 2:return"mdi-close-circle-outline"}});async function p(N){var A,T;try{const b=N.endsWith("/")?N:N+"/",C=await va.post(`${b}io.evitadb.externalApi.grpc.generated.EvitaManagementService/ServerStatus`,{headers:{"Content-Type":"application/json",Accept:"application/json"},body:"{}"}).json();return C.readiness!=="API_READY"?a("explorer.connection.connect.form.serverUrl.validations.notReady"):((A=C.api.lab)==null?void 0:A.enabled)!==!0?a("explorer.connection.connect.form.serverUrl.validations.labApiMissing"):((T=C.api.gRPC)==null?void 0:T.enabled)!==!0?a("explorer.connection.connect.form.serverUrl.validations.grpcApiMissing"):void 0}catch{return a("explorer.connection.connect.form.serverUrl.validations.unreachable")}}function _(){o.value="",m.value="",v.value=0}async function h(){try{return n.addConnection(pa.user(void 0,o.value,m.value)),s.success(a("explorer.connection.connect.notification.connectionAdded",{connectionName:o.value})),!0}catch(N){return s.error(a("explorer.connection.connect.notification.couldNotAddConnection",{reason:N.message})),!1}}return(N,A)=>(g(),R(oe,{"model-value":N.modelValue,changed:i.value,"confirm-button-icon":"mdi-power-plug-outline",confirm:h,reset:_,"onUpdate:modelValue":A[2]||(A[2]=T=>t("update:modelValue",T))},{activator:r(({props:T})=>[_e(N.$slots,"activator",mt(vt({props:T})))]),title:r(()=>[L(w(y(a)("explorer.connection.connect.title")),1)]),default:r(()=>[f(ve,{modelValue:o.value,"onUpdate:modelValue":A[0]||(A[0]=T=>o.value=T),label:y(a)("explorer.connection.connect.form.connectionName.label"),placeholder:"evitaDB",rules:c,required:""},null,8,["modelValue","label"]),f(ve,{modelValue:m.value,"onUpdate:modelValue":A[1]||(A[1]=T=>m.value=T),label:y(a)("explorer.connection.connect.form.serverUrl.label"),placeholder:"https://{evitadb-server}:5555",hint:y(a)("explorer.connection.connect.form.serverUrl.hint"),required:"",rules:u,"append-inner-icon":l.value},null,8,["modelValue","label","hint","append-inner-icon"])]),"confirm-button-body":r(()=>[L(w(y(a)("explorer.connection.connect.button.connect")),1)]),_:3},8,["model-value","changed"]))}}),Ro={key:0,class:"pa-2"},Eo=H({__name:"ConnectionExplorerPanel",props:{modelValue:{type:Boolean}},emits:["update:modelValue"],setup(e,{emit:d}){const n=pt(),s=De(),{t:a}=O(),t=M(!1),c=$(()=>s.getConnections().sort((u,o)=>u.preconfigured&&!o.preconfigured?-1:o.preconfigured&&!u.preconfigured?1:u.name.localeCompare(o.name)));return(u,o)=>(g(),R(ht,{permanent:"","model-value":u.modelValue,width:325,"onUpdate:modelValue":o[2]||(o[2]=m=>u.$emit("update:modelValue",m)),class:"bg-primary"},{append:r(()=>[y(n).readOnly?q("",!0):(g(),P("div",Ro,[f(Do,{modelValue:t.value,"onUpdate:modelValue":o[1]||(o[1]=m=>t.value=m)},{activator:r(({props:m})=>[f(We,ae({"prepend-icon":"mdi-power-plug-outline",block:"",variant:"outlined"},m,{onClick:o[0]||(o[0]=v=>t.value=!0)}),{default:r(()=>[L(w(y(a)("explorer.button.connect")),1)]),_:2},1040)]),_:1},8,["modelValue"])]))]),default:r(()=>[f(xe,{density:"compact",nav:""},{default:r(()=>[f(ga,{class:"text-gray-light text-sm-body-2 font-weight-medium"},{default:r(()=>[L(w(y(a)("explorer.title")),1)]),_:1}),(g(!0),P(X,null,ne(c.value,m=>(g(),R(xo,{key:m.name,connection:m},null,8,["connection"]))),128))]),_:1})]),_:1},8,["model-value"]))}});function Bo(e,d){return e.length<=d?e:e.substring(0,d-3)+"..."}const $o={class:"loading-screen"},Lo={class:"loading-screen-info"},Io=H({__name:"TabLoadingScreen",setup(e){const{t:d}=O();return(n,s)=>(g(),P("div",$o,[B("div",Lo,[f(st,{size:48}),B("span",null,w(y(d)("tab.placeholder.loading")),1)])]))}});const Ao=fe(Io,[["__scopeId","data-v-b23d11da"]]),Mo=H({__name:"TabWindow",props:{component:{},componentProps:{}},emits:["dataUpdate"],setup(e,{emit:d}){const n=d,s=M(!1);return(a,t)=>(g(),P(X,null,[(g(),R(ya,null,[fa((g(),R(ba(a.component),ae(a.componentProps,{onReady:t[0]||(t[0]=c=>s.value=!0),onDataUpdate:t[1]||(t[1]=c=>n("dataUpdate",c))}),null,16)),[[ha,s.value]])],1024)),s.value?q("",!0):(g(),R(Ao,{key:0}))],64))}}),Uo="/lab/logo/evitalab-logo-representative.svg",Po={class:"editor-welcome-screen"},Wo={class:"editor-welcome-screen-hero"},Ho={class:"editor-welcome-screen-hero__header"},Go={class:"editor-welcome-screen-hero__title"},qo={class:"font-weight-bold mb-2",style:{"font-size":"4.375rem"}},Oo={class:"text-white",style:{"font-size":"1rem"}},Fo={class:"text-primary-lightest text-body-2",href:"https://github.com/lukashornych/evitalab/releases",target:"_blank"},Qo={class:"text-gray-light",style:{"font-size":"1rem"}},zo={class:"editor-welcome-screen-blog"},Yo=["href"],jo={class:"editor-welcome-screen-blog-img__wrap"},Ko=["src","alt"],Xo={class:"editor-welcome-screen-blog-item__title"},Jo={class:"editor-welcome-screen-blog-item__perex"},Zo={class:"editor-welcome-screen-blog-item__btn"},en={class:"editor-welcome-screen-hero__links"},tn={href:"https://evitadb.io/documentation",target:"_blank"},an={href:"https://github.com/lukashornych/evitalab/",target:"_blank"},on={href:"https://discord.gg/VsNBWxgmSw",target:"_blank"},nn={href:"https://github.com/lukashornych/evitalab/issues",target:"_blank"},ln=H({__name:"WelcomeScreen",setup(e){const d=_a(),{t:n}=O(),s=$(()=>{const t="v2024.3.3";return t.length===0?"?":t.substring(1)}),a=M([]);return d.getBlogPosts().then(t=>{a.value=t}),(t,c)=>{const u=le("I18nT");return g(),P("div",Po,[B("div",Wo,[B("header",Ho,[f(Me,{width:"240",height:"240","max-width":"240","max-height":"240",alt:"evitaLab Logo",src:Uo,class:"evitalab-logo"}),B("div",Go,[B("h1",qo,w(y(n)("app.name")),1),B("p",Oo,[L(w(s.value)+" ",1),B("a",Fo,"("+w(y(n)("welcomeScreen.changelog"))+")",1)]),B("p",Qo,w(y(n)("welcomeScreen.description")),1)])]),B("div",zo,[(g(!0),P(X,null,ne(a.value,o=>(g(),P("a",{key:o.url,href:o.url,target:"_blank"},[B("span",jo,[B("img",{class:"Blog_BlogMotive__72hVr",height:"160",width:"480",src:o.thumbnailUrl,alt:y(n)("welcomeScreen.blog.thumbnail.alt",{title:o.title})},null,8,Ko)]),B("span",Xo,w(o.title),1),B("span",Jo,[f(wa,{source:o.perex},null,8,["source"])]),B("span",Zo,w(y(n)("welcomeScreen.blog.button.read")),1)],8,Yo))),128))]),c[0]||(c[0]=B("span",{class:"editor-welcome-screen-hr"}," ",-1)),B("ul",en,[f(u,{keypath:"welcomeScreen.link.evitaDBDocumentation.text",tag:"li"},{link:r(()=>[B("a",tn,w(y(n)("welcomeScreen.link.evitaDBDocumentation.link")),1)]),_:1}),f(u,{keypath:"welcomeScreen.link.evitaLabGitHub.text",tag:"li"},{link:r(()=>[B("a",an,w(y(n)("welcomeScreen.link.evitaLabGitHub.link")),1)]),_:1}),f(u,{keypath:"welcomeScreen.link.discord.text",tag:"li"},{link:r(()=>[B("a",on,w(y(n)("welcomeScreen.link.discord.link")),1)]),_:1}),B("li",null,[B("a",nn,w(y(n)("welcomeScreen.link.submitIssue")),1)])])])])}}});const rn=fe(ln,[["__scopeId","data-v-70fa2ac3"]]),sn=["innerHTML"],cn=["innerHTML"],un=["innerHTML"],dn=H({__name:"TabSharedDialog",props:{tabRequest:{}},emits:["resolve"],setup(e,{emit:d}){const n=ge(),{t:s}=O(),a=e,t=d;function c(){n.createTab(a.tabRequest),t("resolve")}function u(){t("resolve")}return(o,m)=>(g(),R(Ca,{"model-value":!0,"max-width":"36rem","onUpdate:modelValue":u},{title:r(()=>[L(w(y(s)("tabShare.sharedDialog.title")),1)]),default:r(()=>[o.tabRequest.initialData!=null?(g(),P("span",{key:0,innerHTML:y(s)("tabShare.sharedDialog.text.withoutInitialData")},null,8,sn)):(g(),P("span",{key:1,innerHTML:y(s)("tabShare.sharedDialog.text.withInitialData")},null,8,cn)),o.tabRequest.initialData!=null?(g(),R(Fe,{key:2,icon:"mdi-alert-outline",type:"warning",class:"mt-4"},{default:r(()=>[B("span",{innerHTML:y(s)("tabShare.sharedDialog.warning.potentiallyUnsafe")},null,8,un)]),_:1})):q("",!0)]),"reject-button":r(()=>[f(Sa,{onReject:u},{default:r(()=>[L(w(y(s)("tabShare.sharedDialog.button.reject")),1)]),_:1})]),"confirm-button":r(()=>[f(Va,{icon:"mdi-check",onConfirm:c},{default:r(()=>[L(w(y(s)("tabShare.sharedDialog.button.accept")),1)]),_:1})]),_:1}))}}),mn={key:1,style:{position:"relative"}},vn=H({__name:"WorkspaceTabWindowList",setup(e){const d=Ta(),n=J(),s=Ue(),{t:a}=O(),t=ge(),c=ka(),u=Na(),o=M(!1),m=M(!1),v=M(),i=M(t.getTabDefinitions());ee(i,()=>{const b=t.getTheNewTab();b&&(l.value=b.id,t.markTabAsVisited(b.id))},{deep:!0});const l=M();ee(l,(b,C)=>{b!=null?s.setContext(b):C!=null&&s.resetActivatedContext()});function p(b){if(l.value==null)return;let x=t.getTabIndex(l.value)+b;x<0?x=i.value.length-1:x>=i.value.length&&(x=0),l.value=i.value[x].id}function _(b){const C=i.value.length,x=i.value.findIndex(U=>U.id===l.value),E=i.value.findIndex(U=>U.id===b);t.destroyTab(b),s.deleteContext(b),i.value.length===0?l.value=null:E===x&&E===C-1?l.value=i.value[E-1].id:E===x&&E<C-1&&(l.value=i.value[E].id)}async function h(){const b=d.query.demoSnippetRequest;if(b!=null)try{return await c.resolve(b)}catch(C){n.error(C)}}async function N(){const b=d.query.sharedTab;if(b!=null)try{return await u.resolve(b)}catch(C){n.error(C)}}function A(){try{let b=!1;t.restoreTabsFromLastSession()&&(b=!0),t.restoreTabHistory()&&(b=!0),b&&n.info("Your last session has been restored.")}catch(b){console.error(b),n.warning("Failed to fully restore your last session.")}}function T(){t.storeOpenedTabs(),t.storeTabHistory()}return h().then(b=>(b!=null&&(o.value=!0,t.createTab(b)),N())).then(b=>{b!=null&&(o.value=!0,v.value=b,m.value=!0),o.value||A()}),pe(()=>{s.bindGlobal(z.System_Editor_PreviousTab,()=>p(-1)),s.bindGlobal(z.System_Editor_NextTab,()=>p(1)),s.bindGlobal(z.System_Editor_CloseTab,()=>{l.value!=null&&_(l.value)}),s.bindGlobal(z.System_Editor_CloseAllTabs,()=>t.destroyAllTabs())}),Pe(()=>{s.unbindGlobal(z.System_Editor_PreviousTab),s.unbindGlobal(z.System_Editor_NextTab),s.unbindGlobal(z.System_Editor_CloseTab),s.unbindGlobal(z.System_Editor_CloseAllTabs)}),window.addEventListener("beforeunload",()=>{o.value||T()}),(b,C)=>(g(),P(X,null,[i.value.length>0?(g(),R(Aa,{key:0,density:"compact",elevation:"0"},{default:r(()=>[f(xa,{modelValue:l.value,"onUpdate:modelValue":C[0]||(C[0]=x=>l.value=x)},{default:r(()=>[(g(!0),P(X,null,ne(i.value,x=>(g(),R(Ra,{key:x.id,value:x.id,"prepend-icon":x.icon,onMousedown:Re(E=>_(x.id),["middle"]),class:"lab-tab"},{default:r(()=>[B("span",null,[L(w(y(Bo)(x.title,30))+" ",1),x.title.length>30?(g(),R(we,{key:0,activator:"parent"},{default:r(()=>[L(w(x.title),1)]),_:2},1024)):q("",!0)]),f(We,{icon:"",variant:"plain",density:"compact",class:"ml-3",onClick:Re(E=>_(x.id),["stop"])},{default:r(()=>[f(me,null,{default:r(()=>C[3]||(C[3]=[L("mdi-close")])),_:1}),f(He,{command:y(z).System_Editor_CloseTab},{default:r(()=>[L(w(y(a)("tab.button.closeTab")),1)]),_:1},8,["command"])]),_:2},1032,["onClick"])]),_:2},1032,["value","prepend-icon","onMousedown"]))),128))]),_:1},8,["modelValue"])]),_:1})):q("",!0),f(Ua,{scrollable:!1,class:"lab-editor"},{default:r(()=>[i.value.length>0?(g(),R(Da,{key:0,modelValue:l.value,"onUpdate:modelValue":C[1]||(C[1]=x=>l.value=x)},{default:r(()=>[(g(!0),P(X,null,ne(i.value,x=>(g(),R(Ea,{key:x.id,value:x.id,transition:!1,"reverse-transition":!1,class:"window-item"},{default:r(()=>[f(Mo,{component:x.component,"component-props":x.componentProps(),onDataUpdate:E=>y(t).replaceTabData(x.id,E)},null,8,["component","component-props","onDataUpdate"])]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])):(g(),P("div",mn,[f(rn)]))]),_:1}),v.value?(g(),R(dn,{key:1,"tab-request":v.value,onResolve:C[2]||(C[2]=x=>v.value=void 0)},null,8,["tab-request"])):q("",!0)],64))}});const pn=fe(vn,[["__scopeId","data-v-d87f82ca"]]),bn=H({__name:"MainView",setup(e){const d=M(se.Explorer);return(n,s)=>(g(),P(X,null,[f(no,{panel:d.value,"onUpdate:panel":s[0]||(s[0]=a=>d.value=a)},null,8,["panel"]),f(Eo,{"model-value":d.value===y(se).Explorer},null,8,["model-value"]),f(pn)],64))}});export{bn as default};
