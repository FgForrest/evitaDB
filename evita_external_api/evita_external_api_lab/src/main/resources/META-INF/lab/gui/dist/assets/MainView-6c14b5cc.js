var Nt=Object.defineProperty;var xt=(e,l,a)=>l in e?Nt(e,l,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[l]=a;var be=(e,l,a)=>(xt(e,typeof l!="symbol"?l+"":l,a),a);import{p as Ne,f as A,s as Z,h as R,i as Dt,j as ee,k as pe,l as $e,n as Rt,g as Ie,q as at,t as ye,v as Le,x as Te,c as Ae,V as Xe,d as h,y as ae,z as ot,m as nt,A as Et,B as lt,C as Bt,D as $t,E as It,F as Lt,G as At,H as Mt,I as Ut,J as Pt,K as Wt,a as Ht,u as Gt,b as qt,L as Ot,M as Je,N as Ft,O as Qt,P as zt,Q as Yt,R as jt,S as Kt,T as Xt,U as Me,W as Jt,X as Zt,Y as X,Z as ea,$ as ta,a0 as H,a1 as Ue,a2 as ge,a3 as aa,a4 as J,a5 as O,a6 as z,a7 as Pe,o as g,e as k,w as i,a8 as _e,a9 as we,aa as $,ab as We,ac as oa,ad as _,ae as He,af as q,ag as xe,ah as rt,ai as it,_ as fe,aj as ue,ak as na,al as N,am as y,an as P,ao as ne,ap as ke,aq as me,ar as Ge,as as qe,at as st,au as Ze,av as Re,aw as ct,ax as ut,ay as Oe,r as le,az as oe,aA as ve,aB as la,aC as dt,aD as ra,aE as Ve,aF as ia,aG as Fe,aH as sa,aI as ca,aJ as mt,aK as Ee,aL as vt,aM as Be,aN as ua,aO as De,aP as pt,aQ as gt,aR as ft,aS as da,aT as ma,aU as va,aV as pa,aW as ga,aX as fa,aY as ha,aZ as ba,a_ as ya,a$ as _a,b0 as wa,b1 as Sa,b2 as Va,b3 as Ca,b4 as Ta,b5 as ka,b6 as Na,b7 as xa,b8 as Da,b9 as Ra,ba as Ea,bb as Ba,bc as $a}from"./index-de284e1f.js";import{a as ht,u as bt,b as Ia}from"./layout-7b4c2299.js";const La=Ne({scrollTarget:{type:String},scrollThreshold:{type:[String,Number],default:300}},"scroll");function Aa(e){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{canScroll:a}=l;let s=0,o=0;const t=A(null),d=Z(0),n=Z(0),c=Z(0),f=Z(!1),v=Z(!1),r=R(()=>Number(e.scrollThreshold)),u=R(()=>Dt((r.value-d.value)/r.value||0)),V=()=>{const m=t.value;if(!m||a&&!a.value)return;s=d.value,d.value="window"in m?m.pageYOffset:m.scrollTop;const w=m instanceof Window?document.documentElement.scrollHeight:m.scrollHeight;if(o!==w){o=w;return}v.value=d.value<s,c.value=Math.abs(d.value-r.value)};return ee(v,()=>{n.value=n.value||d.value}),ee(f,()=>{n.value=0}),pe(()=>{ee(()=>e.scrollTarget,m=>{var I;const w=m?document.querySelector(m):window;w&&w!==t.value&&((I=t.value)==null||I.removeEventListener("scroll",V),t.value=w,t.value.addEventListener("scroll",V,{passive:!0}))},{immediate:!0})}),$e(()=>{var m;(m=t.value)==null||m.removeEventListener("scroll",V)}),a&&ee(a,V,{immediate:!0}),{scrollThreshold:r,currentScroll:d,currentThreshold:c,isScrollActive:f,scrollRatio:u,isScrollingUp:v,savedScroll:n}}const Ma=Ne({scrollBehavior:String,modelValue:{type:Boolean,default:!0},location:{type:String,default:"top",validator:e=>["top","bottom"].includes(e)},...Rt(),...ht(),...La(),height:{type:[Number,String],default:64}},"VAppBar"),Ua=Ie()({name:"VAppBar",props:Ma(),emits:{"update:modelValue":e=>!0},setup(e,l){let{slots:a}=l;const s=A(),o=at(e,"modelValue"),t=R(()=>{var p;const C=new Set(((p=e.scrollBehavior)==null?void 0:p.split(" "))??[]);return{hide:C.has("hide"),fullyHide:C.has("fully-hide"),inverted:C.has("inverted"),collapse:C.has("collapse"),elevate:C.has("elevate"),fadeImage:C.has("fade-image")}}),d=R(()=>{const C=t.value;return C.hide||C.fullyHide||C.inverted||C.collapse||C.elevate||C.fadeImage||!o.value}),{currentScroll:n,scrollThreshold:c,isScrollingUp:f,scrollRatio:v}=Aa(e,{canScroll:d}),r=R(()=>t.value.hide||t.value.fullyHide),u=R(()=>e.collapse||t.value.collapse&&(t.value.inverted?v.value>0:v.value===0)),V=R(()=>e.flat||t.value.fullyHide&&!o.value||t.value.elevate&&(t.value.inverted?n.value>0:n.value===0)),m=R(()=>t.value.fadeImage?t.value.inverted?1-v.value:v.value:void 0),w=R(()=>{var L,E;if(t.value.hide&&t.value.inverted)return 0;const C=((L=s.value)==null?void 0:L.contentHeight)??0,p=((E=s.value)==null?void 0:E.extensionHeight)??0;return r.value?n.value<c.value||t.value.fullyHide?C+p:C:C+p});ye(R(()=>!!e.scrollBehavior),()=>{ot(()=>{r.value?t.value.inverted?o.value=n.value>c.value:o.value=f.value||n.value<c.value:o.value=!0})});const{ssrBootStyles:I}=Le(),{layoutItemStyles:M}=bt({id:e.name,order:R(()=>parseInt(e.order,10)),position:Te(e,"location"),layoutSize:w,elementSize:Z(void 0),active:o,absolute:Te(e,"absolute")});return Ae(()=>{const C=Xe.filterProps(e);return h(Xe,ae({ref:s,class:["v-app-bar",{"v-app-bar--bottom":e.location==="bottom"},e.class],style:[{...M.value,"--v-toolbar-image-opacity":m.value,height:void 0,...I.value},e.style]},C,{collapse:u.value,flat:V.value}),a)}),{}}});const Pa=Ne({scrollable:Boolean,...nt(),...Et(),...lt({tag:"main"})},"VMain"),Wa=Ie()({name:"VMain",props:Pa(),setup(e,l){let{slots:a}=l;const{dimensionStyles:s}=Bt(e),{mainStyles:o}=Ia(),{ssrBootStyles:t}=Le();return Ae(()=>h(e.tag,{class:["v-main",{"v-main--scrollable":e.scrollable},e.class],style:[o.value,t.value,s.value,e.style]},{default:()=>{var d,n;return[e.scrollable?h("div",{class:"v-main__scroller"},[(d=a.default)==null?void 0:d.call(a)]):(n=a.default)==null?void 0:n.call(a)]}})),{}}});function Ha(e){let{rootEl:l,isSticky:a,layoutItemStyles:s}=e;const o=Z(!1),t=Z(0),d=R(()=>{const f=typeof o.value=="boolean"?"top":o.value;return[a.value?{top:"auto",bottom:"auto",height:void 0}:void 0,o.value?{[f]:$t(t.value)}:{top:s.value.top}]});pe(()=>{ee(a,f=>{f?window.addEventListener("scroll",c,{passive:!0}):window.removeEventListener("scroll",c)},{immediate:!0})}),$e(()=>{window.removeEventListener("scroll",c)});let n=0;function c(){const f=n>window.scrollY?"up":"down",v=l.value.getBoundingClientRect(),r=parseFloat(s.value.top??0),u=window.scrollY-Math.max(0,t.value-r),V=v.height+Math.max(t.value,r)-window.scrollY-window.innerHeight,m=parseFloat(getComputedStyle(l.value).getPropertyValue("--v-body-scroll-y"))||0;v.height<window.innerHeight-r?(o.value="top",t.value=r):f==="up"&&o.value==="bottom"||f==="down"&&o.value==="top"?(t.value=window.scrollY+v.top-m,o.value=!0):f==="down"&&V<=0?(t.value=0,o.value="bottom"):f==="up"&&u<=0&&(m?o.value!=="top"&&(t.value=-u+m+r,o.value="top"):(t.value=v.top+u,o.value="top")),n=window.scrollY}return{isStuck:o,stickyStyles:d}}const Ga=100,qa=20;function et(e){const l=1.41421356237;return(e<0?-1:1)*Math.sqrt(Math.abs(e))*l}function tt(e){if(e.length<2)return 0;if(e.length===2)return e[1].t===e[0].t?0:(e[1].d-e[0].d)/(e[1].t-e[0].t);let l=0;for(let a=e.length-1;a>0;a--){if(e[a].t===e[a-1].t)continue;const s=et(l),o=(e[a].d-e[a-1].d)/(e[a].t-e[a-1].t);l+=(o-s)*Math.abs(o),a===e.length-1&&(l*=.5)}return et(l)*1e3}function Oa(){const e={};function l(o){Array.from(o.changedTouches).forEach(t=>{(e[t.identifier]??(e[t.identifier]=new It(qa))).push([o.timeStamp,t])})}function a(o){Array.from(o.changedTouches).forEach(t=>{delete e[t.identifier]})}function s(o){var f;const t=(f=e[o])==null?void 0:f.values().reverse();if(!t)throw new Error(`No samples for touch id ${o}`);const d=t[0],n=[],c=[];for(const v of t){if(d[0]-v[0]>Ga)break;n.push({t:v[0],d:v[1].clientX}),c.push({t:v[0],d:v[1].clientY})}return{x:tt(n),y:tt(c),get direction(){const{x:v,y:r}=this,[u,V]=[Math.abs(v),Math.abs(r)];return u>V&&v>=0?"right":u>V&&v<=0?"left":V>u&&r>=0?"down":V>u&&r<=0?"up":Fa()}}}return{addMovement:l,endTouch:a,getVelocity:s}}function Fa(){throw new Error}function Qa(e){let{el:l,isActive:a,isTemporary:s,width:o,touchless:t,position:d}=e;pe(()=>{window.addEventListener("touchstart",C,{passive:!0}),window.addEventListener("touchmove",p,{passive:!1}),window.addEventListener("touchend",L,{passive:!0})}),$e(()=>{window.removeEventListener("touchstart",C),window.removeEventListener("touchmove",p),window.removeEventListener("touchend",L)});const n=R(()=>["left","right"].includes(d.value)),{addMovement:c,endTouch:f,getVelocity:v}=Oa();let r=!1;const u=Z(!1),V=Z(0),m=Z(0);let w;function I(B,x){return(d.value==="left"?B:d.value==="right"?document.documentElement.clientWidth-B:d.value==="top"?B:d.value==="bottom"?document.documentElement.clientHeight-B:de())-(x?o.value:0)}function M(B){let x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const S=d.value==="left"?(B-m.value)/o.value:d.value==="right"?(document.documentElement.clientWidth-B-m.value)/o.value:d.value==="top"?(B-m.value)/o.value:d.value==="bottom"?(document.documentElement.clientHeight-B-m.value)/o.value:de();return x?Math.max(0,Math.min(1,S)):S}function C(B){if(t.value)return;const x=B.changedTouches[0].clientX,S=B.changedTouches[0].clientY,b=25,T=d.value==="left"?x<b:d.value==="right"?x>document.documentElement.clientWidth-b:d.value==="top"?S<b:d.value==="bottom"?S>document.documentElement.clientHeight-b:de(),D=a.value&&(d.value==="left"?x<o.value:d.value==="right"?x>document.documentElement.clientWidth-o.value:d.value==="top"?S<o.value:d.value==="bottom"?S>document.documentElement.clientHeight-o.value:de());(T||D||a.value&&s.value)&&(w=[x,S],m.value=I(n.value?x:S,a.value),V.value=M(n.value?x:S),r=m.value>-20&&m.value<80,f(B),c(B))}function p(B){const x=B.changedTouches[0].clientX,S=B.changedTouches[0].clientY;if(r){if(!B.cancelable){r=!1;return}const T=Math.abs(x-w[0]),D=Math.abs(S-w[1]);(n.value?T>D&&T>3:D>T&&D>3)?(u.value=!0,r=!1):(n.value?D:T)>3&&(r=!1)}if(!u.value)return;B.preventDefault(),c(B);const b=M(n.value?x:S,!1);V.value=Math.max(0,Math.min(1,b)),b>1?m.value=I(n.value?x:S,!0):b<0&&(m.value=I(n.value?x:S,!1))}function L(B){if(r=!1,!u.value)return;c(B),u.value=!1;const x=v(B.changedTouches[0].identifier),S=Math.abs(x.x),b=Math.abs(x.y);(n.value?S>b&&S>400:b>S&&b>3)?a.value=x.direction===({left:"right",right:"left",top:"down",bottom:"up"}[d.value]||de()):a.value=V.value>.5}const E=R(()=>u.value?{transform:d.value==="left"?`translateX(calc(-100% + ${V.value*o.value}px))`:d.value==="right"?`translateX(calc(100% - ${V.value*o.value}px))`:d.value==="top"?`translateY(calc(-100% + ${V.value*o.value}px))`:d.value==="bottom"?`translateY(calc(100% - ${V.value*o.value}px))`:de(),transition:"none"}:void 0);return ye(u,()=>{var S,b;const B=((S=l.value)==null?void 0:S.style.transform)??null,x=((b=l.value)==null?void 0:b.style.transition)??null;ot(()=>{var T,D,U,F;(D=l.value)==null||D.style.setProperty("transform",((T=E.value)==null?void 0:T.transform)||"none"),(F=l.value)==null||F.style.setProperty("transition",((U=E.value)==null?void 0:U.transition)||null)}),Lt(()=>{var T,D;(T=l.value)==null||T.style.setProperty("transform",B),(D=l.value)==null||D.style.setProperty("transition",x)})}),{isDragging:u,dragProgress:V,dragStyles:E}}function de(){throw new Error}const za=["start","end","left","right","top","bottom"],Ya=Ne({color:String,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,modelValue:{type:Boolean,default:null},permanent:Boolean,rail:{type:Boolean,default:null},railWidth:{type:[Number,String],default:56},scrim:{type:[Boolean,String],default:!0},image:String,temporary:Boolean,persistent:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},location:{type:String,default:"start",validator:e=>za.includes(e)},sticky:Boolean,...At(),...nt(),...Mt(),...Ut({mobile:null}),...Pt(),...ht(),...Wt(),...lt({tag:"nav"}),...Ht()},"VNavigationDrawer"),yt=Ie()({name:"VNavigationDrawer",props:Ya(),emits:{"update:modelValue":e=>!0,"update:rail":e=>!0},setup(e,l){let{attrs:a,emit:s,slots:o}=l;const{isRtl:t}=Gt(),{themeClasses:d}=qt(e),{borderClasses:n}=Ot(e),{backgroundColorClasses:c,backgroundColorStyles:f}=Je(Te(e,"color")),{elevationClasses:v}=Ft(e),{displayClasses:r,mobile:u}=Qt(e),{roundedClasses:V}=zt(e),m=Yt(),w=at(e,"modelValue",null,j=>!!j),{ssrBootStyles:I}=Le(),{scopeId:M}=jt(),C=A(),p=Z(!1),{runOpenDelay:L,runCloseDelay:E}=ea(e,j=>{p.value=j}),B=R(()=>e.rail&&e.expandOnHover&&p.value?Number(e.width):Number(e.rail?e.railWidth:e.width)),x=R(()=>Kt(e.location,t.value)),S=R(()=>e.persistent),b=R(()=>!e.permanent&&(u.value||e.temporary)),T=R(()=>e.sticky&&!b.value&&x.value!=="bottom");ye(()=>e.expandOnHover&&e.rail!=null,()=>{ee(p,j=>s("update:rail",!j))}),ye(()=>!e.disableResizeWatcher,()=>{ee(b,j=>!e.permanent&&ta(()=>w.value=!j))}),ye(()=>!e.disableRouteWatcher&&!!m,()=>{ee(m.currentRoute,()=>b.value&&(w.value=!1))}),ee(()=>e.permanent,j=>{j&&(w.value=!0)}),e.modelValue==null&&!b.value&&(w.value=e.permanent||!u.value);const{isDragging:D,dragProgress:U}=Qa({el:C,isActive:w,isTemporary:b,width:B,touchless:Te(e,"touchless"),position:x}),F=R(()=>{const j=b.value?0:e.rail&&e.expandOnHover?Number(e.railWidth):B.value;return D.value?j*U.value:j}),Y=R(()=>["top","bottom"].includes(e.location)?0:B.value),{layoutItemStyles:re,layoutItemScrimStyles:he}=bt({id:e.name,order:R(()=>parseInt(e.order,10)),position:x,layoutSize:F,elementSize:Y,active:R(()=>w.value||D.value),disableTransitions:R(()=>D.value),absolute:R(()=>e.absolute||T.value&&typeof ie.value!="string")}),{isStuck:ie,stickyStyles:K}=Ha({rootEl:C,isSticky:T,layoutItemStyles:re}),ze=Je(R(()=>typeof e.scrim=="string"?e.scrim:null)),kt=R(()=>({...D.value?{opacity:U.value*.2,transition:"none"}:void 0,...he.value}));return Xt({VList:{bgColor:"transparent"}}),Ae(()=>{const j=o.image||e.image;return h(X,null,[h(e.tag,ae({ref:C,onMouseenter:L,onMouseleave:E,class:["v-navigation-drawer",`v-navigation-drawer--${x.value}`,{"v-navigation-drawer--expand-on-hover":e.expandOnHover,"v-navigation-drawer--floating":e.floating,"v-navigation-drawer--is-hovering":p.value,"v-navigation-drawer--rail":e.rail,"v-navigation-drawer--temporary":b.value,"v-navigation-drawer--persistent":S.value,"v-navigation-drawer--active":w.value,"v-navigation-drawer--sticky":T.value},d.value,c.value,n.value,r.value,v.value,V.value,e.class],style:[f.value,re.value,I.value,K.value,e.style,["top","bottom"].includes(x.value)?{height:"auto"}:{}]},M,a),{default:()=>{var Ye,je,Ke;return[j&&h("div",{key:"image",class:"v-navigation-drawer__img"},[o.image?h(Jt,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{alt:"",cover:!0,height:"inherit",src:e.image}}},o.image):h(Me,{key:"image-img",alt:"",cover:!0,height:"inherit",src:e.image},null)]),o.prepend&&h("div",{class:"v-navigation-drawer__prepend"},[(Ye=o.prepend)==null?void 0:Ye.call(o)]),h("div",{class:"v-navigation-drawer__content"},[(je=o.default)==null?void 0:je.call(o)]),o.append&&h("div",{class:"v-navigation-drawer__append"},[(Ke=o.append)==null?void 0:Ke.call(o)])]}}),h(Zt,{name:"fade-transition"},{default:()=>[b.value&&(D.value||w.value)&&!!e.scrim&&h("div",ae({class:["v-navigation-drawer__scrim",ze.backgroundColorClasses.value],style:[kt.value,ze.backgroundColorStyles.value],onClick:()=>{S.value||(w.value=!1)}},M),null)]})])}),{isStuck:ie}}});var se=(e=>(e.Explorer="explorer",e))(se||{});const ja="/lab/logo/evitalab-logo-mini.png?raw=true",Ka="/lab/documentation.svg",Xa="/lab/discord.svg";var W=(e=>(e.Keymap="keymap",e.EvitaLabGithub="evitaLabGithub",e.DiscussEvitaLab="discussEvitaLab",e.ReportEvitaLabIssue="reportEvitaLabIssue",e.EvitaDBDocumentation="evitaDBDocumentation",e.EvitaDBGithub="evitaDBGithub",e.DiscussEvitaDB="discussEvitaDB",e.ReportEvitaDBIssue="reportEvitaDBIssue",e))(W||{});const Ja=H({__name:"ManageMenu",setup(e){const l=Ue(),a=ge(),s=aa(),o=J(),{t}=O(),d=[{type:"subheader",title:t("panel.manage.manage.title")},{title:t(`panel.manage.manage.item.${W.Keymap}`),value:W.Keymap,command:z.System_Keymap,props:{prependIcon:"mdi-keyboard-outline"}},{type:"subheader",title:t("panel.manage.evitaLabHelp.title")},{title:t(`panel.manage.evitaLabHelp.item.${W.EvitaLabGithub}`),value:W.EvitaLabGithub,props:{prependIcon:"mdi-github"}},{title:t(`panel.manage.evitaLabHelp.item.${W.DiscussEvitaLab}`),value:W.DiscussEvitaLab,props:{prependIcon:"mdi-forum-outline"}},{title:t(`panel.manage.evitaLabHelp.item.${W.ReportEvitaLabIssue}`),value:W.ReportEvitaLabIssue,props:{prependIcon:"mdi-bug"}},{type:"subheader",title:t("panel.manage.evitaDBHelp.title")},{title:t(`panel.manage.evitaDBHelp.item.${W.EvitaDBDocumentation}`),value:W.EvitaDBDocumentation,props:{prependIcon:"mdi-book-open-variant"}},{title:t(`panel.manage.evitaDBHelp.item.${W.EvitaDBGithub}`),value:W.EvitaDBGithub,props:{prependIcon:"mdi-github"}},{title:t(`panel.manage.evitaDBHelp.item.${W.DiscussEvitaDB}`),value:W.DiscussEvitaDB,props:{prependIcon:"mdi-forum-outline"}},{title:t(`panel.manage.evitaDBHelp.item.${W.ReportEvitaDBIssue}`),value:W.ReportEvitaDBIssue,props:{prependIcon:"mdi-bug"}}];function n(){a.createTab(s.createNew())}function c(f){if(f.length>0)switch(f[0]){case W.Keymap:n();break;case W.EvitaLabGithub:window.open("https://github.com/lukashornych/evitalab","_blank");break;case W.DiscussEvitaLab:window.open("https://discord.gg/VsNBWxgmSw","_blank");break;case W.ReportEvitaLabIssue:window.open("https://github.com/lukashornych/evitalab/issues/new","_blank");break;case W.EvitaDBDocumentation:window.open("https://evitadb.io/documentation","_blank");break;case W.EvitaDBGithub:window.open("https://github.com/FgForrest/evitaDB","_blank");break;case W.DiscussEvitaDB:window.open("https://discord.gg/VsNBWxgmSw","_blank");break;case W.ReportEvitaDBIssue:window.open("https://github.com/FgForrest/evitaDB/issues/new","_blank");break;default:o.error(new it(`Unknown manage option ${f[0]}`))}}return pe(()=>{l.bindGlobal(z.System_Keymap,n)}),Pe(()=>{l.unbindGlobal(z.System_Keymap)}),(f,v)=>(g(),k(rt,null,{activator:i(({props:r})=>[h(We,ae(r,{icon:"",variant:"text",class:"manage-button"}),{default:i(()=>[_e(f.$slots,"default",{},void 0,!0),h(we,{activator:"parent"},{default:i(()=>[$(" Manage evitaLab ")]),_:1})]),_:2},1040)]),default:i(()=>[h(xe,{items:d,"onUpdate:selected":c},{title:i(({item:r})=>[h(oa,null,{default:i(()=>[$(_(r.title)+" ",1),r.command!=null?(g(),k(He,{key:0,command:r.command},{default:i(()=>[$(_(r.title),1)]),_:2},1032,["command"])):q("",!0)]),_:2},1024)]),_:1})]),_:3}))}});const Za=fe(Ja,[["__scopeId","data-v-d2e32f29"]]),eo={class:"lab-nav-links"},to={href:"https://evitadb.io/documentation",target:"_blank"},ao=["alt"],oo={href:"https://discord.gg/VsNBWxgmSw",target:"_blank"},no=["alt"],lo=H({__name:"WorkspacePanel",props:{panel:{}},emits:["update:panel"],setup(e,{emit:l}){const a=e,s=Ue(),{t:o}=O(),t=d();function d(){const c=[];return c.push(new ue(se.Explorer,o(`panel.item.${se.Explorer}`),"mdi-connection",()=>{},z.System_Panels_ConnectionsExplorer)),c}function n(c){c.value?l("update:panel",c.id):l("update:panel",null)}return pe(()=>{s.bindGlobal(z.System_Panels_ConnectionsExplorer,()=>{a.panel===se.Explorer?l("update:panel",null):l("update:panel",se.Explorer)})}),Pe(()=>{s.unbindGlobal(z.System_Panels_ConnectionsExplorer)}),(c,f)=>(g(),k(yt,{permanent:"",rail:"",class:"bg-primary-dark"},{prepend:i(()=>[h(Za,null,{default:i(()=>[h(na,{size:"30px"},{default:i(()=>[h(Me,{alt:"evitaLab Logo",width:"30px",height:"30px",src:ja})]),_:1})]),_:1})]),append:i(()=>[N("ul",eo,[N("li",null,[N("a",to,[N("img",{src:Ka,alt:y(o)("panel.link.evitaDBDocumentation.icon.alt")},null,8,ao),h(we,{activator:"parent"},{default:i(()=>[$(_(y(o)("panel.link.evitaDBDocumentation.tooltip")),1)]),_:1})])]),N("li",null,[N("a",oo,[N("img",{src:Xa,alt:y(o)("panel.link.discord.icon.alt")},null,8,no),h(we,{activator:"parent"},{default:i(()=>[$(_(y(o)("panel.link.discord.tooltip")),1)]),_:1})])])])]),default:i(()=>[h(xe,{density:"compact",nav:"",selected:[c.panel],"onClick:select":n,class:"navigation-items"},{default:i(()=>[(g(!0),P(X,null,ne(y(t),v=>(g(),k(ke,{key:v.value,value:v.value},{default:i(()=>[h(me,null,{default:i(()=>[$(_(v.prependIcon),1)]),_:2},1024),h(He,{command:v.command},{default:i(()=>[$(_(v.title),1)]),_:2},1032,["command"])]),_:2},1032,["value"]))),128))]),_:1},8,["selected"])]),_:1}))}});const ro=fe(lo,[["__scopeId","data-v-d2d1dd7a"]]);var Q=(e=>(e.Refresh="refresh",e.OpenGraphQLSystemAPIConsole="openGraphQLSystemApiConsole",e.Edit="edit",e.Remove="remove",e.Server="server",e.Tasks="tasks",e.JfrRecordings="jfrRecordings",e.ModifySubheader="modifySubheader",e.CatalogsSubheader="catalogsSubheader",e.CreateCatalog="createCatalog",e.CatalogBackups="catalogBackups",e))(Q||{});const _t=Symbol("connection");function io(e){Ge(_t,e)}function wt(){return qe(_t)}const St=Symbol("serverStatus");function so(e){Ge(St,e)}function Vt(){return qe(St)}const Ct=Symbol("catalog");function co(e){Ge(Ct,e)}function uo(){return qe(Ct)}const mo=e=>(ct("data-v-2967730b"),e=e(),ut(),e),vo={class:"tree-view-item__content"},po=mo(()=>N("span",{class:"text-disabled"}," No items found ",-1)),go={key:0,class:"tree-view-item__flags"},fo={key:0,class:"tree-view-item__flags"},ho=H({__name:"VTreeViewItem",props:{openable:{type:Boolean,default:!1},isOpen:{type:Boolean,default:!1},prependIcon:{},loading:{type:Boolean,default:!1},flags:{default:()=>[]},actions:{default:()=>[]}},emits:["click:action"],setup(e,{emit:l}){const a=e,s=A(!1);function o(){a.actions&&a.actions.length>0&&(s.value=!0)}return(t,d)=>(g(),k(ke,{"prepend-icon":null,"append-icon":null,onContextmenu:Re(o,["prevent"])},{default:i(()=>[N("div",vo,[t.openable?(g(),k(me,{key:0},{default:i(()=>[$(_(t.isOpen?"mdi-chevron-up":"mdi-chevron-down"),1)]),_:1})):(g(),k(me,{key:1})),t.loading?(g(),k(st,{key:2})):(g(),k(me,{key:3},{default:i(()=>[$(_(t.prependIcon),1)]),_:1})),h(we,null,{activator:i(({props:n})=>[N("span",ae(n,{class:"tree-view-item__text text-truncate"}),[_e(t.$slots,"default",{},()=>[po],!0),t.flags.length>0?(g(),P("span",go,[(g(!0),P(X,null,ne(t.flags,c=>(g(),P("span",{key:c.value,class:Ze(["tree-view-item__flag",`tree-view-item__flag--${c.type}`])},_(c.value),3))),128))])):q("",!0)],16)]),default:i(()=>[_e(t.$slots,"default",{},void 0,!0),t.flags.length>0?(g(),P("span",fo,[(g(!0),P(X,null,ne(t.flags,n=>(g(),P("span",{key:n.value,class:Ze(["tree-view-item__flag","tree-view-item__lg-flag",`tree-view-item__flag--${n.type}`])},_(n.value),3))),128))])):q("",!0)]),_:3}),t.actions&&t.actions.length>0?(g(),k(rt,{key:4,"menu-items":t.actions,modelValue:s.value,"onUpdate:modelValue":d[1]||(d[1]=n=>s.value=n)},{activator:i(({props:n})=>[h(me,ae(n,{class:"text-gray-light"}),{default:i(()=>[$(" mdi-dots-vertical ")]),_:2},1040)]),default:i(()=>[h(xe,{density:"compact",items:t.actions,"onClick:select":d[0]||(d[0]=n=>t.$emit("click:action",n.id))},{item:i(({props:n})=>[h(ke,{"prepend-icon":n.prependIcon,value:n.value,disabled:n.disabled},{default:i(()=>[$(_(n.title),1)]),_:2},1032,["prepend-icon","value","disabled"])]),_:1},8,["items"])]),_:1},8,["menu-items","modelValue"])):q("",!0)])]),_:3},8,["onContextmenu"]))}});const Qe=fe(ho,[["__scopeId","data-v-2967730b"]]);var G=(e=>(e.OpenEvitaQLConsole="openEvitaQLConsole",e.OpenGraphQLDataAPIConsole="openGraphQLDataApiConsole",e.OpenGraphQLSchemaAPIConsole="openGraphQLSchemaApiConsole",e.ViewSchema="viewSchema",e.DropCatalog="dropCatalog",e.RenameCatalog="renameCatalog",e.ReplaceCatalog="replaceCatalog",e.SwitchCatalogToAliveState="switchCatalogToAliveState",e.ModifySubheader="modifySubheader",e.CollectionsSubheader="collectionsSubheader",e.JobsSubheader="jobsSubheader",e.CreateCollection="createCollection",e.Jobs="jobs",e))(G||{});const bo={class:"pl-8 text-disabled"},Tt=H({__name:"VTreeViewEmptyItem",setup(e){const{t:l}=O();return(a,s)=>(g(),k(ke,null,{default:i(()=>[N("span",bo,_(y(l)("common.list.empty")),1)]),_:1}))}});var te=(e=>(e.ViewEntities="viewEntities",e.ViewSchema="viewSchema",e.ModifySubheader="modifySubheader",e.DropCollection="dropCollection",e.RenameCollection="renameCollection",e))(te||{});class Se{constructor(l){be(this,"title");be(this,"type","subheader");this.title=l}}const yo=H({__name:"DropCollectionDialog",props:{modelValue:{type:Boolean},connection:{},catalogName:{},entityType:{}},emits:["update:modelValue","drop"],setup(e,{emit:l}){const a=e,s=Oe(),o=J(),{t}=O();async function d(){try{return await s.dropCollection(a.connection,a.catalogName,a.entityType)?(o.success(t("explorer.collection.drop.notification.collectionDropped",{entityType:a.entityType})),l("drop")):o.info(t("explorer.collection.drop.notification.collectionNotDropped",{entityType:a.entityType})),!0}catch(n){return o.error(t("explorer.collection.drop.notification.couldNotDropCollection",{entityType:a.entityType,reason:n.message})),!1}}return(n,c)=>{const f=le("I18nT");return g(),k(oe,{"model-value":n.modelValue,dangerous:"",changed:"","confirm-button-icon":"mdi-delete-outline",confirm:d,"onUpdate:modelValue":c[0]||(c[0]=v=>l("update:modelValue",v))},{title:i(()=>[h(f,{keypath:"explorer.collection.drop.title"},{entityType:i(()=>[N("strong",null,_(n.entityType),1)]),_:1})]),"prepend-form":i(()=>[$(_(y(t)("explorer.collection.drop.question")),1)]),"confirm-button-body":i(()=>[$(_(y(t)("common.button.drop")),1)]),_:1},8,["model-value"])}}}),_o=H({__name:"RenameCollectionDialog",props:{modelValue:{type:Boolean},connection:{},catalogName:{},entityType:{}},emits:["update:modelValue","rename"],setup(e,{emit:l}){const a=e,s=Oe(),o=J(),{t}=O(),d=[r=>r!=null&&r.trim().length>0?!0:t("explorer.collection.rename.form.newName.validations.required"),async r=>{const u=await s.isEntityTypeValid(a.connection,r);return u==null?!0:t(`explorer.collection.rename.form.newName.validations.${u}`)},async r=>r===a.entityType||await s.isEntityTypeAvailable(a.connection,a.catalogName,r)?!0:t("explorer.collection.rename.form.newName.validations.notAvailable")],n=A(a.entityType),c=R(()=>n.value!==a.entityType);function f(){n.value=a.entityType}async function v(){try{return await s.renameCollection(a.connection,a.catalogName,a.entityType,n.value)?(o.success(t("explorer.collection.rename.notification.collectionRenamed",{entityType:a.entityType,newName:n.value})),l("rename")):o.info(t("explorer.collection.rename.notification.collectionNotRenamed",{entityType:a.entityType})),!0}catch(r){return o.error(t("explorer.collection.rename.notification.couldNotRenameCollection",{entityType:a.entityType,reason:r.message})),!1}}return(r,u)=>{const V=le("I18nT");return g(),k(oe,{"model-value":r.modelValue,changed:c.value,dangerous:"","confirm-button-icon":"mdi-pencil-outline",confirm:v,reset:f,"onUpdate:modelValue":u[1]||(u[1]=m=>l("update:modelValue",m))},{title:i(()=>[h(V,{keypath:"explorer.collection.rename.title"},{entityType:i(()=>[N("strong",null,_(r.entityType),1)]),_:1})]),default:i(()=>[h(ve,{modelValue:n.value,"onUpdate:modelValue":u[0]||(u[0]=m=>n.value=m),label:y(t)("explorer.collection.rename.form.newName.label"),rules:d,required:""},null,8,["modelValue","label"])]),"confirm-button-body":i(()=>[$(_(y(t)("common.button.rename")),1)]),_:1},8,["model-value","changed"])}}}),wo=H({__name:"CollectionItem",props:{entityCollection:{}},emits:["change"],setup(e,{emit:l}){const a=e,s=ge(),o=la(),t=dt(),{t:d}=O(),n=Vt(),c=A(!1),f=A(!1),v=wt(),r=uo(),u=R(()=>I()),V=R(()=>Array.from(u.value.values()));if(r.value==null)throw new it("Catalog schema is not loaded yet, but collection item is already rendered!");function m(){s.createTab(o.createNew(v,r.value.name,a.entityCollection.entityType,void 0,!0))}function w(C){const p=u.value.get(C);p instanceof ue&&p.execute()}function I(){const C=n.value!=null&&!n.value.readOnly,p=new Map;return p.set(te.ViewEntities,M(te.ViewEntities,"mdi-table",m)),p.set(te.ViewSchema,M(te.ViewSchema,"mdi-file-code-outline",()=>s.createTab(t.createNew(v,new ra(r.value.name,a.entityCollection.entityType))))),p.set(te.ModifySubheader,new Se(d("explorer.collection.subheader.modify"))),p.set(te.RenameCollection,M(te.RenameCollection,"mdi-pencil-outline",()=>f.value=!0,C)),p.set(te.DropCollection,M(te.DropCollection,"mdi-delete-outline",()=>c.value=!0,C)),p}function M(C,p,L,E=!0){return new ue(C,d(`explorer.collection.actions.${C}`),p,L,void 0,!E)}return(C,p)=>(g(),P("div",null,[h(Qe,{"prepend-icon":"mdi-list-box-outline",actions:V.value,onClick:m,"onClick:action":w,class:"text-gray-light"},{default:i(()=>[$(_(C.entityCollection.entityType),1)]),_:1},8,["actions"]),f.value?(g(),k(_o,{key:0,modelValue:f.value,"onUpdate:modelValue":p[0]||(p[0]=L=>f.value=L),connection:y(v),"catalog-name":y(r).name,"entity-type":C.entityCollection.entityType,onRename:p[1]||(p[1]=L=>l("change"))},null,8,["modelValue","connection","catalog-name","entity-type"])):q("",!0),c.value?(g(),k(yo,{key:1,modelValue:c.value,"onUpdate:modelValue":p[2]||(p[2]=L=>c.value=L),connection:y(v),"catalog-name":y(r).name,"entity-type":C.entityCollection.entityType,onDrop:p[3]||(p[3]=L=>l("change"))},null,8,["modelValue","connection","catalog-name","entity-type"])):q("",!0)]))}}),So=H({__name:"RenameCatalogDialog",props:{modelValue:{type:Boolean},connection:{},catalogName:{}},emits:["update:modelValue","rename"],setup(e,{emit:l}){const a=e,s=Ve(),o=J(),{t}=O(),d=[r=>r!=null&&r.trim().length>0?!0:t("explorer.catalog.rename.form.newName.validations.required"),async r=>{const u=await s.isCatalogNameValid(a.connection,r);return u==null?!0:t(`explorer.catalog.rename.form.newName.validations.${u}`)},async r=>r===a.catalogName||await s.isCatalogNameAvailable(a.connection,r)?!0:t("explorer.catalog.rename.form.newName.validations.notAvailable")],n=A(a.catalogName),c=R(()=>a.catalogName!==n.value);function f(){n.value=a.catalogName}async function v(){try{return await s.renameCatalog(a.connection,a.catalogName,n.value)?(o.success(t("explorer.catalog.rename.notification.catalogRenamed",{catalogName:a.catalogName,newName:n.value})),l("rename")):o.info(t("explorer.catalog.rename.notification.catalogNotRenamed",{catalogName:a.catalogName})),!0}catch(r){return o.error(t("explorer.catalog.rename.notification.couldNotRenameCatalog",{catalogName:a.catalogName,reason:r.message})),!1}}return(r,u)=>{const V=le("I18nT");return g(),k(oe,{"model-value":r.modelValue,changed:c.value,dangerous:"","confirm-button-icon":"mdi-pencil-outline",confirm:v,reset:f,"onUpdate:modelValue":u[1]||(u[1]=m=>l("update:modelValue",m))},{title:i(()=>[h(V,{keypath:"explorer.catalog.rename.title"},{catalogName:i(()=>[N("strong",null,_(r.catalogName),1)]),_:1})]),default:i(()=>[h(ve,{modelValue:n.value,"onUpdate:modelValue":u[0]||(u[0]=m=>n.value=m),label:y(t)("explorer.catalog.rename.form.newName.label"),rules:d,required:""},null,8,["modelValue","label"])]),"confirm-button-body":i(()=>[$(_(y(t)("common.button.rename")),1)]),_:1},8,["model-value","changed"])}}}),Vo=H({__name:"DropCatalogDialog",props:{modelValue:{type:Boolean},connection:{},catalogName:{}},emits:["update:modelValue","drop"],setup(e,{emit:l}){const a=e,s=Ve(),o=J(),{t}=O();async function d(){try{return await s.dropCatalog(a.connection,a.catalogName)?(o.success(t("explorer.catalog.drop.notification.catalogDropped",{catalogName:a.catalogName})),l("drop")):o.info(t("explorer.catalog.drop.notification.catalogNotDropped",{catalogName:a.catalogName})),!0}catch(n){return o.error(t("explorer.catalog.drop.notification.couldNotDropCatalog",{catalogName:a.catalogName,reason:n.message})),!1}}return(n,c)=>{const f=le("I18nT");return g(),k(oe,{"model-value":n.modelValue,dangerous:"",changed:"","confirm-button-icon":"mdi-delete-outline",confirm:d,"onUpdate:modelValue":c[0]||(c[0]=v=>l("update:modelValue",v))},{title:i(()=>[h(f,{keypath:"explorer.catalog.drop.title"},{catalogName:i(()=>[N("strong",null,_(n.catalogName),1)]),_:1})]),"prepend-form":i(()=>[$(_(y(t)("explorer.catalog.drop.question")),1)]),"confirm-button-body":i(()=>[$(_(y(t)("common.button.drop")),1)]),_:1},8,["model-value"])}}}),Co=H({__name:"ReplaceCatalogDialog",props:{modelValue:{type:Boolean},connection:{},catalogName:{}},emits:["update:modelValue","replace"],setup(e,{emit:l}){const a=e,s=Ve(),o=J(),{t}=O(),d=[m=>m!=null&&m.trim().length>0?!0:t("explorer.catalog.replace.form.catalogNameToBeReplacedWith.validations.required"),async m=>m===a.catalogName||await s.isCatalogExists(a.connection,m)?!0:t("explorer.catalog.replace.form.catalogNameToBeReplacedWith.validations.notExists")],n=A(),c=R(()=>n.value==null?[]:n.value.map(m=>m.name)),f=A(!1),v=A(),r=R(()=>v.value!=null&&v.value.length>0);s.getCatalogs(a.connection).then(m=>{n.value=m.filter(w=>w.name!==a.catalogName),f.value=!0});function u(){n.value=[],f.value=!1,v.value=""}async function V(){try{return await s.replaceCatalog(a.connection,v.value,a.catalogName)?(o.success(t("explorer.catalog.replace.notification.catalogReplaced",{catalogNameToBeReplaced:a.catalogName,catalogNameToBeReplacedWith:v.value})),l("replace")):o.info(t("explorer.catalog.replace.notification.catalogNotReplaced",{catalogNameToBeReplaced:a.catalogName})),!0}catch(m){return o.error(t("explorer.catalog.replace.notification.couldNotReplaceCatalog",{catalogNameToBeReplaced:a.catalogName,reason:m.message})),!1}}return(m,w)=>{const I=le("I18nT");return g(),k(oe,{"model-value":m.modelValue,dangerous:"",changed:r.value,"confirm-button-icon":"mdi-file-replace-outline",confirm:V,reset:u,"onUpdate:modelValue":w[1]||(w[1]=M=>l("update:modelValue",M))},{title:i(()=>[h(I,{keypath:"explorer.catalog.replace.title"},{catalogNameToBeReplaced:i(()=>[N("strong",null,_(m.catalogName),1)]),_:1})]),default:i(()=>[h(ia,{modelValue:v.value,"onUpdate:modelValue":w[0]||(w[0]=M=>v.value=M),label:y(t)("explorer.catalog.replace.form.catalogNameToBeReplacedWith.label"),items:c.value,rules:d},null,8,["modelValue","label","items"])]),"append-form":i(()=>[h(Fe,{icon:"mdi-information-outline",type:"info"},{default:i(()=>[h(I,{keypath:"explorer.catalog.replace.info"},sa({catalogNameToBeReplaced:i(()=>[N("strong",null,_(m.catalogName),1)]),_:2},[r.value?{name:"catalogNameToBeReplacedWith",fn:i(()=>[N("strong",null,_(v.value),1)]),key:"0"}:{name:"catalogNameToBeReplacedWith",fn:i(()=>[N("strong",null,"?")]),key:"1"}]),1024)]),_:1})]),"confirm-button-body":i(()=>[$(_(y(t)("common.button.replace")),1)]),_:1},8,["model-value","changed"])}}}),To=H({__name:"CreateCollectionDialog",props:{modelValue:{type:Boolean},connection:{},catalogName:{}},emits:["update:modelValue","create"],setup(e,{emit:l}){const a=e,s=Oe(),o=J(),{t}=O(),d=[r=>r!=null&&r.trim().length>0?!0:t("explorer.collection.create.form.entityType.validations.required"),async r=>{const u=await s.isEntityTypeValid(a.connection,r);return u==null?!0:t(`explorer.collection.create.form.entityType.validations.${u}`)},async r=>await s.isEntityTypeAvailable(a.connection,a.catalogName,r)?!0:t("explorer.collection.create.form.entityType.validations.notAvailable")],n=A(""),c=R(()=>n.value.length>0);function f(){n.value=""}async function v(){try{return await s.createCollection(a.connection,a.catalogName,n.value),o.success(t("explorer.collection.create.notification.collectionCreated",{entityType:n.value})),l("create"),!0}catch(r){return o.error(t("explorer.collection.create.notification.couldNotCreateCollection",{entityType:n.value,reason:r.message})),!1}}return(r,u)=>{const V=le("I18nT");return g(),k(oe,{"model-value":r.modelValue,changed:c.value,"confirm-button-icon":"mdi-plus",confirm:v,reset:f,"onUpdate:modelValue":u[1]||(u[1]=m=>l("update:modelValue",m))},{title:i(()=>[h(V,{keypath:"explorer.collection.create.title"},{catalogName:i(()=>[N("strong",null,_(r.catalogName),1)]),_:1})]),default:i(()=>[h(ve,{modelValue:n.value,"onUpdate:modelValue":u[0]||(u[0]=m=>n.value=m),label:y(t)("explorer.collection.create.form.entityType.label"),rules:d,required:""},null,8,["modelValue","label"])]),"confirm-button-body":i(()=>[$(_(y(t)("common.button.create")),1)]),_:1},8,["model-value","changed"])}}}),ko=H({__name:"SwitchCatalogToAliveStateDialog",props:{modelValue:{type:Boolean},connection:{},catalogName:{}},emits:["update:modelValue","switch"],setup(e,{emit:l}){const a=e,s=Ve(),o=J(),{t}=O();async function d(){try{return await s.switchCatalogToAliveState(a.connection,a.catalogName)?(o.success(t("explorer.catalog.switchToAliveState.notification.catalogSwitched",{catalogName:a.catalogName})),l("switch")):o.info(t("explorer.catalog.switchToAliveState.notification.catalogNotSwitched",{catalogName:a.catalogName})),!0}catch(n){return o.error(t("explorer.catalog.switchToAliveState.notification.couldNotSwitchCatalog",{catalogName:a.catalogName,reason:n.message})),!1}}return(n,c)=>{const f=le("I18nT");return g(),k(oe,{"model-value":n.modelValue,dangerous:"",changed:"","confirm-button-icon":"mdi-toggle-switch-outline",confirm:d,"onUpdate:modelValue":c[0]||(c[0]=v=>l("update:modelValue",v))},{title:i(()=>[h(f,{keypath:"explorer.catalog.switchToAliveState.title"},{catalogName:i(()=>[N("strong",null,_(n.catalogName),1)]),_:1})]),"prepend-form":i(()=>[$(_(y(t)("explorer.catalog.switchToAliveState.description")),1)]),"append-form":i(()=>[h(Fe,{icon:"mdi-alert-outline",type:"warning"},{default:i(()=>[$(_(y(t)("explorer.catalog.switchToAliveState.warning")),1)]),_:1})]),"confirm-button-body":i(()=>[$(_(y(t)("common.button.switch")),1)]),_:1},8,["model-value"])}}});var Ce=(e=>(e.Info="info",e.Warning="warning",e.Error="error",e))(Ce||{});class ce{constructor(l,a){be(this,"value");be(this,"type");this.value=l,this.type=a}static info(l){return new ce(l,Ce.Info)}static warning(l){return new ce(l,Ce.Warning)}static error(l){return new ce(l,Ce.Error)}}const No={key:0},xo=H({__name:"CatalogItem",props:{catalog:{}},emits:["change"],setup(e,{emit:l}){const a=e,s=ge(),o=ca(),t=mt(),d=dt(),{t:n}=O(),c=Vt(),f=A(!1),v=A(!1),r=A(!1),u=A(!1),V=A(!1),m=wt(),w=R(()=>{const S=[];return a.catalog.corrupted&&S.push(ce.error(n("explorer.catalog.flag.corrupted"))),a.catalog.isInWarmup&&S.push(ce.warning(n("explorer.catalog.flag.warmingUp"))),S}),I=R(()=>B()),M=R(()=>Array.from(I.value.values())),C=R(()=>a.catalog.entityCollections.sort((S,b)=>S.entityType.localeCompare(b.entityType))),p=A(a.catalog);co(p);const L=A(!1);function E(S){var T;const b=(T=I.value)==null?void 0:T.get(S);b&&b instanceof ue&&b.execute()}function B(){const S=c.value!=null&&c.value.apiEnabled(Ee.GraphQL),b=!a.catalog.corrupted,T=c.value!=null&&!c.value.readOnly,D=new Map;return D.set(G.OpenEvitaQLConsole,x(G.OpenEvitaQLConsole,"mdi-variable",()=>{s.createTab(o.createNew(m,a.catalog.name))},b)),D.set(G.OpenGraphQLDataAPIConsole,x(G.OpenGraphQLDataAPIConsole,"mdi-graphql",()=>{s.createTab(t.createNew(m,a.catalog.name,Be.Data))},b&&S)),D.set(G.OpenGraphQLSchemaAPIConsole,x(G.OpenGraphQLSchemaAPIConsole,"mdi-graphql",()=>{s.createTab(t.createNew(m,a.catalog.name,Be.Schema))},b&&S)),D.set(G.ViewSchema,x(G.ViewSchema,"mdi-file-code-outline",()=>{s.createTab(d.createNew(m,new ua(a.catalog.name)))},b)),D.set(G.ModifySubheader,new Se(n("explorer.catalog.subheader.modify"))),D.set(G.RenameCatalog,x(G.RenameCatalog,"mdi-pencil-outline",()=>f.value=!0,b&&T)),D.set(G.ReplaceCatalog,x(G.ReplaceCatalog,"mdi-file-replace-outline",()=>v.value=!0,b&&T)),a.catalog.isInWarmup&&D.set(G.SwitchCatalogToAliveState,x(G.SwitchCatalogToAliveState,"mdi-toggle-switch-outline",()=>r.value=!0,b&&T)),D.set(G.DropCatalog,x(G.DropCatalog,"mdi-delete-outline",()=>u.value=!0,T)),D.set(G.CollectionsSubheader,new Se(n("explorer.catalog.subheader.collections"))),D.set(G.CreateCollection,x(G.CreateCollection,"mdi-plus",()=>V.value=!0,b&&T)),new Map(D)}function x(S,b,T,D=!0){return new ue(S,n(`explorer.catalog.actions.${S}`),b,T,void 0,!D)}return(S,b)=>(g(),k(vt,{value:`${y(m).name}|${S.catalog.name}`},{activator:i(({isOpen:T,props:D})=>[h(Qe,ae(D,{openable:!S.catalog.corrupted,"is-open":T,"prepend-icon":"mdi-menu",loading:L.value,flags:w.value,actions:M.value,"onClick:action":E,class:"text-gray-light"}),{default:i(()=>[$(_(S.catalog.name),1)]),_:2},1040,["openable","is-open","loading","flags","actions"])]),default:i(()=>[S.catalog.corrupted?q("",!0):(g(),P("div",No,[S.catalog.entityCollections.size>0?(g(!0),P(X,{key:0},ne(C.value,T=>(g(),k(wo,{key:T.entityType,"entity-collection":T,onChange:b[0]||(b[0]=D=>l("change"))},null,8,["entity-collection"]))),128)):(g(),k(Tt,{key:1}))])),f.value?(g(),k(So,{key:1,modelValue:f.value,"onUpdate:modelValue":b[1]||(b[1]=T=>f.value=T),connection:y(m),"catalog-name":S.catalog.name,onRename:b[2]||(b[2]=T=>l("change"))},null,8,["modelValue","connection","catalog-name"])):q("",!0),v.value?(g(),k(Co,{key:2,modelValue:v.value,"onUpdate:modelValue":b[3]||(b[3]=T=>v.value=T),connection:y(m),"catalog-name":S.catalog.name,onReplace:b[4]||(b[4]=T=>l("change"))},null,8,["modelValue","connection","catalog-name"])):q("",!0),r.value?(g(),k(ko,{key:3,modelValue:r.value,"onUpdate:modelValue":b[5]||(b[5]=T=>r.value=T),connection:y(m),"catalog-name":S.catalog.name,onSwitch:b[6]||(b[6]=T=>l("change"))},null,8,["modelValue","connection","catalog-name"])):q("",!0),u.value?(g(),k(Vo,{key:4,modelValue:u.value,"onUpdate:modelValue":b[7]||(b[7]=T=>u.value=T),connection:y(m),"catalog-name":S.catalog.name,onDrop:b[8]||(b[8]=T=>l("change"))},null,8,["modelValue","connection","catalog-name"])):q("",!0),V.value?(g(),k(To,{key:5,modelValue:V.value,"onUpdate:modelValue":b[9]||(b[9]=T=>V.value=T),connection:y(m),"catalog-name":S.catalog.name,onCreate:b[10]||(b[10]=T=>l("change"))},null,8,["modelValue","connection","catalog-name"])):q("",!0)]),_:1},8,["value"]))}}),Do=H({__name:"RemoveConnectionDialog",props:{modelValue:{type:Boolean},connection:{}},emits:["update:modelValue"],setup(e,{emit:l}){const a=e,s=De(),o=J(),{t}=O();async function d(){try{return s.removeConnection(a.connection.id),o.success(t("explorer.connection.remove.notification.connectionRemoved",{connectionName:a.connection.name})),!0}catch(n){return o.error(t("explorer.connection.remove.notification.couldNotRemoveConnection",{connectionName:a.connection.name,reason:n.message})),!1}}return(n,c)=>{const f=le("I18nT");return g(),k(oe,{"model-value":n.modelValue,dangerous:"",changed:"","confirm-button-icon":"mdi-delete-outline",confirm:d,"onUpdate:modelValue":c[0]||(c[0]=v=>l("update:modelValue",v))},{activator:i(({props:v})=>[_e(n.$slots,"activator",pt(gt(v)))]),title:i(()=>[h(f,{keypath:"explorer.connection.remove.title"},{connectionName:i(()=>[N("strong",null,_(n.connection.name),1)]),_:1})]),"prepend-form":i(()=>[$(_(y(t)("explorer.connection.remove.question")),1)]),"confirm-button-body":i(()=>[$(_(y(t)("common.button.remove")),1)]),_:3},8,["model-value"])}}}),Ro=H({__name:"CreateCatalogDialog",props:{modelValue:{type:Boolean},connection:{}},emits:["update:modelValue","create"],setup(e,{emit:l}){const a=e,s=Ve(),o=J(),{t}=O(),d=[r=>r!=null&&r.trim().length>0?!0:t("explorer.catalog.create.form.catalogName.validations.required"),async r=>{const u=await s.isCatalogNameValid(a.connection,r);return u==null?!0:t(`explorer.catalog.create.form.catalogName.validations.${u}`)},async r=>await s.isCatalogNameAvailable(a.connection,r)?!0:t("explorer.catalog.create.form.catalogName.validations.notAvailable")],n=A(""),c=R(()=>n.value.length>0);function f(){n.value=""}async function v(){try{return await s.createCatalog(a.connection,n.value),o.success(t("explorer.catalog.create.notification.catalogCreated",{catalogName:n.value})),l("create"),!0}catch(r){return o.error(t("explorer.catalog.create.notification.couldNotCreateCatalog",{catalogName:n.value,reason:r.message})),!1}}return(r,u)=>(g(),k(oe,{"model-value":r.modelValue,changed:c.value,"confirm-button-icon":"mdi-plus",confirm:v,reset:f,"onUpdate:modelValue":u[1]||(u[1]=V=>l("update:modelValue",V))},{title:i(()=>[$(_(y(t)("explorer.catalog.create.title")),1)]),default:i(()=>[h(ve,{modelValue:n.value,"onUpdate:modelValue":u[0]||(u[0]=V=>n.value=V),label:y(t)("explorer.catalog.create.form.catalogName.label"),rules:d,required:""},null,8,["modelValue","label"])]),"confirm-button-body":i(()=>[$(_(y(t)("common.button.create")),1)]),_:1},8,["model-value","changed"]))}}),Eo={key:0},Bo=H({__name:"ConnectionItem",props:{connection:{}},setup(e){const l=e,a=ft(),s=ge(),o=De(),t=mt(),d=da(),n=ma(),c=va(),f=pa(),v=J(),{t:r}=O();io(l.connection);const u=A();so(u);const V=R(()=>{const U=[];return l.connection.preconfigured&&U.push(ce.info(r("explorer.connection.flag.preconfigured"))),U}),m=A();ee([()=>l.connection,u],async()=>m.value=await T(),{immediate:!0});const w=R(()=>m.value==null?[]:Array.from(m.value.values())),I=A(),M=A(!1),C=A(!1),p=A(!1);let L=!1;async function E(){L||(M.value=!0,L=await x().then(U=>U?S():!1),M.value=!1)}async function B(){M.value=!0,await x().then(U=>U?S():!1),M.value=!1}async function x(){try{return u.value=await o.getServerStatus(l.connection),!0}catch(U){return v.error(r("explorer.connection.notification.couldNotLoadServerStatus",{connectionName:l.connection.name,reason:U.message})),!1}}async function S(){try{return I.value=(await o.getCatalogs(l.connection,!0)).sort((U,F)=>U.name.localeCompare(F.name)),!0}catch(U){return v.error(r("explorer.connection.notification.couldNotLoadCatalogs",{connectionName:l.connection.name,reason:U.message})),!1}}function b(U){if(m.value==null)return;const F=m.value.get(U);F instanceof ue&&F.execute()}async function T(){const U=u.value!=null&&u.value.apiEnabled(Ee.GraphQL),F=u.value!=null&&u.value.apiEnabled(Ee.Observability),Y=!l.connection.preconfigured,re=!a.readOnly,he=u.value!=null,ie=he&&!u.value.readOnly,K=new Map;return K.set(Q.Refresh,D(Q.Refresh,"mdi-refresh",async()=>await B())),K.set(Q.OpenGraphQLSystemAPIConsole,D(Q.OpenGraphQLSystemAPIConsole,"mdi-graphql",()=>s.createTab(t.createNew(l.connection,"system",Be.System)),U)),K.set(Q.Server,D(Q.Server,"mdi-database-outline",()=>s.createTab(d.createNew(l.connection)),he)),K.set(Q.Tasks,D(Q.Tasks,"mdi-chart-gantt",()=>{s.createTab(n.createNew(l.connection))},ie)),K.set(Q.JfrRecordings,D(Q.JfrRecordings,"mdi-chart-timeline",()=>{s.createTab(c.createNew(l.connection))},ie&&F)),K.set(Q.ModifySubheader,new Se(r("explorer.connection.subheader.modify"))),K.set(Q.Remove,D(Q.Remove,"mdi-delete-outline",()=>C.value=!0,Y&&re)),K.set(Q.CatalogsSubheader,new Se(r("explorer.connection.subheader.catalogs"))),K.set(Q.CreateCatalog,D(Q.CreateCatalog,"mdi-plus",()=>p.value=!0,ie)),K.set(Q.CatalogBackups,D(Q.CatalogBackups,"mdi-cloud-download-outline",()=>{s.createTab(f.createNew(l.connection))},ie)),K}function D(U,F,Y,re=!0){return new ue(U,r(`explorer.connection.actions.${U}`),F,Y,void 0,!re)}return(U,F)=>(g(),P("div",null,[h(vt,{value:U.connection.name},{activator:i(({isOpen:Y,props:re})=>[h(Qe,ae(re,{openable:"","is-open":Y,"prepend-icon":"mdi-power-plug-outline",loading:M.value,flags:V.value,actions:w.value,onClick:F[0]||(F[0]=he=>E()),"onClick:action":b}),{default:i(()=>[$(_(U.connection.name),1)]),_:2},1040,["is-open","loading","flags","actions"])]),default:i(()=>[I.value!==void 0?(g(),P("div",Eo,[I.value.size>0?(g(!0),P(X,{key:0},ne(I.value,Y=>(g(),k(xo,{key:Y.name,catalog:Y,onChange:S},null,8,["catalog"]))),128)):(g(),k(Tt,{key:1}))])):q("",!0),C.value?(g(),k(Do,{key:1,modelValue:C.value,"onUpdate:modelValue":F[1]||(F[1]=Y=>C.value=Y),connection:U.connection},null,8,["modelValue","connection"])):q("",!0),p.value?(g(),k(Ro,{key:2,modelValue:p.value,"onUpdate:modelValue":F[2]||(F[2]=Y=>p.value=Y),connection:U.connection,onCreate:S},null,8,["modelValue","connection"])):q("",!0)]),_:1},8,["value"])]))}}),$o=H({__name:"ConnectToServerDialog",props:{modelValue:{type:Boolean},connection:{default:void 0}},emits:["update:modelValue"],setup(e,{emit:l}){const a=De(),s=J(),{t:o}=O(),t=[w=>w?!0:o("explorer.connection.connect.form.connectionName.validations.required"),w=>a.isConnectionExists(w)?o("explorer.connection.connect.form.connectionName.validations.duplicate"):!0],d=[w=>w?!0:o("explorer.connection.connect.form.serverUrl.validations.required"),w=>{try{return new URL(w),!0}catch{return o("explorer.connection.connect.form.serverUrl.validations.invalidUrl")}},async w=>{const I=await u(w);return I==null?(f.value=1,!0):(f.value=2,I)}],n=A(""),c=A(""),f=A(0),v=R(()=>n.value!=null&&n.value.length>0&&c.value!=null&&c.value.length>0),r=R(()=>{switch(f.value){case 0:return"";case 1:return"mdi-check-circle-outline";case 2:return"mdi-close-circle-outline"}});async function u(w){var I,M;try{const C=w.endsWith("/")?w:w+"/",p=await ga.post(`${C}io.evitadb.externalApi.grpc.generated.EvitaManagementService/ServerStatus`,{headers:{"Content-Type":"application/json",Accept:"application/json"},body:"{}"}).json();return p.readiness!=="API_READY"?o("explorer.connection.connect.form.serverUrl.validations.notReady"):((I=p.api.lab)==null?void 0:I.enabled)!==!0?o("explorer.connection.connect.form.serverUrl.validations.labApiMissing"):((M=p.api.gRPC)==null?void 0:M.enabled)!==!0?o("explorer.connection.connect.form.serverUrl.validations.grpcApiMissing"):void 0}catch{return o("explorer.connection.connect.form.serverUrl.validations.unreachable")}}function V(){n.value="",c.value="",f.value=0}async function m(){try{return a.addConnection(fa.user(void 0,n.value,c.value)),s.success(o("explorer.connection.connect.notification.connectionAdded",{connectionName:n.value})),!0}catch(w){return s.error(o("explorer.connection.connect.notification.couldNotAddConnection",{reason:w.message})),!1}}return(w,I)=>(g(),k(oe,{"model-value":w.modelValue,changed:v.value,"confirm-button-icon":"mdi-power-plug-outline",confirm:m,reset:V,"onUpdate:modelValue":I[2]||(I[2]=M=>l("update:modelValue",M))},{activator:i(({props:M})=>[_e(w.$slots,"activator",pt(gt({props:M})))]),title:i(()=>[$(_(y(o)("explorer.connection.connect.title")),1)]),default:i(()=>[h(ve,{modelValue:n.value,"onUpdate:modelValue":I[0]||(I[0]=M=>n.value=M),label:y(o)("explorer.connection.connect.form.connectionName.label"),placeholder:"evitaDB",rules:t,required:""},null,8,["modelValue","label"]),h(ve,{modelValue:c.value,"onUpdate:modelValue":I[1]||(I[1]=M=>c.value=M),label:y(o)("explorer.connection.connect.form.serverUrl.label"),placeholder:"https://{evitadb-server}:5555",hint:y(o)("explorer.connection.connect.form.serverUrl.hint"),required:"",rules:d,"append-inner-icon":r.value},null,8,["modelValue","label","hint","append-inner-icon"])]),"confirm-button-body":i(()=>[$(_(y(o)("explorer.connection.connect.button.connect")),1)]),_:3},8,["model-value","changed"]))}}),Io={key:0,class:"pa-2"},Lo=H({__name:"ConnectionExplorerPanel",props:{modelValue:{type:Boolean}},emits:["update:modelValue"],setup(e,{emit:l}){const a=ft(),s=De(),{t:o}=O(),t=A(!1),d=R(()=>s.getConnections().sort((n,c)=>n.preconfigured&&!c.preconfigured?-1:c.preconfigured&&!n.preconfigured?1:n.name.localeCompare(c.name)));return(n,c)=>(g(),k(yt,{permanent:"","model-value":n.modelValue,width:325,"onUpdate:modelValue":c[2]||(c[2]=f=>n.$emit("update:modelValue",f)),class:"bg-primary"},{append:i(()=>[y(a).readOnly?q("",!0):(g(),P("div",Io,[h($o,{modelValue:t.value,"onUpdate:modelValue":c[1]||(c[1]=f=>t.value=f)},{activator:i(({props:f})=>[h(We,ae({"prepend-icon":"mdi-power-plug-outline",block:"",variant:"outlined"},f,{onClick:c[0]||(c[0]=v=>t.value=!0)}),{default:i(()=>[$(_(y(o)("explorer.button.connect")),1)]),_:2},1040)]),_:1},8,["modelValue"])]))]),default:i(()=>[h(xe,{density:"compact",nav:""},{default:i(()=>[h(ha,{class:"text-gray-light text-sm-body-2 font-weight-medium"},{default:i(()=>[$(_(y(o)("explorer.title")),1)]),_:1}),(g(!0),P(X,null,ne(d.value,f=>(g(),k(Bo,{key:f.name,connection:f},null,8,["connection"]))),128))]),_:1})]),_:1},8,["model-value"]))}});function Ao(e,l){return e.length<=l?e:e.substring(0,l-3)+"..."}const Mo={class:"loading-screen"},Uo={class:"loading-screen-info"},Po=H({__name:"TabLoadingScreen",setup(e){const{t:l}=O();return(a,s)=>(g(),P("div",Mo,[N("div",Uo,[h(st,{size:48}),N("span",null,_(y(l)("tab.placeholder.loading")),1)])]))}});const Wo=fe(Po,[["__scopeId","data-v-b23d11da"]]),Ho=H({__name:"TabWindow",props:{component:{},componentProps:{}},emits:["dataUpdate"],setup(e,{emit:l}){const a=A(!1);return(s,o)=>(g(),P(X,null,[(g(),k(wa,null,[ba((g(),k(_a(s.component),ae(s.componentProps,{onReady:o[0]||(o[0]=t=>a.value=!0),onDataUpdate:o[1]||(o[1]=t=>l("dataUpdate",t))}),null,16)),[[ya,a.value]])],1024)),a.value?q("",!0):(g(),k(Wo,{key:0}))],64))}}),Go="/lab/logo/evitalab-logo-representative.svg",qo=e=>(ct("data-v-70fa2ac3"),e=e(),ut(),e),Oo={class:"editor-welcome-screen"},Fo={class:"editor-welcome-screen-hero"},Qo={class:"editor-welcome-screen-hero__header"},zo={class:"editor-welcome-screen-hero__title"},Yo={class:"font-weight-bold mb-2",style:{"font-size":"4.375rem"}},jo={class:"text-white",style:{"font-size":"1rem"}},Ko={class:"text-primary-lightest text-body-2",href:"https://github.com/lukashornych/evitalab/releases",target:"_blank"},Xo={class:"text-gray-light",style:{"font-size":"1rem"}},Jo={class:"editor-welcome-screen-blog"},Zo=["href"],en={class:"editor-welcome-screen-blog-img__wrap"},tn=["src","alt"],an={class:"editor-welcome-screen-blog-item__title"},on={class:"editor-welcome-screen-blog-item__perex"},nn={class:"editor-welcome-screen-blog-item__btn"},ln=qo(()=>N("span",{class:"editor-welcome-screen-hr"}," ",-1)),rn={class:"editor-welcome-screen-hero__links"},sn={href:"https://evitadb.io/documentation",target:"_blank"},cn={href:"https://github.com/lukashornych/evitalab/",target:"_blank"},un={href:"https://discord.gg/VsNBWxgmSw",target:"_blank"},dn={href:"https://github.com/lukashornych/evitalab/issues",target:"_blank"},mn=H({__name:"WelcomeScreen",setup(e){const l=Sa(),{t:a}=O(),s=R(()=>{const t="v2024.3.1";return t.length===0?"?":t.substring(1)}),o=A([]);return l.getBlogPosts().then(t=>{o.value=t}),(t,d)=>{const n=le("I18nT");return g(),P("div",Oo,[N("div",Fo,[N("header",Qo,[h(Me,{width:"240",height:"240","max-width":"240","max-height":"240",alt:"evitaLab Logo",src:Go,class:"evitalab-logo"}),N("div",zo,[N("h1",Yo,_(y(a)("app.name")),1),N("p",jo,[$(_(s.value)+" ",1),N("a",Ko,"("+_(y(a)("welcomeScreen.changelog"))+")",1)]),N("p",Xo,_(y(a)("welcomeScreen.description")),1)])]),N("div",Jo,[(g(!0),P(X,null,ne(o.value,c=>(g(),P("a",{key:c.url,href:c.url,target:"_blank"},[N("span",en,[N("img",{class:"Blog_BlogMotive__72hVr",height:"160",width:"480",src:c.thumbnailUrl,alt:y(a)("welcomeScreen.blog.thumbnail.alt",{title:c.title})},null,8,tn)]),N("span",an,_(c.title),1),N("span",on,[h(Va,{source:c.perex},null,8,["source"])]),N("span",nn,_(y(a)("welcomeScreen.blog.button.read")),1)],8,Zo))),128))]),ln,N("ul",rn,[h(n,{keypath:"welcomeScreen.link.evitaDBDocumentation.text",tag:"li"},{link:i(()=>[N("a",sn,_(y(a)("welcomeScreen.link.evitaDBDocumentation.link")),1)]),_:1}),h(n,{keypath:"welcomeScreen.link.evitaLabGitHub.text",tag:"li"},{link:i(()=>[N("a",cn,_(y(a)("welcomeScreen.link.evitaLabGitHub.link")),1)]),_:1}),h(n,{keypath:"welcomeScreen.link.discord.text",tag:"li"},{link:i(()=>[N("a",un,_(y(a)("welcomeScreen.link.discord.link")),1)]),_:1}),N("li",null,[N("a",dn,_(y(a)("welcomeScreen.link.submitIssue")),1)])])])])}}});const vn=fe(mn,[["__scopeId","data-v-70fa2ac3"]]),pn=["innerHTML"],gn=["innerHTML"],fn=["innerHTML"],hn=H({__name:"TabSharedDialog",props:{tabRequest:{}},emits:["resolve"],setup(e,{emit:l}){const a=e,s=ge(),{t:o}=O();function t(){s.createTab(a.tabRequest),l("resolve")}function d(){l("resolve")}return(n,c)=>(g(),k(ka,{"model-value":!0,"max-width":"36rem","onUpdate:modelValue":d},{title:i(()=>[$(_(y(o)("tabShare.sharedDialog.title")),1)]),default:i(()=>[n.tabRequest.initialData!=null?(g(),P("span",{key:0,innerHTML:y(o)("tabShare.sharedDialog.text.withoutInitialData")},null,8,pn)):(g(),P("span",{key:1,innerHTML:y(o)("tabShare.sharedDialog.text.withInitialData")},null,8,gn)),n.tabRequest.initialData!=null?(g(),k(Fe,{key:2,icon:"mdi-alert-outline",type:"warning",class:"mt-4"},{default:i(()=>[N("span",{innerHTML:y(o)("tabShare.sharedDialog.warning.potentiallyUnsafe")},null,8,fn)]),_:1})):q("",!0)]),"reject-button":i(()=>[h(Ca,{onReject:d},{default:i(()=>[$(_(y(o)("tabShare.sharedDialog.button.reject")),1)]),_:1})]),"confirm-button":i(()=>[h(Ta,{icon:"mdi-check",onConfirm:t},{default:i(()=>[$(_(y(o)("tabShare.sharedDialog.button.accept")),1)]),_:1})]),_:1}))}}),bn={key:1,style:{position:"relative"}},yn=H({__name:"WorkspaceTabWindowList",setup(e){const l=Na(),a=J(),s=Ue(),{t:o}=O(),t=ge(),d=xa(),n=Da(),c=A(!1),f=A(!1),v=A(),r=A(t.getTabDefinitions());ee(r,()=>{const p=t.getTheNewTab();p&&(u.value=p.id,t.markTabAsVisited(p.id))},{deep:!0});const u=A();ee(u,(p,L)=>{p!=null?s.setContext(p):L!=null&&s.resetActivatedContext()});function V(p){if(u.value==null)return;let E=t.getTabIndex(u.value)+p;E<0?E=r.value.length-1:E>=r.value.length&&(E=0),u.value=r.value[E].id}function m(p){const L=r.value.length,E=r.value.findIndex(x=>x.id===u.value),B=r.value.findIndex(x=>x.id===p);t.destroyTab(p),s.deleteContext(p),r.value.length===0?u.value=null:B===E&&B===L-1?u.value=r.value[B-1].id:B===E&&B<L-1&&(u.value=r.value[B].id)}async function w(){const p=l.query.demoSnippetRequest;if(p!=null)try{return await d.resolve(p)}catch(L){a.error(L)}}async function I(){const p=l.query.sharedTab;if(p!=null)try{return await n.resolve(p)}catch(L){a.error(L)}}function M(){try{let p=!1;t.restoreTabsFromLastSession()&&(p=!0),t.restoreTabHistory()&&(p=!0),p&&a.info("Your last session has been restored.")}catch(p){console.error(p),a.warning("Failed to fully restore your last session.")}}function C(){t.storeOpenedTabs(),t.storeTabHistory()}return w().then(p=>(p!=null&&(c.value=!0,t.createTab(p)),I())).then(p=>{p!=null&&(c.value=!0,v.value=p,f.value=!0),c.value||M()}),pe(()=>{s.bindGlobal(z.System_Editor_PreviousTab,()=>V(-1)),s.bindGlobal(z.System_Editor_NextTab,()=>V(1)),s.bindGlobal(z.System_Editor_CloseTab,()=>{u.value!=null&&m(u.value)}),s.bindGlobal(z.System_Editor_CloseAllTabs,()=>t.destroyAllTabs())}),Pe(()=>{s.unbindGlobal(z.System_Editor_PreviousTab),s.unbindGlobal(z.System_Editor_NextTab),s.unbindGlobal(z.System_Editor_CloseTab),s.unbindGlobal(z.System_Editor_CloseAllTabs)}),window.addEventListener("beforeunload",()=>{c.value||C()}),(p,L)=>(g(),P(X,null,[r.value.length>0?(g(),k(Ua,{key:0,density:"compact",elevation:"0"},{default:i(()=>[h(Ra,{modelValue:u.value,"onUpdate:modelValue":L[0]||(L[0]=E=>u.value=E)},{default:i(()=>[(g(!0),P(X,null,ne(r.value,E=>(g(),k(Ba,{key:E.id,value:E.id,"prepend-icon":E.icon,onMousedown:Re(B=>m(E.id),["middle"]),class:"lab-tab"},{default:i(()=>[N("span",null,[$(_(y(Ao)(E.title,30))+" ",1),E.title.length>30?(g(),k(we,{key:0,activator:"parent"},{default:i(()=>[$(_(E.title),1)]),_:2},1024)):q("",!0)]),h(We,{icon:"",variant:"plain",density:"compact",class:"ml-3",onClick:Re(B=>m(E.id),["stop"])},{default:i(()=>[h(me,null,{default:i(()=>[$("mdi-close")]),_:1}),h(He,{command:y(z).System_Editor_CloseTab},{default:i(()=>[$(_(y(o)("tab.button.closeTab")),1)]),_:1},8,["command"])]),_:2},1032,["onClick"])]),_:2},1032,["value","prepend-icon","onMousedown"]))),128))]),_:1},8,["modelValue"])]),_:1})):q("",!0),h(Wa,{scrollable:!1,class:"lab-editor"},{default:i(()=>[r.value.length>0?(g(),k(Ea,{key:0,modelValue:u.value,"onUpdate:modelValue":L[1]||(L[1]=E=>u.value=E)},{default:i(()=>[(g(!0),P(X,null,ne(r.value,E=>(g(),k($a,{key:E.id,value:E.id,transition:!1,"reverse-transition":!1,class:"window-item"},{default:i(()=>[h(Ho,{component:E.component,"component-props":E.componentProps(),onDataUpdate:B=>y(t).replaceTabData(E.id,B)},null,8,["component","component-props","onDataUpdate"])]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])):(g(),P("div",bn,[h(vn)]))]),_:1}),v.value?(g(),k(hn,{key:1,"tab-request":v.value,onResolve:L[2]||(L[2]=E=>v.value=void 0)},null,8,["tab-request"])):q("",!0)],64))}});const _n=fe(yn,[["__scopeId","data-v-d87f82ca"]]),Cn=H({__name:"MainView",setup(e){const l=A(se.Explorer);return(a,s)=>(g(),P(X,null,[h(ro,{panel:l.value,"onUpdate:panel":s[0]||(s[0]=o=>l.value=o)},null,8,["panel"]),h(Lo,{"model-value":l.value===y(se).Explorer},null,8,["model-value"]),h(_n)],64))}});export{Cn as default};
