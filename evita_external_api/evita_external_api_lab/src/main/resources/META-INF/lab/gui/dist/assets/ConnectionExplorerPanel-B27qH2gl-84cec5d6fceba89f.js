import{p as fe,Q as N,R as J,L as x,S as Ae,T as F,v as de,U as Ve,g as ke,W as We,X as le,Y as ue,Z as Te,b as Ne,$ as st,a0 as $e,h as _,H as K,a1 as He,a2 as ct,a3 as ze,a4 as ut,e as Fe,n as dt,d as ge,c as y,a5 as mt,a6 as vt,a7 as gt,u as pt,a as ft,a8 as ht,a9 as Re,aa as yt,ab as bt,ac as _t,ad as wt,ae as St,af as Ct,ag as Vt,ah as kt,m as Tt,ai as Nt,aj as It,ak as xt,al as Bt,am as Dt,an as $t,ao as Rt,F as O,ap as Et,P as Ie,aq as Mt,i as E,t as W,j as B,o as v,ar as je,D as p,K as f,_ as Q,l as se,f as V,B as P,as as Pt,at as Lt,au as Ut,av as At,aw as Wt,A as k,ax as ne,r as Z,w as s,ay as Ht,N as Oe,az as qe,aA as Ee,s as j,aB as Y,aC as Ye,aD as he,I as we,aE as zt,aF as Ft,aG as jt,aH as Ot,aI as qt,aJ as Yt,aK as Gt,k as Xt,aL as Kt,C as ae,x as Ge,aM as Zt,aN as Jt,aO as Qt,aP as Se,J as re,G as ea,aQ as ee,E as ta,aR as aa,aS as te,aT as me,O as pe,V as Xe,y as Ce,aU as xe,aV as Ke,aW as Ze,aX as oa,aY as la,aZ as na,a_ as Me,a$ as Pe,b0 as Be,b1 as ra,b2 as ia,b3 as sa,b4 as ca,b5 as _e,b6 as ua,b7 as da,b8 as ma,b9 as va,ba as ga,bb as pa}from"./index-84cec5d6fceba89f.js";import{u as Je,a as Qe,b as fa}from"./layout-B4eA2wZS-84cec5d6fceba89f.js";const ha=fe({scrollTarget:{type:String},scrollThreshold:{type:[String,Number],default:300}},"scroll");function ya(t){let u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{canScroll:o}=u;let i=0,e=0;const a=N(null),n=J(0),r=J(0),l=J(0),d=J(!1),b=J(!1),g=x(()=>Number(t.scrollThreshold)),c=x(()=>Ae((g.value-n.value)/g.value||0)),h=()=>{const w=a.value;if(!w||o&&!o.value)return;i=n.value,n.value="window"in w?w.pageYOffset:w.scrollTop;const m=w instanceof Window?document.documentElement.scrollHeight:w.scrollHeight;if(e!==m){e=m;return}b.value=n.value<i,l.value=Math.abs(n.value-g.value)};return F(b,()=>{r.value=r.value||n.value}),F(d,()=>{r.value=0}),de(()=>{F(()=>t.scrollTarget,w=>{const m=w?document.querySelector(w):window;m&&m!==a.value&&(a.value?.removeEventListener("scroll",h),a.value=m,a.value.addEventListener("scroll",h,{passive:!0}))},{immediate:!0})}),Ve(()=>{a.value?.removeEventListener("scroll",h)}),o&&F(o,h,{immediate:!0}),{scrollThreshold:g,currentScroll:n,currentThreshold:l,isScrollActive:d,scrollRatio:c,isScrollingUp:b,savedScroll:r}}const ba=fe({scrollBehavior:String,modelValue:{type:Boolean,default:!0},location:{type:String,default:"top",validator:t=>["top","bottom"].includes(t)},...st(),...Qe(),...ha(),height:{type:[Number,String],default:64}},"VAppBar"),et=ke()({name:"VAppBar",props:ba(),emits:{"update:modelValue":t=>!0},setup(t,u){let{slots:o}=u;const i=N(),e=We(t,"modelValue"),a=x(()=>{const I=new Set(t.scrollBehavior?.split(" ")??[]);return{hide:I.has("hide"),fullyHide:I.has("fully-hide"),inverted:I.has("inverted"),collapse:I.has("collapse"),elevate:I.has("elevate"),fadeImage:I.has("fade-image")}}),n=x(()=>{const I=a.value;return I.hide||I.fullyHide||I.inverted||I.collapse||I.elevate||I.fadeImage||!e.value}),{currentScroll:r,scrollThreshold:l,isScrollingUp:d,scrollRatio:b}=ya(t,{canScroll:n}),g=le(()=>a.value.hide||a.value.fullyHide),c=x(()=>t.collapse||a.value.collapse&&(a.value.inverted?b.value>0:b.value===0)),h=x(()=>t.flat||a.value.fullyHide&&!e.value||a.value.elevate&&(a.value.inverted?r.value>0:r.value===0)),w=x(()=>a.value.fadeImage?a.value.inverted?1-b.value:b.value:void 0),m=x(()=>{if(a.value.hide&&a.value.inverted)return 0;const I=i.value?.contentHeight??0,U=i.value?.extensionHeight??0;return g.value?r.value<l.value||a.value.fullyHide?I+U:I:I+U});ue(()=>!!t.scrollBehavior,()=>{He(()=>{g.value?a.value.inverted?e.value=r.value>l.value:e.value=d.value||r.value<l.value:e.value=!0})});const{ssrBootStyles:C}=Te(),{layoutItemStyles:S}=Je({id:t.name,order:x(()=>parseInt(t.order,10)),position:le(()=>t.location),layoutSize:m,elementSize:J(void 0),active:e,absolute:le(()=>t.absolute)});return Ne(()=>{const I=$e.filterProps(t);return _($e,K({ref:i,class:["v-app-bar",{"v-app-bar--bottom":t.location==="bottom"},t.class],style:[{...S.value,"--v-toolbar-image-opacity":w.value,height:void 0,...C.value},t.style]},I,{collapse:c.value,flat:h.value}),o)}),{}}}),_a=fe({scrollable:Boolean,...Fe(),...ut(),...ze({tag:"main"})},"VMain"),wa=ke()({name:"VMain",props:_a(),setup(t,u){let{slots:o}=u;const{dimensionStyles:i}=ct(t),{mainStyles:e}=fa(),{ssrBootStyles:a}=Te();return Ne(()=>_(t.tag,{class:ge(["v-main",{"v-main--scrollable":t.scrollable},t.class]),style:dt([e.value,a.value,i.value,t.style])},{default:()=>[t.scrollable?y("div",{class:"v-main__scroller"},[o.default?.()]):o.default?.()]})),{}}});function Sa(t){let{rootEl:u,isSticky:o,layoutItemStyles:i}=t;const e=J(!1),a=J(0),n=x(()=>{const d=typeof e.value=="boolean"?"top":e.value;return[o.value?{top:"auto",bottom:"auto",height:void 0}:void 0,e.value?{[d]:mt(a.value)}:{top:i.value.top}]});de(()=>{F(o,d=>{d?window.addEventListener("scroll",l,{passive:!0}):window.removeEventListener("scroll",l)},{immediate:!0})}),Ve(()=>{window.removeEventListener("scroll",l)});let r=0;function l(){const d=r>window.scrollY?"up":"down",b=u.value.getBoundingClientRect(),g=parseFloat(i.value.top??0),c=window.scrollY-Math.max(0,a.value-g),h=b.height+Math.max(a.value,g)-window.scrollY-window.innerHeight,w=parseFloat(getComputedStyle(u.value).getPropertyValue("--v-body-scroll-y"))||0;b.height<window.innerHeight-g?(e.value="top",a.value=g):d==="up"&&e.value==="bottom"||d==="down"&&e.value==="top"?(a.value=window.scrollY+b.top-w,e.value=!0):d==="down"&&h<=0?(a.value=0,e.value="bottom"):d==="up"&&c<=0&&(w?e.value!=="top"&&(a.value=-c+w+g,e.value="top"):(a.value=b.top+c,e.value="top")),r=window.scrollY}return{isStuck:e,stickyStyles:n}}const Ca=100,Va=20;function Le(t){return(t<0?-1:1)*Math.sqrt(Math.abs(t))*1.41421356237}function Ue(t){if(t.length<2)return 0;if(t.length===2)return t[1].t===t[0].t?0:(t[1].d-t[0].d)/(t[1].t-t[0].t);let u=0;for(let o=t.length-1;o>0;o--){if(t[o].t===t[o-1].t)continue;const i=Le(u),e=(t[o].d-t[o-1].d)/(t[o].t-t[o-1].t);u+=(e-i)*Math.abs(e),o===t.length-1&&(u*=.5)}return Le(u)*1e3}function ka(){const t={};function u(e){Array.from(e.changedTouches).forEach(a=>{(t[a.identifier]??(t[a.identifier]=new vt(Va))).push([e.timeStamp,a])})}function o(e){Array.from(e.changedTouches).forEach(a=>{delete t[a.identifier]})}function i(e){const a=t[e]?.values().reverse();if(!a)throw new Error(`No samples for touch id ${e}`);const n=a[0],r=[],l=[];for(const d of a){if(n[0]-d[0]>Ca)break;r.push({t:d[0],d:d[1].clientX}),l.push({t:d[0],d:d[1].clientY})}return{x:Ue(r),y:Ue(l),get direction(){const{x:d,y:b}=this,[g,c]=[Math.abs(d),Math.abs(b)];return g>c&&d>=0?"right":g>c&&d<=0?"left":c>g&&b>=0?"down":c>g&&b<=0?"up":Ta()}}}return{addMovement:u,endTouch:o,getVelocity:i}}function Ta(){throw new Error}function Na(t){let{el:u,isActive:o,isTemporary:i,width:e,touchless:a,position:n}=t;de(()=>{window.addEventListener("touchstart",I,{passive:!0}),window.addEventListener("touchmove",U,{passive:!1}),window.addEventListener("touchend",z,{passive:!0})}),Ve(()=>{window.removeEventListener("touchstart",I),window.removeEventListener("touchmove",U),window.removeEventListener("touchend",z)});const r=x(()=>["left","right"].includes(n.value)),{addMovement:l,endTouch:d,getVelocity:b}=ka();let g=!1;const c=J(!1),h=J(0),w=J(0);let m;function C(T,$){return(n.value==="left"?T:n.value==="right"?document.documentElement.clientWidth-T:n.value==="top"?T:n.value==="bottom"?document.documentElement.clientHeight-T:ie())-($?e.value:0)}function S(T){let $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const A=n.value==="left"?(T-w.value)/e.value:n.value==="right"?(document.documentElement.clientWidth-T-w.value)/e.value:n.value==="top"?(T-w.value)/e.value:n.value==="bottom"?(document.documentElement.clientHeight-T-w.value)/e.value:ie();return $?Ae(A):A}function I(T){if(a.value)return;const $=T.changedTouches[0].clientX,A=T.changedTouches[0].clientY,H=25,G=n.value==="left"?$<H:n.value==="right"?$>document.documentElement.clientWidth-H:n.value==="top"?A<H:n.value==="bottom"?A>document.documentElement.clientHeight-H:ie(),X=o.value&&(n.value==="left"?$<e.value:n.value==="right"?$>document.documentElement.clientWidth-e.value:n.value==="top"?A<e.value:n.value==="bottom"?A>document.documentElement.clientHeight-e.value:ie());(G||X||o.value&&i.value)&&(m=[$,A],w.value=C(r.value?$:A,o.value),h.value=S(r.value?$:A),g=w.value>-20&&w.value<80,d(T),l(T))}function U(T){const $=T.changedTouches[0].clientX,A=T.changedTouches[0].clientY;if(g){if(!T.cancelable){g=!1;return}const G=Math.abs($-m[0]),X=Math.abs(A-m[1]);(r.value?G>X&&G>3:X>G&&X>3)?(c.value=!0,g=!1):(r.value?X:G)>3&&(g=!1)}if(!c.value)return;T.preventDefault(),l(T);const H=S(r.value?$:A,!1);h.value=Math.max(0,Math.min(1,H)),H>1?w.value=C(r.value?$:A,!0):H<0&&(w.value=C(r.value?$:A,!1))}function z(T){if(g=!1,!c.value)return;l(T),c.value=!1;const $=b(T.changedTouches[0].identifier),A=Math.abs($.x),H=Math.abs($.y);(r.value?A>H&&A>400:H>A&&H>3)?o.value=$.direction===({left:"right",right:"left",top:"down",bottom:"up"}[n.value]||ie()):o.value=h.value>.5}const L=x(()=>c.value?{transform:n.value==="left"?`translateX(calc(-100% + ${h.value*e.value}px))`:n.value==="right"?`translateX(calc(100% - ${h.value*e.value}px))`:n.value==="top"?`translateY(calc(-100% + ${h.value*e.value}px))`:n.value==="bottom"?`translateY(calc(100% - ${h.value*e.value}px))`:ie(),transition:"none"}:void 0);return ue(c,()=>{const T=u.value?.style.transform??null,$=u.value?.style.transition??null;He(()=>{u.value?.style.setProperty("transform",L.value?.transform||"none"),u.value?.style.setProperty("transition",L.value?.transition||null)}),gt(()=>{u.value?.style.setProperty("transform",T),u.value?.style.setProperty("transition",$)})}),{isDragging:c,dragProgress:h,dragStyles:L}}function ie(){throw new Error}const Ia=["start","end","left","right","top","bottom"],xa=fe({color:String,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,modelValue:{type:Boolean,default:null},permanent:Boolean,rail:{type:Boolean,default:null},railWidth:{type:[Number,String],default:56},scrim:{type:[Boolean,String],default:!0},image:String,temporary:Boolean,persistent:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},location:{type:String,default:"start",validator:t=>Ia.includes(t)},sticky:Boolean,...Dt(),...Fe(),...Bt(),...xt({mobile:null}),...It(),...Qe(),...Nt(),...ze({tag:"nav"}),...Tt()},"VNavigationDrawer"),Ba=ke()({name:"VNavigationDrawer",props:xa(),emits:{"update:modelValue":t=>!0,"update:rail":t=>!0},setup(t,u){let{attrs:o,emit:i,slots:e}=u;const{isRtl:a}=pt(),{themeClasses:n}=ft(t),{borderClasses:r}=ht(t),{backgroundColorClasses:l,backgroundColorStyles:d}=Re(()=>t.color),{elevationClasses:b}=yt(t),{displayClasses:g,mobile:c}=bt(t),{roundedClasses:h}=_t(t),w=wt(),m=We(t,"modelValue",null,q=>!!q),{ssrBootStyles:C}=Te(),{scopeId:S}=St(),I=N(),U=J(!1),{runOpenDelay:z,runCloseDelay:L}=$t(t,q=>{U.value=q}),T=x(()=>t.rail&&t.expandOnHover&&U.value?Number(t.width):Number(t.rail?t.railWidth:t.width)),$=x(()=>Ct(t.location,a.value)),A=le(()=>t.persistent),H=x(()=>!t.permanent&&(c.value||t.temporary)),G=x(()=>t.sticky&&!H.value&&$.value!=="bottom");ue(()=>t.expandOnHover&&t.rail!=null,()=>{F(U,q=>i("update:rail",!q))}),ue(()=>!t.disableResizeWatcher,()=>{F(H,q=>!t.permanent&&Et(()=>m.value=!q))}),ue(()=>!t.disableRouteWatcher&&!!w,()=>{F(w.currentRoute,()=>H.value&&(m.value=!1))}),F(()=>t.permanent,q=>{q&&(m.value=!0)}),t.modelValue==null&&!H.value&&(m.value=t.permanent||!c.value);const{isDragging:X,dragProgress:ce}=Na({el:I,isActive:m,isTemporary:H,width:T,touchless:le(()=>t.touchless),position:$}),ye=x(()=>{const q=H.value?0:t.rail&&t.expandOnHover?Number(t.railWidth):T.value;return X.value?q*ce.value:q}),{layoutItemStyles:D,layoutItemScrimStyles:R}=Je({id:t.name,order:x(()=>parseInt(t.order,10)),position:$,layoutSize:ye,elementSize:T,active:Vt(m),disableTransitions:le(()=>X.value),absolute:x(()=>t.absolute||G.value&&typeof M.value!="string")}),{isStuck:M,stickyStyles:be}=Sa({rootEl:I,isSticky:G,layoutItemStyles:D}),De=Re(()=>typeof t.scrim=="string"?t.scrim:null),it=x(()=>({...X.value?{opacity:ce.value*.2,transition:"none"}:void 0,...R.value}));return kt({VList:{bgColor:"transparent"}}),Ne(()=>{const q=e.image||t.image;return y(O,null,[_(t.tag,K({ref:I,onMouseenter:z,onMouseleave:L,class:["v-navigation-drawer",`v-navigation-drawer--${$.value}`,{"v-navigation-drawer--expand-on-hover":t.expandOnHover,"v-navigation-drawer--floating":t.floating,"v-navigation-drawer--is-hovering":U.value,"v-navigation-drawer--rail":t.rail,"v-navigation-drawer--temporary":H.value,"v-navigation-drawer--persistent":A.value,"v-navigation-drawer--active":m.value,"v-navigation-drawer--sticky":G.value},n.value,l.value,r.value,g.value,b.value,h.value,t.class],style:[d.value,D.value,C.value,be.value,t.style]},S,o),{default:()=>[q&&y("div",{key:"image",class:"v-navigation-drawer__img"},[e.image?_(Mt,{key:"image-defaults",disabled:!t.image,defaults:{VImg:{alt:"",cover:!0,height:"inherit",src:t.image}}},e.image):_(Ie,{key:"image-img",alt:"",cover:!0,height:"inherit",src:t.image},null)]),e.prepend&&y("div",{class:"v-navigation-drawer__prepend"},[e.prepend?.()]),y("div",{class:"v-navigation-drawer__content"},[e.default?.()]),e.append&&y("div",{class:"v-navigation-drawer__append"},[e.append?.()])]}),_(Rt,{name:"fade-transition"},{default:()=>[H.value&&(X.value||m.value)&&!!t.scrim&&y("div",K({class:["v-navigation-drawer__scrim",De.backgroundColorClasses.value],style:[it.value,De.backgroundColorStyles.value],onClick:()=>{A.value||(m.value=!1)}},S),null)]})])}),{isStuck:M}}});function Da(t,u){return t.length<=u?t:t.substring(0,u-3)+"..."}const $a={class:"loading-screen"},Ra={class:"loading-screen-info"},Ea=E({__name:"TabLoadingScreen",setup(t){const{t:u}=W();return(o,i)=>(v(),B("div",$a,[y("div",Ra,[_(je,{size:48}),y("span",null,p(f(u)("tab.placeholder.loading")),1)])]))}}),Ma=Q(Ea,[["__scopeId","data-v-b23d11da"]]),Pa=E({__name:"TabWindow",props:{id:{},component:{},componentProps:{}},setup(t){const u=se(),o=t,i=N(!1),e=N();F(e,()=>{r()});function a(){i.value=!0,r()}function n(l){u.replaceTabData(o.id,l),r()}function r(){if(i.value&&e.value!=null&&e.value.path!=null){const l=e.value.path();l!=null&&u.subjectPathStatus.definePath(o.id,l)}}return(l,d)=>(v(),B(O,null,[(v(),V(At,null,[Pt((v(),V(Ut(l.component),K({ref_key:"componentInstance",ref:e},l.componentProps,{onReady:a,"onUpdate:data":n}),null,16)),[[Lt,i.value]])],1024)),i.value?P("",!0):(v(),V(Ma,{key:0}))],64))}}),tt="/lab/logo/evitalab-logo-representative.svg",La={class:"editor-welcome-screen"},Ua={class:"editor-welcome-screen-hero"},Aa={class:"editor-welcome-screen-hero__header"},Wa={class:"editor-welcome-screen-hero__title"},Ha={class:"font-weight-bold mb-2",style:{"font-size":"4.375rem"}},za={class:"text-white",style:{"font-size":"1rem"}},Fa={class:"text-primary-lightest text-body-2",href:"https://github.com/FgForrest/evitalab/releases",target:"_blank"},ja={class:"text-gray-light",style:{"font-size":"1rem"}},Oa={class:"editor-welcome-screen-blog"},qa=["href"],Ya={class:"editor-welcome-screen-blog-img__wrap"},Ga=["src","alt"],Xa={class:"editor-welcome-screen-blog-item__title"},Ka={class:"editor-welcome-screen-blog-item__perex"},Za={class:"editor-welcome-screen-blog-item__btn"},Ja={class:"editor-welcome-screen-hero__links"},Qa={href:"https://evitadb.io/documentation",target:"_blank"},eo={href:"https://github.com/FgForrest/evitalab/",target:"_blank"},to={href:"https://discord.gg/VsNBWxgmSw",target:"_blank"},ao={href:"https://github.com/FgForrest/evitalab/issues",target:"_blank"},oo=E({__name:"StandaloneWelcomeContent",props:{version:{}},setup(t){const u=Wt(),{t:o}=W(),i=N([]);return u.getBlogPosts().then(e=>{i.value=e}),(e,a)=>{const n=Z("I18nT");return v(),B("div",La,[y("div",Ua,[y("header",Aa,[_(Ie,{width:"240",height:"240","max-width":"240","max-height":"240",alt:"evitaLab Logo",src:tt,class:"evitalab-logo"}),y("div",Wa,[y("h1",Ha,p(f(o)("app.name")),1),y("p",za,[k(p(e.version)+" ",1),y("a",Fa,"("+p(f(o)("welcomeScreen.standalone.changelog"))+")",1)]),y("p",ja,p(f(o)("welcomeScreen.standalone.description")),1)])]),y("div",Oa,[(v(!0),B(O,null,ne(i.value,r=>(v(),B("a",{key:r.url,href:r.url,target:"_blank"},[y("span",Ya,[y("img",{class:"Blog_BlogMotive__72hVr",height:"160",width:"480",src:r.thumbnailUrl,alt:f(o)("welcomeScreen.standalone.blog.thumbnail.alt",{title:r.title})},null,8,Ga)]),y("span",Xa,p(r.title),1),y("span",Ka,[_(Ht,{source:r.perex},null,8,["source"])]),y("span",Za,p(f(o)("welcomeScreen.standalone.blog.button.read")),1)],8,qa))),128))]),a[0]||(a[0]=y("span",{class:"editor-welcome-screen-hr"}," ",-1)),y("ul",Ja,[_(n,{keypath:"welcomeScreen.standalone.link.evitaDBDocumentation.text",tag:"li"},{link:s(()=>[y("a",Qa,p(f(o)("welcomeScreen.standalone.link.evitaDBDocumentation.link")),1)]),_:1}),_(n,{keypath:"welcomeScreen.standalone.link.evitaLabGitHub.text",tag:"li"},{link:s(()=>[y("a",eo,p(f(o)("welcomeScreen.standalone.link.evitaLabGitHub.link")),1)]),_:1}),_(n,{keypath:"welcomeScreen.standalone.link.discord.text",tag:"li"},{link:s(()=>[y("a",to,p(f(o)("welcomeScreen.standalone.link.discord.link")),1)]),_:1}),y("li",null,[y("a",ao,p(f(o)("welcomeScreen.standalone.link.submitIssue")),1)])])])])}}}),lo=Q(oo,[["__scopeId","data-v-2555c168"]]),no={class:"editor-welcome-screen"},ro={class:"editor-welcome-screen-hero"},io={class:"editor-welcome-screen-hero__header"},so={class:"editor-welcome-screen-hero__title"},co={class:"font-weight-light mb-2",style:{"font-size":"2rem"}},uo={class:"font-weight-bold"},mo={class:"text-white",style:{"font-size":"1rem"}},vo={class:"text-primary-lightest text-body-2",href:"https://github.com/FgForrest/evitalab/releases",target:"_blank"},go=E({__name:"DriverWelcomeContent",props:{version:{}},setup(t){const u=Oe(),{t:o}=W(),i=x(()=>u.getConnection().name),e=localStorage.getItem("test");return(a,n)=>(v(),B("div",no,[y("div",ro,[y("header",io,[_(Ie,{width:"60",height:"60","max-width":"60","max-height":"60",alt:"evitaLab Logo",src:tt,class:"evitalab-logo"}),y("div",so,[k(p(f(e))+" ",1),y("h1",co,[n[0]||(n[0]=k(" Connected to: ")),y("span",uo,p(i.value),1)]),y("p",mo,[k(p(f(o)("welcomeScreen.driver.description"))+" "+p(a.version)+" ",1),y("a",vo,"("+p(f(o)("welcomeScreen.driver.changelog"))+")",1)])])])])]))}}),po=Q(go,[["__scopeId","data-v-825f264b"]]),fo=E({__name:"WelcomeScreen",setup(t){const u=qe(),o=x(()=>{const i="v2025.6.0";return i.length===0?"?":i.substring(1)});return(i,e)=>f(u).runMode===f(Ee).Standalone?(v(),V(lo,{key:0,version:o.value},null,8,["version"])):f(u).runMode===f(Ee).Driver?(v(),V(po,{key:1,version:o.value},null,8,["version"])):P("",!0)}}),ho=E({__name:"TabSharedTroubleshooterDialog",props:{modelValue:{type:Boolean},originalConnectionName:{default:void 0},troubleshooterCallback:{type:Function,default:void 0}},emits:["resolve","reject"],setup(t,{emit:u}){const o=Oe(),i=j(),{t:e}=W(),a=t,n=u,r=N([]),l=N(!1),d=N(void 0),b=N(!1),g=x(()=>d.value!=null&&d.value.trim().length>0);F(()=>a.modelValue,w=>{if(w){const m=o.getConnection();r.value=[m],l.value=!0,d.value=m.id,b.value=a.originalConnectionName!=null&&a.originalConnectionName.trim().length>0&&a.originalConnectionName.trim().toLowerCase()===m.name.trim().toLowerCase()}});function c(){n("reject"),r.value=[],l.value=!1,d.value=void 0}async function h(){if(a.troubleshooterCallback==null)throw new Error("Cannot accept shared tab without troubleshooter callback.");try{const w=await a.troubleshooterCallback(d.value);return n("resolve",w),!0}catch(w){return await i.error("Could not resolve shared tab",w),!1}}return(w,m)=>(v(),V(Y,{"model-value":w.modelValue,changed:g.value,"confirm-button-icon":"mdi-check",confirm:h,reset:c},{activator:s(({props:C})=>[we(w.$slots,"activator",zt(Ft({props:C})))]),title:s(()=>[k(p(f(e)("tabShare.sharedTroubleshooterDialog.title")),1)]),"prepend-form":s(()=>[_(he,{type:"warning",icon:"mdi-alert-outline"},{default:s(()=>[k(p(f(e)("tabShare.sharedTroubleshooterDialog.info")),1)]),_:1})]),default:s(()=>[_(Ye,{modelValue:d.value,"onUpdate:modelValue":m[0]||(m[0]=C=>d.value=C),label:f(e)("tabShare.sharedTroubleshooterDialog.form.newConnectionId.label"),hint:b.value?f(e)("tabShare.sharedTroubleshooterDialog.form.newConnectionId.hint.connectionMatchedByName"):f(e)("tabShare.sharedTroubleshooterDialog.form.newConnectionId.hint.connectionNotMatchedByName"),items:r.value,"item-title":"name","item-value":"id",required:"",disabled:""},null,8,["modelValue","label","hint","items"])]),"confirm-button-body":s(()=>[k(p(f(e)("common.button.accept")),1)]),_:3},8,["model-value","changed"]))}}),yo=["innerHTML"],bo=["innerHTML"],_o=["innerHTML"],wo=E({__name:"TabSharedDialog",props:{modelValue:{type:Boolean}},emits:["update:modelValue"],setup(t,{emit:u}){const o=se(),i=jt(),e=j(),{t:a}=W(),n=t,r=u;F(()=>n.modelValue,S=>{if(S){const U=new URLSearchParams(document.location.search).get("sharedTab");U!=null&&(l.value=Gt.fromLinkParam(U))}});const l=N(void 0),d=x(()=>l.value==null?!1:l.value.tabData!=null),b=N(!1),g=N(void 0),c=N(void 0);async function h(){if(l.value!=null)try{const S=await i.resolve(l.value);o.createTab(S),C()}catch(S){S instanceof Yt?(b.value=!0,g.value=S.originalConnectionName,c.value=S.troubleshooterCallback):await e.error("Could not resolve shared tab",S)}}function w(S){o.createTab(S),C()}function m(){b.value=!1}function C(){r("update:modelValue",!1)}return(S,I)=>(v(),B(O,null,[_(Ot,{"model-value":S.modelValue,persistent:"","max-width":"36rem"},{title:s(()=>[k(p(f(a)("tabShare.sharedDialog.title")),1)]),default:s(()=>[d.value?(v(),B("span",{key:0,innerHTML:f(a)("tabShare.sharedDialog.text.withoutInitialData")},null,8,yo)):(v(),B("span",{key:1,innerHTML:f(a)("tabShare.sharedDialog.text.withInitialData")},null,8,bo)),d.value?(v(),V(he,{key:2,icon:"mdi-alert-outline",type:"warning",class:"mt-4"},{default:s(()=>[y("span",{innerHTML:f(a)("tabShare.sharedDialog.warning.potentiallyUnsafe")},null,8,_o)]),_:1})):P("",!0)]),"confirm-button":s(()=>[_(qt,{icon:"mdi-check",onConfirm:h},{default:s(()=>[k(p(f(a)("common.button.accept")),1)]),_:1})]),_:1},8,["model-value"]),_(ho,{"model-value":b.value,"original-connection-name":g.value,"troubleshooter-callback":c.value,onResolve:w,onReject:m},null,8,["model-value","original-connection-name","troubleshooter-callback"])],64))}}),So={key:1,style:{position:"relative"}},Co=E({__name:"WorkspaceTabWindowList",setup(t){const u=qe(),o=j(),i=Xt(),{t:e}=W(),a=se(),n=Kt(),r=N(!1),l=N(a.getTabDefinitions());F(l,()=>{const m=a.getTheNewTab();m&&(d.value=m.id,a.markTabAsVisited(m.id))},{deep:!0});const d=N();F(d,(m,C)=>{m!=null?(i.setContext(m),a.subjectPathStatus.activatePath(m)):C!=null&&(i.resetActivatedContext(),a.subjectPathStatus.deactivatePath())});function b(m){if(d.value==null)return;let S=a.getTabIndex(d.value)+m;S<0?S=l.value.length-1:S>=l.value.length&&(S=0),d.value=l.value[S].id}function g(m){const C=l.value.length,S=l.value.findIndex(U=>U.id===d.value),I=l.value.findIndex(U=>U.id===m);a.destroyTab(m),i.deleteContext(m),a.subjectPathStatus.deletePath(m),l.value.length===0?d.value=null:I===S&&I===C-1?d.value=l.value[I-1].id:I===S&&I<C-1&&(d.value=l.value[I].id)}async function c(m){const C=m.get("demoSnippetRequest");if(C!=null)try{return await n.resolve(C)}catch(S){await o.error("Could not resolve demo code snippet",S)}}async function h(m){return m.get("sharedTab")!=null}function w(){try{let m=!1;a.restoreTabsFromLastSession()&&(m=!0),a.restoreTabHistory()&&(m=!0),m&&o.info("Your last session has been restored.").then()}catch(m){console.error(m),o.warning("Failed to fully restore your last session.").then()}}if(u.playgroundMode){const m=new URLSearchParams(document.location.search);c(m).then(C=>(C!=null&&a.createTab(C),h(m))).then(C=>{C&&(r.value=!0)})}else w();return de(()=>{i.bindGlobal(ae.System_Editor_PreviousTab,()=>b(-1)),i.bindGlobal(ae.System_Editor_NextTab,()=>b(1)),i.bindGlobal(ae.System_Editor_CloseTab,()=>{d.value!=null&&g(d.value)}),i.bindGlobal(ae.System_Editor_CloseAllTabs,()=>a.destroyAllTabs())}),Ge(()=>{i.unbindGlobal(ae.System_Editor_PreviousTab),i.unbindGlobal(ae.System_Editor_NextTab),i.unbindGlobal(ae.System_Editor_CloseTab),i.unbindGlobal(ae.System_Editor_CloseAllTabs)}),(m,C)=>(v(),B(O,null,[l.value.length>0?(v(),V(et,{key:0,density:"compact",elevation:"0"},{default:s(()=>[_(Zt,{modelValue:d.value,"onUpdate:modelValue":C[0]||(C[0]=S=>d.value=S)},{default:s(()=>[(v(!0),B(O,null,ne(l.value,S=>(v(),V(Qt,{key:S.id,value:S.id,"prepend-icon":S.icon,onMousedown:Se(I=>g(S.id),["middle"]),class:"lab-tab"},{default:s(()=>[y("span",null,[k(p(f(Da)(S.title,30))+" ",1),S.title.length>30?(v(),V(re,{key:0,activator:"parent"},{default:s(()=>[k(p(S.title),1)]),_:2},1024)):P("",!0)]),_(ea,{icon:"",variant:"plain",density:"compact",class:"ml-3",onClick:Se(I=>g(S.id),["stop"])},{default:s(()=>[_(ee,null,{default:s(()=>C[3]||(C[3]=[k("mdi-close")])),_:1,__:[3]}),_(ta,{command:f(ae).System_Editor_CloseTab},{default:s(()=>[k(p(f(e)("tab.button.closeTab")),1)]),_:1},8,["command"])]),_:2},1032,["onClick"])]),_:2},1032,["value","prepend-icon","onMousedown"]))),128))]),_:1},8,["modelValue"])]),_:1})):P("",!0),_(wa,{scrollable:!1,class:"lab-editor"},{default:s(()=>[l.value.length>0?(v(),V(Jt,{key:0,modelValue:d.value,"onUpdate:modelValue":C[1]||(C[1]=S=>d.value=S)},{default:s(()=>[(v(!0),B(O,null,ne(l.value,S=>(v(),V(aa,{key:S.id,value:S.id,transition:!1,"reverse-transition":!1,class:"window-item"},{default:s(()=>[_(Pa,{id:S.id,component:S.component,"component-props":S.componentProps()},null,8,["id","component","component-props"])]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])):(v(),B("div",So,[_(fo)]))]),_:1}),_(wo,{modelValue:r.value,"onUpdate:modelValue":C[2]||(C[2]=S=>r.value=S)},null,8,["modelValue"])],64))}}),_l=Q(Co,[["__scopeId","data-v-a534ed3b"]]),Vo={key:0,class:"editor-status"},ko=E({__name:"EditorStatus",props:{status:{}},setup(t){const{t:u}=W(),o=t,i=x(()=>o.status.activatedEditorInfo),e=x(()=>{if(i.value!=null&&i.value.selections.size==1)return i.value.selections.get(0)});return(a,n)=>i.value?(v(),B("div",Vo,[_(re,null,{activator:s(({props:r})=>[y("span",K({class:"text-no-wrap"},r),[i.value.selections.size!=1?(v(),B(O,{key:0},[k(p(f(u)("common.statusBar.activeEditorStatus.selections.value.multipleSelections",{count:i.value.selections.size})),1)],64)):(v(),B(O,{key:1},[k(p(f(u)("common.statusBar.activeEditorStatus.selections.value.singleSelection.cursorPosition",{line:e.value.line,column:e.value.column}))+" ",1),e.value.selectedCharacterCount>0?(v(),B(O,{key:0},[k(" ("+p(f(u)("common.statusBar.activeEditorStatus.selections.value.singleSelection.selectionRange",{charsCount:e.value.selectedCharacterCount})),1),e.value.lineBreaks>0?(v(),B(O,{key:0},[k(", "+p(f(u)("common.statusBar.activeEditorStatus.selections.value.singleSelection.lineBreaks",{lineBreaks:e.value.lineBreaks})),1)],64)):P("",!0),n[0]||(n[0]=k(") "))],64)):P("",!0)],64))],16)]),default:s(()=>[k(p(f(u)("common.statusBar.activeEditorStatus.selections.label")),1)]),_:1}),_(re,null,{activator:s(({props:r})=>[y("span",K({class:"text-no-wrap"},r),p(f(u)("common.statusBar.activeEditorStatus.tabSize.value",{tabSize:i.value.tabSize})),17)]),default:s(()=>[k(p(f(u)("common.statusBar.activeEditorStatus.tabSize.label")),1)]),_:1}),_(re,null,{activator:s(({props:r})=>[y("span",K({class:"text-no-wrap"},r),p(i.value.language),17)]),default:s(()=>[k(p(f(u)("common.statusBar.activeEditorStatus.language.label")),1)]),_:1})])):P("",!0)}}),To=Q(ko,[["__scopeId","data-v-ab91fc98"]]),No=E({__name:"SubjectPathStatusItem",props:{item:{}},setup(t){const u=t;function o(){u.item.onClick!=null&&u.item.onClick()}return(i,e)=>(v(),B("div",{class:ge(["subject-path-status-item",{"subject-path-status-item--clickable":i.item.onClick!=null}]),onClick:o},[i.item.icon?(v(),V(ee,{key:0,icon:i.item.icon,size:"12"},null,8,["icon"])):P("",!0),y("span",null,p(i.item.value),1)],2))}}),Io=Q(No,[["__scopeId","data-v-fd5155de"]]),xo={};function Bo(t,u){return v(),V(ee,{icon:"mdi-chevron-right",size:"12",class:"text-disabled subject-path-status-item-delimiter"})}const Do=Q(xo,[["render",Bo],["__scopeId","data-v-a85df1cb"]]),$o={key:0,class:"subject-path-status"},Ro=E({__name:"SubjectPathStatus",props:{status:{}},setup(t){const u=t,o=x(()=>u.status.activatedPath);return(i,e)=>o.value?(v(),B("div",$o,[(v(!0),B(O,null,ne(o.value.items,(a,n)=>(v(),B(O,{key:n},[_(Io,{item:a},null,8,["item"]),n+1<o.value.items.size?(v(),V(Do,{key:0})):P("",!0)],64))),128))])):P("",!0)}}),Eo=Q(Ro,[["__scopeId","data-v-91b66f15"]]),Mo=E({__name:"AutoRefresher",props:{connected:{type:Boolean}},setup(t){const u=t,{t:o}=W(),i=le(u,"connected");return(e,a)=>(v(),B("div",null,[f(i)?(v(),V(ee,{key:0,icon:"mdi-autorenew"})):(v(),V(ee,{key:1,icon:"mdi-autorenew-off"})),_(re,{activator:"parent"},{default:s(()=>[k(p(e.connected?f(o)("common.statusBar.autoRefresh.connected"):f(o)("common.statusBar.autoRefresh.disconnected")),1)]),_:1})]))}}),Po={class:"left-content"},Lo={class:"right-content"},Uo=E({__name:"WorkspaceStatusBar",setup(t){const u=se(),o=x(()=>u.subjectPathStatus),i=x(()=>u.editorStatus),e=N(!1);return(a,n)=>(v(),V(et,{height:"28",location:"bottom",flat:"",class:"bg-primary-dark status-bar"},{default:s(()=>[y("div",Po,[_(Eo,{status:o.value},null,8,["status"])]),y("div",Lo,[_(To,{status:i.value},null,8,["status"]),_(Mo,{connected:f(e)},null,8,["connected"]),y("button",{onClick:n[0]||(n[0]=()=>e.value=!f(e))},"Test")])]),_:1}))}}),wl=Q(Uo,[["__scopeId","data-v-b2f5fa24"]]),Ao=E({__name:"CreateCatalogDialog",props:{modelValue:{type:Boolean}},emits:["update:modelValue"],setup(t,{emit:u}){const o=te(),i=j(),{t:e}=W(),a=u,n=[g=>g!=null&&g.trim().length>0?!0:e("explorer.catalog.create.form.catalogName.validations.required"),async g=>{const c=await o.isCatalogNameValid(g);return c==null?!0:e(`explorer.catalog.create.form.catalogName.validations.${c}`)},async g=>await o.isCatalogNameAvailable(g)?!0:e("explorer.catalog.create.form.catalogName.validations.notAvailable")],r=N(""),l=x(()=>r.value.length>0);function d(){r.value=""}async function b(){try{return await o.createCatalog(r.value),await i.success(e("explorer.catalog.create.notification.catalogCreated",{catalogName:r.value})),!0}catch(g){return await i.error(e("explorer.catalog.create.notification.couldNotCreateCatalog",{catalogName:r.value,reason:g.message})),!1}}return(g,c)=>(v(),V(Y,{"model-value":g.modelValue,changed:l.value,"confirm-button-icon":"mdi-plus",confirm:b,reset:d,"onUpdate:modelValue":c[1]||(c[1]=h=>a("update:modelValue",h))},{title:s(()=>[k(p(f(e)("explorer.catalog.create.title")),1)]),default:s(()=>[_(me,{modelValue:r.value,"onUpdate:modelValue":c[0]||(c[0]=h=>r.value=h),label:f(e)("explorer.catalog.create.form.catalogName.label"),rules:n,required:""},null,8,["modelValue","label"])]),"confirm-button-body":s(()=>[k(p(f(e)("common.button.create")),1)]),_:1},8,["model-value","changed"]))}});var ve=(t=>(t.Info="info",t.Warning="warning",t.Error="error",t))(ve||{});class oe{value;type;constructor(u,o){this.value=u,this.type=o}static info(u){return new oe(u,ve.Info)}static warning(u){return new oe(u,ve.Warning)}static error(u){return new oe(u,ve.Error)}}const Wo={class:"tree-view-item__content"},Ho={key:0,class:"tree-view-item__flags"},zo={key:0,class:"tree-view-item__flags"},Fo=E({__name:"VTreeViewItem",props:{openable:{type:Boolean,default:!1},isOpen:{type:Boolean,default:!1},prependIcon:{},loading:{type:Boolean,default:!1},flags:{default:()=>[]},actions:{default:()=>[]}},emits:["click:action","click:actionMenu"],setup(t,{emit:u}){const o=t,i=N(!1),e=u;function a(){e("click:actionMenu"),o.actions&&o.actions.length>0&&(i.value=!0)}return(n,r)=>(v(),V(pe,{"prepend-icon":null,"append-icon":null,onContextmenu:Se(a,["prevent"])},{default:s(()=>[y("div",Wo,[n.openable?(v(),V(ee,{key:0},{default:s(()=>[k(p(n.isOpen?"mdi-chevron-up":"mdi-chevron-down"),1)]),_:1})):(v(),V(ee,{key:1})),n.loading?(v(),V(je,{key:2})):(v(),V(ee,{key:3},{default:s(()=>[k(p(n.prependIcon),1)]),_:1})),_(re,null,{activator:s(({props:l})=>[y("span",K(l,{class:"tree-view-item__text text-truncate"}),[we(n.$slots,"default",{},()=>[r[3]||(r[3]=y("span",{class:"text-disabled"}," No items found ",-1))],!0),n.flags.length>0?(v(),B("span",Ho,[(v(!0),B(O,null,ne(n.flags,d=>(v(),B("span",{key:d.value,class:ge(["tree-view-item__flag",`tree-view-item__flag--${d.type}`])},p(d.value),3))),128))])):P("",!0)],16)]),default:s(()=>[we(n.$slots,"tooltip",{},void 0,!0),n.flags.length>0?(v(),B("span",zo,[(v(!0),B(O,null,ne(n.flags,l=>(v(),B("span",{key:l.value,class:ge(["tree-view-item__flag","tree-view-item__lg-flag",`tree-view-item__flag--${l.type}`])},p(l.value),3))),128))])):P("",!0)]),_:3}),n.actions&&n.actions.length>0?(v(),V(Xe,{key:4,"menu-items":n.actions,modelValue:i.value,"onUpdate:modelValue":r[2]||(r[2]=l=>i.value=l)},{activator:s(({props:l})=>[_(ee,K(l,{class:"text-gray-light",onClick:r[0]||(r[0]=d=>e("click:actionMenu"))}),{default:s(()=>r[4]||(r[4]=[k(" mdi-dots-vertical ")])),_:2,__:[4]},1040)]),default:s(()=>[_(Ce,{density:"compact",items:n.actions,"onClick:select":r[1]||(r[1]=l=>n.$emit("click:action",l.id))},{item:s(({props:l})=>[_(pe,{"prepend-icon":l.prependIcon,value:l.value,disabled:l.disabled},{default:s(()=>[k(p(l.title),1)]),_:2},1032,["prepend-icon","value","disabled"])]),_:1},8,["items"])]),_:1},8,["menu-items","modelValue"])):P("",!0)])]),_:3}))}}),at=Q(Fo,[["__scopeId","data-v-39da8931"]]),jo={class:"pl-8 text-disabled"},ot=E({__name:"VTreeViewEmptyItem",setup(t){const{t:u}=W();return(o,i)=>(v(),V(pe,null,{default:s(()=>[y("span",jo,p(f(u)("common.list.empty")),1)]),_:1}))}}),Oo=E({__name:"DeleteCollectionDialog",props:{modelValue:{type:Boolean},catalogName:{},entityType:{}},emits:["update:modelValue"],setup(t,{emit:u}){const o=xe(),i=j(),{t:e}=W(),a=t,n=u;async function r(){try{return await o.deleteCollection(a.catalogName,a.entityType)?await i.success(e("explorer.collection.delete.notification.collectionDeleted",{entityType:a.entityType})):await i.info(e("explorer.collection.delete.notification.collectionNotDeleted",{entityType:a.entityType})),!0}catch(l){return await i.error(e("explorer.collection.delete.notification.couldNotDeleteCollection",{entityType:a.entityType,reason:l.message})),!1}}return(l,d)=>{const b=Z("I18nT");return v(),V(Y,{"model-value":l.modelValue,dangerous:"",changed:"","confirm-button-icon":"mdi-delete-outline",confirm:r,"onUpdate:modelValue":d[0]||(d[0]=g=>n("update:modelValue",g))},{title:s(()=>[_(b,{keypath:"explorer.collection.delete.title"},{entityType:s(()=>[y("strong",null,p(l.entityType),1)]),_:1})]),"prepend-form":s(()=>[k(p(f(e)("explorer.collection.delete.question")),1)]),"confirm-button-body":s(()=>[k(p(f(e)("common.button.delete")),1)]),_:1},8,["model-value"])}}}),qo=E({__name:"RenameCollectionDialog",props:{modelValue:{type:Boolean},catalogName:{},entityType:{}},emits:["update:modelValue"],setup(t,{emit:u}){const o=xe(),i=j(),{t:e}=W(),a=t,n=u,r=[c=>c!=null&&c.trim().length>0?!0:e("explorer.collection.rename.form.newName.validations.required"),async c=>{const h=await o.isEntityTypeValid(c);return h==null?!0:e(`explorer.collection.rename.form.newName.validations.${h}`)},async c=>c===a.entityType||await o.isEntityTypeAvailable(a.catalogName,c)?!0:e("explorer.collection.rename.form.newName.validations.notAvailable")],l=N(a.entityType),d=x(()=>l.value!==a.entityType);function b(){l.value=a.entityType}async function g(){try{return await o.renameCollection(a.catalogName,a.entityType,l.value)?await i.success(e("explorer.collection.rename.notification.collectionRenamed",{entityType:a.entityType,newName:l.value})):await i.info(e("explorer.collection.rename.notification.collectionNotRenamed",{entityType:a.entityType})),!0}catch(c){return await i.error(e("explorer.collection.rename.notification.couldNotRenameCollection",{entityType:a.entityType,reason:c.message})),!1}}return(c,h)=>{const w=Z("I18nT");return v(),V(Y,{"model-value":c.modelValue,changed:d.value,dangerous:"","confirm-button-icon":"mdi-pencil-outline",confirm:g,reset:b,"onUpdate:modelValue":h[1]||(h[1]=m=>n("update:modelValue",m))},{title:s(()=>[_(w,{keypath:"explorer.collection.rename.title"},{entityType:s(()=>[y("strong",null,p(c.entityType),1)]),_:1})]),default:s(()=>[_(me,{modelValue:l.value,"onUpdate:modelValue":h[0]||(h[0]=m=>l.value=m),label:f(e)("explorer.collection.rename.form.newName.label"),rules:r,required:""},null,8,["modelValue","label"])]),"confirm-button-body":s(()=>[k(p(f(e)("common.button.rename")),1)]),_:1},8,["model-value","changed"])}}}),lt=Symbol("serverStatus");function Yo(t){Ze(lt,t)}function nt(){return Ke(lt)}const rt=Symbol("catalog");function Go(t){Ze(rt,t)}function Xo(){return Ke(rt)}const Ko={class:"tree-view-item-data__content"},Zo={class:"tree-view-item-data__content"},Jo=E({__name:"CollectionItem",props:{entityCollection:{}},setup(t){const u=se(),o=oa(),i=la(),e=t,a=nt(),n=N(!1),r=N(!1),l=Xo(),d=N(),b=x(()=>d.value==null?[]:Array.from(d.value.values()));if(F([a,l,()=>e.entityCollection],async()=>d.value=await h(),{immediate:!0}),l.value==null)throw new na("Catalog is not loaded yet, but collection item is already rendered!");function g(){u.createTab(o.createNew(l.value.name,e.entityCollection.entityType,void 0,!0))}function c(w){const m=d.value?.get(w);m instanceof Be&&m.execute()}async function h(){return await i.createItems(a.value,l.value,e.entityCollection,()=>r.value=!0,()=>n.value=!0)}return(w,m)=>(v(),B("div",null,[_(at,{"prepend-icon":"mdi-list-box-outline",actions:b.value,onClick:g,"onClick:action":c,class:"text-gray-light"},{default:s(()=>[y("div",Ko,[y("span",null,p(w.entityCollection.entityType),1),_(Me,{size:"x-small",label:"",class:"chip ml-2",variant:"plain"},{default:s(()=>[k(p(f(Pe)(w.entityCollection.totalRecords,1)),1)]),_:1})])]),tooltip:s(()=>[y("div",Zo,[y("span",null,p(w.entityCollection.entityType),1),_(Me,{size:"x-small",label:"",class:"chip ml-2",variant:"plain"},{default:s(()=>[k(p(f(Pe)(w.entityCollection.totalRecords,1)),1)]),_:1})])]),_:1},8,["actions"]),r.value?(v(),V(qo,{key:0,modelValue:r.value,"onUpdate:modelValue":m[0]||(m[0]=C=>r.value=C),"catalog-name":f(l).name,"entity-type":w.entityCollection.entityType},null,8,["modelValue","catalog-name","entity-type"])):P("",!0),n.value?(v(),V(Oo,{key:1,modelValue:n.value,"onUpdate:modelValue":m[1]||(m[1]=C=>n.value=C),"catalog-name":f(l).name,"entity-type":w.entityCollection.entityType},null,8,["modelValue","catalog-name","entity-type"])):P("",!0)]))}}),Qo=Q(Jo,[["__scopeId","data-v-8ae9268e"]]),el=E({__name:"RenameCatalogDialog",props:{modelValue:{type:Boolean},catalog:{}},emits:["update:modelValue"],setup(t,{emit:u}){const o=te(),i=j(),{t:e}=W(),a=t,n=u,r=[c=>c!=null&&c.trim().length>0?!0:e("explorer.catalog.rename.form.newName.validations.required"),async c=>{const h=await o.isCatalogNameValid(c);return h==null?!0:e(`explorer.catalog.rename.form.newName.validations.${h}`)},async c=>c===a.catalog.name||await o.isCatalogNameAvailable(c)?!0:e("explorer.catalog.rename.form.newName.validations.notAvailable")],l=N(a.catalog.name),d=x(()=>a.catalog.name!==l.value);function b(){l.value=a.catalog.name}async function g(){try{return o.renameCatalogWithProgress(a.catalog,l.value),await i.info(e("explorer.catalog.rename.notification.catalogRenameStarted",{catalogName:a.catalog.name})),!0}catch(c){return await i.error(e("explorer.catalog.rename.notification.couldNotRenameCatalog",{catalogName:a.catalog.name,reason:c.message})),!1}}return(c,h)=>{const w=Z("I18nT");return v(),V(Y,{"model-value":c.modelValue,changed:d.value,dangerous:"","confirm-button-icon":"mdi-pencil-outline",confirm:g,reset:b,"onUpdate:modelValue":h[1]||(h[1]=m=>n("update:modelValue",m))},{title:s(()=>[_(w,{keypath:"explorer.catalog.rename.title"},{catalogName:s(()=>[y("strong",null,p(c.catalog.name),1)]),_:1})]),default:s(()=>[_(me,{modelValue:l.value,"onUpdate:modelValue":h[0]||(h[0]=m=>l.value=m),label:f(e)("explorer.catalog.rename.form.newName.label"),rules:r,required:""},null,8,["modelValue","label"])]),"confirm-button-body":s(()=>[k(p(f(e)("common.button.rename")),1)]),_:1},8,["model-value","changed"])}}}),tl=E({__name:"DeleteCatalogDialog",props:{modelValue:{type:Boolean},catalogName:{}},emits:["update:modelValue"],setup(t,{emit:u}){const o=te(),i=j(),{t:e}=W(),a=t,n=u;async function r(){try{return await o.deleteCatalog(a.catalogName)?await i.success(e("explorer.catalog.delete.notification.catalogDeleted",{catalogName:a.catalogName})):await i.info(e("explorer.catalog.delete.notification.catalogNotDeleted",{catalogName:a.catalogName})),!0}catch(l){return await i.error(e("explorer.catalog.delete.notification.couldNotDeleteCatalog",{catalogName:a.catalogName,reason:l.message})),!1}}return(l,d)=>{const b=Z("I18nT");return v(),V(Y,{"model-value":l.modelValue,dangerous:"",changed:"","confirm-button-icon":"mdi-delete-outline",confirm:r,"onUpdate:modelValue":d[0]||(d[0]=g=>n("update:modelValue",g))},{title:s(()=>[_(b,{keypath:"explorer.catalog.delete.title"},{catalogName:s(()=>[y("strong",null,p(l.catalogName),1)]),_:1})]),"prepend-form":s(()=>[k(p(f(e)("explorer.catalog.delete.question")),1)]),"confirm-button-body":s(()=>[k(p(f(e)("common.button.delete")),1)]),_:1},8,["model-value"])}}}),al=E({__name:"ReplaceCatalogDialog",props:{modelValue:{type:Boolean},catalog:{}},emits:["update:modelValue"],setup(t,{emit:u}){const o=te(),i=j(),{t:e}=W(),a=t,n=u,r=[m=>m!=null&&m.trim().length>0?!0:e("explorer.catalog.replace.form.catalogNameToBeReplacedWith.validations.required"),async m=>m===a.catalog.name||await o.isCatalogExists(m)?!0:e("explorer.catalog.replace.form.catalogNameToBeReplacedWith.validations.notExists")],l=N(),d=x(()=>l.value==null?[]:l.value.map(m=>m.name)),b=N(!1),g=N(),c=x(()=>g.value!=null&&g.value.length>0);o.getCatalogs().then(m=>{l.value=m.filter(C=>C.name!==a.catalog.name).toArray(),b.value=!0});function h(){l.value=[],b.value=!1,g.value=""}async function w(){try{return o.replaceCatalogWithProgress(a.catalog,g.value),await i.info(e("explorer.catalog.replace.notification.catalogReplacementStarted",{catalogName:a.catalog.name})),!0}catch(m){return await i.error(e("explorer.catalog.replace.notification.couldNotReplaceCatalog",{catalogNameToBeReplaced:a.catalog.name,reason:m.message})),!1}}return(m,C)=>{const S=Z("I18nT");return v(),V(Y,{"model-value":m.modelValue,dangerous:"",changed:c.value,"confirm-button-icon":"mdi-file-replace-outline",confirm:w,reset:h,"onUpdate:modelValue":C[1]||(C[1]=I=>n("update:modelValue",I))},{title:s(()=>[_(S,{keypath:"explorer.catalog.replace.title"},{catalogNameToBeReplaced:s(()=>[y("strong",null,p(m.catalog.name),1)]),_:1})]),default:s(()=>[_(Ye,{modelValue:g.value,"onUpdate:modelValue":C[0]||(C[0]=I=>g.value=I),label:f(e)("explorer.catalog.replace.form.catalogNameToBeReplacedWith.label"),items:d.value,rules:r},null,8,["modelValue","label","items"])]),"append-form":s(()=>[_(he,{icon:"mdi-information-outline",type:"info"},{default:s(()=>[_(S,{keypath:"explorer.catalog.replace.info"},ra({catalogNameToBeReplaced:s(()=>[y("strong",null,p(m.catalog.name),1)]),_:2},[c.value?{name:"catalogNameToBeReplacedWith",fn:s(()=>[y("strong",null,p(g.value),1)]),key:"0"}:{name:"catalogNameToBeReplacedWith",fn:s(()=>[C[2]||(C[2]=y("strong",null,"?",-1))]),key:"1"}]),1024)]),_:1})]),"confirm-button-body":s(()=>[k(p(f(e)("common.button.replace")),1)]),_:1},8,["model-value","changed"])}}}),ol=E({__name:"CreateCollectionDialog",props:{modelValue:{type:Boolean},catalogName:{}},emits:["update:modelValue"],setup(t,{emit:u}){const o=xe(),i=j(),{t:e}=W(),a=t,n=u,r=[c=>c!=null&&c.trim().length>0?!0:e("explorer.collection.create.form.entityType.validations.required"),async c=>{const h=await o.isEntityTypeValid(c);return h==null?!0:e(`explorer.collection.create.form.entityType.validations.${h}`)},async c=>await o.isEntityTypeAvailable(a.catalogName,c)?!0:e("explorer.collection.create.form.entityType.validations.notAvailable")],l=N(""),d=x(()=>l.value.length>0);function b(){l.value=""}async function g(){try{return await o.createCollection(a.catalogName,l.value),await i.success(e("explorer.collection.create.notification.collectionCreated",{entityType:l.value})),!0}catch(c){return await i.error(e("explorer.collection.create.notification.couldNotCreateCollection",{entityType:l.value,reason:c.message})),!1}}return(c,h)=>{const w=Z("I18nT");return v(),V(Y,{"model-value":c.modelValue,changed:d.value,"confirm-button-icon":"mdi-plus",confirm:g,reset:b,"onUpdate:modelValue":h[1]||(h[1]=m=>n("update:modelValue",m))},{title:s(()=>[_(w,{keypath:"explorer.collection.create.title"},{catalogName:s(()=>[y("strong",null,p(c.catalogName),1)]),_:1})]),default:s(()=>[_(me,{modelValue:l.value,"onUpdate:modelValue":h[0]||(h[0]=m=>l.value=m),label:f(e)("explorer.collection.create.form.entityType.label"),rules:r,required:""},null,8,["modelValue","label"])]),"confirm-button-body":s(()=>[k(p(f(e)("common.button.create")),1)]),_:1},8,["model-value","changed"])}}}),ll=E({__name:"SwitchCatalogToAliveStateDialog",props:{modelValue:{type:Boolean},catalog:{}},emits:["update:modelValue"],setup(t,{emit:u}){const o=te(),i=j(),{t:e}=W(),a=t,n=u;async function r(){try{return o.switchCatalogAliveWithProgress(a.catalog),await i.info(e("explorer.catalog.switchToAliveState.notification.catalogSwitchStarted",{catalogName:a.catalog.name})),!0}catch(l){return await i.error(e("explorer.catalog.switchToAliveState.notification.couldNotSwitchCatalog",{catalogName:a.catalog.name,reason:l.message})),!1}}return(l,d)=>{const b=Z("I18nT");return v(),V(Y,{"model-value":l.modelValue,dangerous:"",changed:"","confirm-button-icon":"mdi-toggle-switch-outline",confirm:r,"onUpdate:modelValue":d[0]||(d[0]=g=>n("update:modelValue",g))},{title:s(()=>[_(b,{keypath:"explorer.catalog.switchToAliveState.title"},{catalogName:s(()=>[y("strong",null,p(l.catalog.name),1)]),_:1})]),"prepend-form":s(()=>[k(p(f(e)("explorer.catalog.switchToAliveState.description")),1)]),"append-form":s(()=>[_(he,{icon:"mdi-alert-outline",type:"warning"},{default:s(()=>[k(p(f(e)("explorer.catalog.switchToAliveState.warning")),1)]),_:1})]),"confirm-button-body":s(()=>[k(p(f(e)("common.button.switch")),1)]),_:1},8,["model-value"])}}}),nl=E({__name:"DuplicateCatalogDialog",props:{modelValue:{type:Boolean},catalog:{}},emits:["update:modelValue"],setup(t,{emit:u}){const{t:o}=W(),i=te(),e=j(),a=t,n=u,r=N(),l=[c=>c!=null&&c.trim().length>0?!0:o("explorer.catalog.duplication.form.duplicationName.validations.required"),async c=>{const h=await i.isCatalogNameValid(c);return h==null?!0:o(`explorer.catalog.duplication.form.duplicationName.validations.${h}`)},async c=>c===a.catalog.name||await i.isCatalogNameAvailable(c)?!0:o("explorer.catalog.duplication.form.duplicationName.validations.notAvailable")],d=x(()=>a.catalog.name!==r.value);async function b(){try{return i.duplicateCatalogWithProgress(a.catalog,r.value),await e.info(o("explorer.catalog.duplication.notification.catalogDuplicationStarted",{catalogName:a.catalog.name})),!0}catch(c){return await e.error(o("explorer.catalog.duplication.notification.couldNotDuplicateCatalog",{catalogName:a.catalog.name,reason:c.message})),!1}}async function g(){r.value=""}return(c,h)=>{const w=Z("I18nT");return v(),V(Y,{"model-value":c.modelValue,confirm:b,"confirm-button-icon":"mdi-content-duplicate",changed:d.value,reset:g,"onUpdate:modelValue":h[1]||(h[1]=m=>n("update:modelValue",m))},{title:s(()=>[_(w,{keypath:"explorer.catalog.duplication.title"},{catalogName:s(()=>[y("strong",null,p(c.catalog.name),1)]),_:1})]),default:s(()=>[_(me,{modelValue:f(r),"onUpdate:modelValue":h[0]||(h[0]=m=>ia(r)?r.value=m:null),label:f(o)("explorer.catalog.duplication.form.duplicationName.label"),rules:l,required:""},null,8,["modelValue","label"])]),"confirm-button-body":s(()=>[k(p(f(o)("common.button.duplicate")),1)]),_:1},8,["model-value","changed"])}}}),rl=E({__name:"ActivateCatalog",props:{modelValue:{type:Boolean},catalog:{}},emits:["update:modelValue"],setup(t,{emit:u}){const o=t,i=u,{t:e}=W(),a=j(),n=te(),r=x(()=>o.catalog!=null);async function l(){try{return n.activateCatalogWithProgress(o.catalog),await a.info(e("explorer.catalog.activateCatalog.notification.catalogActivationStarted",{catalogName:o.catalog.name})),!0}catch(d){return await a.error(e("explorer.catalog.activateCatalog.notification.couldNotActivateCatalog",{catalogName:o.catalog.name,reason:d.message})),!1}}return(d,b)=>{const g=Z("I18nT");return v(),V(Y,{"model-value":d.modelValue,confirm:l,changed:f(r),"confirm-button-icon":"mdi-check-circle-outline","onUpdate:modelValue":b[0]||(b[0]=c=>i("update:modelValue",c))},{title:s(()=>[_(g,{keypath:"explorer.catalog.activateCatalog.title"},{catalogName:s(()=>[y("strong",null,p(d.catalog.name),1)]),_:1})]),"prepend-form":s(()=>[k(p(f(e)("explorer.catalog.activateCatalog.description")),1)]),"confirm-button-body":s(()=>[k(p(f(e)("common.button.activateCatalog")),1)]),_:1},8,["model-value","changed"])}}}),il=E({__name:"DeactivateCatalog",props:{modelValue:{type:Boolean},catalog:{}},emits:["update:modelValue"],setup(t,{emit:u}){const o=t,i=u,{t:e}=W(),a=te(),n=j(),r=x(()=>o.catalog!=null);async function l(){try{return a.deactivateCatalogWithProgress(o.catalog),await n.info(e("explorer.catalog.deactivateCatalog.notification.catalogDeactivationStarted")),!0}catch(d){return await n.error(e("explorer.catalog.deactivateCatalog.notification.couldNotDeactivateCatalog",{catalogName:o.catalog.name,reason:d.message})),!1}}return(d,b)=>{const g=Z("I18nT");return v(),V(Y,{"model-value":d.modelValue,confirm:l,changed:f(r),"confirm-button-icon":"mdi-close-circle-outline","onUpdate:modelValue":b[0]||(b[0]=c=>i("update:modelValue",c))},{title:s(()=>[_(g,{keypath:"explorer.catalog.deactivateCatalog.title"},{catalogName:s(()=>[y("strong",null,p(d.catalog.name),1)]),_:1})]),"prepend-form":s(()=>[k(p(f(e)("explorer.catalog.deactivateCatalog.description")),1)]),"confirm-button-body":s(()=>[k(p(f(e)("common.button.deactivateCatalog")),1)]),_:1},8,["model-value","changed"])}}}),sl=E({__name:"MakeCatalogImmutable",props:{modelValue:{type:Boolean},catalog:{}},emits:["update:modelValue"],setup(t,{emit:u}){const o=t,i=u,{t:e}=W(),a=te(),n=j(),r=x(()=>o.catalog!=null);async function l(){try{return a.makeCatalogImmutableWithProgress(o.catalog),await n.info(e("explorer.catalog.makeCatalogImmutable.notification.catalogImmutableSwitchStarted",{catalogName:o.catalog.name})),!0}catch(d){return await n.error(e("explorer.catalog.makeCatalogImmutable.notification.couldNotMakeCatalogImmutable",{catalogName:o.catalog.name,reason:d.message})),!1}}return(d,b)=>{const g=Z("I18nT");return v(),V(Y,{"model-value":d.modelValue,confirm:l,changed:f(r),"confirm-button-icon":"mdi-lock-outline","onUpdate:modelValue":b[0]||(b[0]=c=>i("update:modelValue",c))},{title:s(()=>[_(g,{keypath:"explorer.catalog.makeCatalogImmutable.title"},{catalogName:s(()=>[y("strong",null,p(d.catalog.name),1)]),_:1})]),"prepend-form":s(()=>[k(p(f(e)("explorer.catalog.makeCatalogImmutable.description")),1)]),"confirm-button-body":s(()=>[k(p(f(e)("common.button.makeCatalogImmutable")),1)]),_:1},8,["model-value","changed"])}}}),cl=E({__name:"MakeCatalogMutable",props:{modelValue:{type:Boolean},catalog:{}},emits:["update:modelValue"],setup(t,{emit:u}){const o=t,i=u,{t:e}=W(),a=te(),n=j(),r=x(()=>o.catalog!=null);async function l(){try{return a.makeCatalogMutableWithProgress(o.catalog),await n.info(e("explorer.catalog.makeCatalogMutable.notification.catalogMutableSwitchStarted",{catalogName:o.catalog.name})),!0}catch(d){return await n.error(e("explorer.catalog.makeCatalogMutable.notification.couldNotMakeCatalogMutable",{catalogName:o.catalog.name,reason:d.message})),!1}}return(d,b)=>{const g=Z("I18nT");return v(),V(Y,{"model-value":d.modelValue,confirm:l,changed:f(r),"confirm-button-icon":"mdi-lock-open-variant-outline","onUpdate:modelValue":b[0]||(b[0]=c=>i("update:modelValue",c))},{title:s(()=>[_(g,{keypath:"explorer.catalog.makeCatalogMutable.title"},{catalogName:s(()=>[y("strong",null,p(d.catalog.name),1)]),_:1})]),"prepend-form":s(()=>[k(p(f(e)("explorer.catalog.makeCatalogMutable.description")),1)]),"confirm-button-body":s(()=>[k(p(f(e)("common.button.makeCatalogMutable")),1)]),_:1},8,["model-value","changed"])}}}),ul={key:0},dl={key:1},ml={key:0},vl=E({__name:"CatalogItem",props:{catalog:{}},setup(t){const u=te(),o=sa(),i=ca(),e=se(),a=j(),{t:n}=W(),r=t,l=le(r,"catalog"),d=nt(),b=N(!1),g=N(!1),c=N(!1),h=N(!1),w=N(!1),m=N(!1),C=N(!1),S=N(!1),I=N(!1),U=N(!1),z=N(!1),L=N([]);de(()=>T());function T(){if(L.value=[],r.catalog.catalogState===_e.Corrupted?L.value.push(oe.error(n("explorer.catalog.flag.corrupted"))):r.catalog.catalogState===_e.WarmingUp?L.value.push(oe.warning(n("explorer.catalog.flag.warmingUp"))):r.catalog.catalogState!==_e.Alive&&L.value.push(oe.info(n(`explorer.catalog.flag.${r.catalog.catalogState.toString()}`))),r.catalog.progresses)for(const D of r.catalog.progresses)L.value.push(oe.info(n(`explorer.catalog.flag.${D[0]}`,[D[1]])))}const $=N();F(l,()=>{T()},{deep:!0}),F([d,()=>r.catalog],async()=>$.value=await ye(),{immediate:!0});const A=x(()=>$.value==null?[]:Array.from($.value.values())),H=x(()=>ua(r.catalog.entityCollectionStatistics).sort((D,R)=>D.entityType.localeCompare(R.entityType)));Go(l);const G=N(!1);async function X(){try{await u.closeSharedSession(r.catalog.name),await a.success(n("explorer.catalog.notification.closedSharedSession",{catalogName:r.catalog.name}))}catch(D){await a.error(n("explorer.catalog.notification.couldNotCloseSharedSession",{catalogName:r.catalog.name,reason:D.message}))}}function ce(D){const R=$.value?.get(D);R&&R instanceof Be&&R.execute()}async function ye(){return await o.createItems(d.value,r.catalog,()=>X().then(),()=>b.value=!0,()=>C.value=!0,()=>g.value=!0,()=>S.value=!0,()=>I.value=!0,()=>U.value=!0,()=>z.value=!0,()=>c.value=!0,()=>h.value=!0,()=>w.value=!0,()=>m.value=!0,r.catalog.catalogState)}return(D,R)=>(v(),V(da,{value:D.catalog.name},{activator:s(({isOpen:M,props:be})=>[_(at,K(be,{openable:!D.catalog.unusable,"is-open":M,"prepend-icon":D.catalog.readOnly?"mdi-database-eye-outline":"mdi-database-outline",loading:G.value,flags:L.value,actions:A.value,"is-read-only":f(d)?.readOnly,"catalog-name":D.catalog.name,"onClick:action":ce,class:"text-gray-light"}),{default:s(()=>[y("span",null,p(D.catalog.name),1)]),tooltip:s(()=>[D.catalog.readOnly?(v(),B("span",dl,p(D.catalog.name)+" "+p(f(n)("explorer.catalog.title.readOnly")),1)):(v(),B("span",ul,p(D.catalog.name),1))]),_:2},1040,["openable","is-open","prepend-icon","loading","flags","actions","is-read-only","catalog-name"])]),default:s(()=>[D.catalog.unusable?P("",!0):(v(),B("div",ml,[D.catalog.entityCollectionStatistics.size>0?(v(!0),B(O,{key:0},ne(H.value,M=>(v(),V(Qo,{key:M.entityType,"entity-collection":M},null,8,["entity-collection"]))),128)):(v(),V(ot,{key:1}))])),_(ma,{"model-value":m.value,"catalog-name":D.catalog.name,"onUpdate:modelValue":R[0]||(R[0]=M=>m.value=M),onBackup:R[1]||(R[1]=()=>{m.value=!1,f(e).createTab(f(i).createNew())})},null,8,["model-value","catalog-name"]),b.value?(v(),V(el,{key:1,modelValue:b.value,"onUpdate:modelValue":R[2]||(R[2]=M=>b.value=M),catalog:D.catalog},null,8,["modelValue","catalog"])):P("",!0),C.value?(v(),V(nl,{key:2,modelValue:C.value,"onUpdate:modelValue":R[3]||(R[3]=M=>C.value=M),catalog:D.catalog},null,8,["modelValue","catalog"])):P("",!0),g.value?(v(),V(al,{key:3,modelValue:g.value,"onUpdate:modelValue":R[4]||(R[4]=M=>g.value=M),catalog:D.catalog},null,8,["modelValue","catalog"])):P("",!0),U.value?(v(),V(rl,{key:4,modelValue:U.value,"onUpdate:modelValue":R[5]||(R[5]=M=>U.value=M),catalog:D.catalog},null,8,["modelValue","catalog"])):P("",!0),z.value?(v(),V(il,{key:5,modelValue:z.value,"onUpdate:modelValue":R[6]||(R[6]=M=>z.value=M),catalog:D.catalog},null,8,["modelValue","catalog"])):P("",!0),I.value?(v(),V(sl,{key:6,modelValue:I.value,"onUpdate:modelValue":R[7]||(R[7]=M=>I.value=M),catalog:D.catalog},null,8,["modelValue","catalog"])):P("",!0),S.value?(v(),V(cl,{key:7,modelValue:S.value,"onUpdate:modelValue":R[8]||(R[8]=M=>S.value=M),catalog:D.catalog},null,8,["modelValue","catalog"])):P("",!0),c.value?(v(),V(ll,{key:8,modelValue:c.value,"onUpdate:modelValue":R[9]||(R[9]=M=>c.value=M),catalog:D.catalog},null,8,["modelValue","catalog"])):P("",!0),h.value?(v(),V(tl,{key:9,modelValue:h.value,"onUpdate:modelValue":R[10]||(R[10]=M=>h.value=M),"catalog-name":D.catalog.name},null,8,["modelValue","catalog-name"])):P("",!0),w.value?(v(),V(ol,{key:10,modelValue:w.value,"onUpdate:modelValue":R[11]||(R[11]=M=>w.value=M),"catalog-name":D.catalog.name},null,8,["modelValue","catalog-name"])):P("",!0)]),_:1},8,["value"]))}}),gl={class:"panel-header"},pl={class:"text-gray-light text-sm-body-2 font-weight-medium"},fl={class:"d-inline-flex align-center"},hl=E({__name:"ConnectionExplorerPanel",setup(t){const u=va(),o=ga(),i=j(),{t:e}=W();let a=!1;const n=N(!1),r=N(),l=u.registerServerStatusChangeCallback(async()=>{await C()});Yo(r);const d=N(),b=u.registerCatalogChangeCallback(async()=>{await S()}),g=N(!1),c=N();F(r,async()=>c.value=await I(),{immediate:!0});const h=N(!1),w=x(()=>c.value==null?[]:Array.from(c.value.values()));async function m(){a||(n.value=!0,a=await C().then(z=>z?S():!1),n.value=!1)}async function C(){try{return r.value=await u.getServerStatus(),!0}catch(z){return await i.error(e("explorer.connection.notification.couldNotLoadServerStatus",{reason:z.message})),!1}}async function S(){try{return d.value=await u.getCatalogs(),!0}catch(z){return await i.error(e("explorer.connection.notification.couldNotLoadCatalogs",{reason:z.message})),!1}}async function I(){return o.createItems(r.value,()=>g.value=!0,()=>n.value=!0,()=>n.value=!1)}function U(z){if(c.value==null)return;const L=c.value.get(z);L instanceof Be&&L.execute()}return Ge(()=>{u.unregisterServerStatusChangeCallback(l),u.unregisterCatalogChangeCallback(b)}),m().then(),(z,L)=>(v(),V(Ba,{permanent:"",width:325,"onUpdate:modelValue":L[3]||(L[3]=T=>z.$emit("update:modelValue",T)),class:"bg-primary"},{default:s(()=>[_(Ce,{density:"compact",nav:""},{default:s(()=>[y("div",gl,[y("span",pl,[y("span",fl,[k(p(f(e)("explorer.title"))+" ",1),_(re,{location:"bottom"},{activator:s(({props:T})=>[r.value?.readOnly?(v(),V(ee,K({key:0},T,{class:"icon",icon:"mdi-eye-outline"}),null,16)):P("",!0)]),default:s(()=>[k(p(f(e)("explorer.readOnlyToolTip"))+" ",1)]),_:1})])]),_(Xe,{"menu-items":c.value,modelValue:h.value,"onUpdate:modelValue":L[1]||(L[1]=T=>h.value=T)},{activator:s(({props:T})=>[n.value?(v(),V(pa,K({key:0},T,{indeterminate:"",size:"16",class:"connection-loading"}),null,16)):(v(),V(ee,K({key:1},T,{class:"text-gray-light"}),{default:s(()=>L[4]||(L[4]=[k(" mdi-dots-vertical ")])),_:2,__:[4]},1040))]),default:s(()=>[_(Ce,{density:"compact",items:w.value,"onClick:select":L[0]||(L[0]=T=>U(T.id))},{item:s(({props:T})=>[_(pe,{"prepend-icon":T.prependIcon,value:T.value,disabled:T.disabled},{default:s(()=>[k(p(T.title),1)]),_:2},1032,["prepend-icon","value","disabled"])]),_:1},8,["items"])]),_:1},8,["menu-items","modelValue"])]),d.value!=null&&d.value.size>0?(v(!0),B(O,{key:0},ne(d.value,T=>(v(),V(vl,{key:T.name,catalog:T},null,8,["catalog"]))),128)):(v(),V(ot,{key:1})),g.value?(v(),V(Ao,{key:2,modelValue:g.value,"onUpdate:modelValue":L[2]||(L[2]=T=>g.value=T)},null,8,["modelValue"])):P("",!0)]),_:1})]),_:1}))}}),Sl=Q(hl,[["__scopeId","data-v-5c8c2fb5"]]);export{Sl as C,Ba as V,wl as W,_l as a};
