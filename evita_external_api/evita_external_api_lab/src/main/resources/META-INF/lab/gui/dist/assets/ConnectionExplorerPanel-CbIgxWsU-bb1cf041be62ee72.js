/*
 *
 *                         _ _        ____  ____
 *               _____   _(_) |_ __ _|  _ \| __ )
 *              / _ \ \ / / | __/ _` | | | |  _ \
 *             |  __/\ V /| | || (_| | |_| | |_) |
 *              \___| \_/ |_|\__\__,_|____/|____/
 *
 *   Copyright (c) 2025
 *
 *   Licensed under the Business Source License, Version 1.1 (the "License");
 *   you may not use this file except in compliance with the License.
 *   You may obtain a copy of the License at
 *
 *   https://github.com/FgForrest/evitaDB/blob/master/LICENSE
 *
 *   Unless required by applicable law or agreed to in writing, software
 *   distributed under the License is distributed on an "AS IS" BASIS,
 *   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 *   See the License for the specific language governing permissions and
 *   limitations under the License.
 */

import{p as fe,Q as N,R as J,L as x,S as Ae,T as F,v as de,U as Ve,g as ke,W as We,X as ne,Y as ue,Z as Te,b as Ne,$ as st,a0 as $e,h as w,H as K,a1 as He,a2 as ct,a3 as ze,a4 as ut,e as Fe,n as dt,d as ge,c as b,a5 as mt,a6 as vt,a7 as gt,u as pt,a as ft,a8 as ht,a9 as Re,aa as yt,ab as bt,ac as _t,ad as wt,ae as St,af as Ct,ag as Vt,ah as kt,m as Tt,ai as Nt,aj as It,ak as xt,al as Dt,am as Bt,an as $t,ao as Rt,F as O,ap as Et,P as Ie,aq as Mt,i as E,t as H,j as D,o as v,ar as je,D as p,K as f,_ as Q,l as se,f as V,B as P,as as Pt,at as Lt,au as Ut,av as At,aw as Wt,A as T,ax as le,r as Z,w as s,ay as Ht,N as Oe,az as qe,aA as Ee,s as j,aB as Y,aC as Ye,aD as he,I as we,aE as zt,aF as Ft,aG as jt,aH as Ot,aI as qt,aJ as Yt,aK as Gt,k as Xt,aL as Kt,C as te,x as Ge,aM as Zt,aN as Jt,aO as Qt,aP as Se,J as ie,G as ea,aQ as ae,E as ta,aR as aa,aS as ee,aT as me,O as pe,V as Xe,y as Ce,aU as xe,aV as Ke,aW as Ze,aX as oa,aY as la,aZ as na,a_ as Me,a$ as Pe,b0 as De,b1 as ra,b2 as ia,b3 as sa,b4 as ca,b5 as _e,b6 as ua,b7 as da,b8 as ma,b9 as va,ba as ga,bb as pa}from"./index-bb1cf041be62ee72.js";import{u as Je,a as Qe,b as fa}from"./layout-PjRfgy-A-bb1cf041be62ee72.js";const ha=fe({scrollTarget:{type:String},scrollThreshold:{type:[String,Number],default:300}},"scroll");function ya(t){let d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{canScroll:o}=d;let i=0,e=0;const a=N(null),r=J(0),n=J(0),l=J(0),u=J(!1),y=J(!1),g=x(()=>Number(t.scrollThreshold)),c=x(()=>Ae((g.value-r.value)/g.value||0)),h=()=>{const _=a.value;if(!_||o&&!o.value)return;i=r.value,r.value="window"in _?_.pageYOffset:_.scrollTop;const m=_ instanceof Window?document.documentElement.scrollHeight:_.scrollHeight;if(e!==m){e=m;return}y.value=r.value<i,l.value=Math.abs(r.value-g.value)};return F(y,()=>{n.value=n.value||r.value}),F(u,()=>{n.value=0}),de(()=>{F(()=>t.scrollTarget,_=>{const m=_?document.querySelector(_):window;m&&m!==a.value&&(a.value?.removeEventListener("scroll",h),a.value=m,a.value.addEventListener("scroll",h,{passive:!0}))},{immediate:!0})}),Ve(()=>{a.value?.removeEventListener("scroll",h)}),o&&F(o,h,{immediate:!0}),{scrollThreshold:g,currentScroll:r,currentThreshold:l,isScrollActive:u,scrollRatio:c,isScrollingUp:y,savedScroll:n}}const ba=fe({scrollBehavior:String,modelValue:{type:Boolean,default:!0},location:{type:String,default:"top",validator:t=>["top","bottom"].includes(t)},...st(),...Qe(),...ha(),height:{type:[Number,String],default:64}},"VAppBar"),et=ke()({name:"VAppBar",props:ba(),emits:{"update:modelValue":t=>!0},setup(t,d){let{slots:o}=d;const i=N(),e=We(t,"modelValue"),a=x(()=>{const I=new Set(t.scrollBehavior?.split(" ")??[]);return{hide:I.has("hide"),fullyHide:I.has("fully-hide"),inverted:I.has("inverted"),collapse:I.has("collapse"),elevate:I.has("elevate"),fadeImage:I.has("fade-image")}}),r=x(()=>{const I=a.value;return I.hide||I.fullyHide||I.inverted||I.collapse||I.elevate||I.fadeImage||!e.value}),{currentScroll:n,scrollThreshold:l,isScrollingUp:u,scrollRatio:y}=ya(t,{canScroll:r}),g=ne(()=>a.value.hide||a.value.fullyHide),c=x(()=>t.collapse||a.value.collapse&&(a.value.inverted?y.value>0:y.value===0)),h=x(()=>t.flat||a.value.fullyHide&&!e.value||a.value.elevate&&(a.value.inverted?n.value>0:n.value===0)),_=x(()=>a.value.fadeImage?a.value.inverted?1-y.value:y.value:void 0),m=x(()=>{if(a.value.hide&&a.value.inverted)return 0;const I=i.value?.contentHeight??0,U=i.value?.extensionHeight??0;return g.value?n.value<l.value||a.value.fullyHide?I+U:I:I+U});ue(()=>!!t.scrollBehavior,()=>{He(()=>{g.value?a.value.inverted?e.value=n.value>l.value:e.value=u.value||n.value<l.value:e.value=!0})});const{ssrBootStyles:C}=Te(),{layoutItemStyles:S}=Je({id:t.name,order:x(()=>parseInt(t.order,10)),position:ne(()=>t.location),layoutSize:m,elementSize:J(void 0),active:e,absolute:ne(()=>t.absolute)});return Ne(()=>{const I=$e.filterProps(t);return w($e,K({ref:i,class:["v-app-bar",{"v-app-bar--bottom":t.location==="bottom"},t.class],style:[{...S.value,"--v-toolbar-image-opacity":_.value,height:void 0,...C.value},t.style]},I,{collapse:c.value,flat:h.value}),o)}),{}}}),_a=fe({scrollable:Boolean,...Fe(),...ut(),...ze({tag:"main"})},"VMain"),wa=ke()({name:"VMain",props:_a(),setup(t,d){let{slots:o}=d;const{dimensionStyles:i}=ct(t),{mainStyles:e}=fa(),{ssrBootStyles:a}=Te();return Ne(()=>w(t.tag,{class:ge(["v-main",{"v-main--scrollable":t.scrollable},t.class]),style:dt([e.value,a.value,i.value,t.style])},{default:()=>[t.scrollable?b("div",{class:"v-main__scroller"},[o.default?.()]):o.default?.()]})),{}}});function Sa(t){let{rootEl:d,isSticky:o,layoutItemStyles:i}=t;const e=J(!1),a=J(0),r=x(()=>{const u=typeof e.value=="boolean"?"top":e.value;return[o.value?{top:"auto",bottom:"auto",height:void 0}:void 0,e.value?{[u]:mt(a.value)}:{top:i.value.top}]});de(()=>{F(o,u=>{u?window.addEventListener("scroll",l,{passive:!0}):window.removeEventListener("scroll",l)},{immediate:!0})}),Ve(()=>{window.removeEventListener("scroll",l)});let n=0;function l(){const u=n>window.scrollY?"up":"down",y=d.value.getBoundingClientRect(),g=parseFloat(i.value.top??0),c=window.scrollY-Math.max(0,a.value-g),h=y.height+Math.max(a.value,g)-window.scrollY-window.innerHeight,_=parseFloat(getComputedStyle(d.value).getPropertyValue("--v-body-scroll-y"))||0;y.height<window.innerHeight-g?(e.value="top",a.value=g):u==="up"&&e.value==="bottom"||u==="down"&&e.value==="top"?(a.value=window.scrollY+y.top-_,e.value=!0):u==="down"&&h<=0?(a.value=0,e.value="bottom"):u==="up"&&c<=0&&(_?e.value!=="top"&&(a.value=-c+_+g,e.value="top"):(a.value=y.top+c,e.value="top")),n=window.scrollY}return{isStuck:e,stickyStyles:r}}const Ca=100,Va=20;function Le(t){return(t<0?-1:1)*Math.sqrt(Math.abs(t))*1.41421356237}function Ue(t){if(t.length<2)return 0;if(t.length===2)return t[1].t===t[0].t?0:(t[1].d-t[0].d)/(t[1].t-t[0].t);let d=0;for(let o=t.length-1;o>0;o--){if(t[o].t===t[o-1].t)continue;const i=Le(d),e=(t[o].d-t[o-1].d)/(t[o].t-t[o-1].t);d+=(e-i)*Math.abs(e),o===t.length-1&&(d*=.5)}return Le(d)*1e3}function ka(){const t={};function d(e){Array.from(e.changedTouches).forEach(a=>{(t[a.identifier]??(t[a.identifier]=new vt(Va))).push([e.timeStamp,a])})}function o(e){Array.from(e.changedTouches).forEach(a=>{delete t[a.identifier]})}function i(e){const a=t[e]?.values().reverse();if(!a)throw new Error(`No samples for touch id ${e}`);const r=a[0],n=[],l=[];for(const u of a){if(r[0]-u[0]>Ca)break;n.push({t:u[0],d:u[1].clientX}),l.push({t:u[0],d:u[1].clientY})}return{x:Ue(n),y:Ue(l),get direction(){const{x:u,y}=this,[g,c]=[Math.abs(u),Math.abs(y)];return g>c&&u>=0?"right":g>c&&u<=0?"left":c>g&&y>=0?"down":c>g&&y<=0?"up":Ta()}}}return{addMovement:d,endTouch:o,getVelocity:i}}function Ta(){throw new Error}function Na(t){let{el:d,isActive:o,isTemporary:i,width:e,touchless:a,position:r}=t;de(()=>{window.addEventListener("touchstart",I,{passive:!0}),window.addEventListener("touchmove",U,{passive:!1}),window.addEventListener("touchend",z,{passive:!0})}),Ve(()=>{window.removeEventListener("touchstart",I),window.removeEventListener("touchmove",U),window.removeEventListener("touchend",z)});const n=x(()=>["left","right"].includes(r.value)),{addMovement:l,endTouch:u,getVelocity:y}=ka();let g=!1;const c=J(!1),h=J(0),_=J(0);let m;function C(k,$){return(r.value==="left"?k:r.value==="right"?document.documentElement.clientWidth-k:r.value==="top"?k:r.value==="bottom"?document.documentElement.clientHeight-k:re())-($?e.value:0)}function S(k){let $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const A=r.value==="left"?(k-_.value)/e.value:r.value==="right"?(document.documentElement.clientWidth-k-_.value)/e.value:r.value==="top"?(k-_.value)/e.value:r.value==="bottom"?(document.documentElement.clientHeight-k-_.value)/e.value:re();return $?Ae(A):A}function I(k){if(a.value)return;const $=k.changedTouches[0].clientX,A=k.changedTouches[0].clientY,W=25,G=r.value==="left"?$<W:r.value==="right"?$>document.documentElement.clientWidth-W:r.value==="top"?A<W:r.value==="bottom"?A>document.documentElement.clientHeight-W:re(),X=o.value&&(r.value==="left"?$<e.value:r.value==="right"?$>document.documentElement.clientWidth-e.value:r.value==="top"?A<e.value:r.value==="bottom"?A>document.documentElement.clientHeight-e.value:re());(G||X||o.value&&i.value)&&(m=[$,A],_.value=C(n.value?$:A,o.value),h.value=S(n.value?$:A),g=_.value>-20&&_.value<80,u(k),l(k))}function U(k){const $=k.changedTouches[0].clientX,A=k.changedTouches[0].clientY;if(g){if(!k.cancelable){g=!1;return}const G=Math.abs($-m[0]),X=Math.abs(A-m[1]);(n.value?G>X&&G>3:X>G&&X>3)?(c.value=!0,g=!1):(n.value?X:G)>3&&(g=!1)}if(!c.value)return;k.preventDefault(),l(k);const W=S(n.value?$:A,!1);h.value=Math.max(0,Math.min(1,W)),W>1?_.value=C(n.value?$:A,!0):W<0&&(_.value=C(n.value?$:A,!1))}function z(k){if(g=!1,!c.value)return;l(k),c.value=!1;const $=y(k.changedTouches[0].identifier),A=Math.abs($.x),W=Math.abs($.y);(n.value?A>W&&A>400:W>A&&W>3)?o.value=$.direction===({left:"right",right:"left",top:"down",bottom:"up"}[r.value]||re()):o.value=h.value>.5}const L=x(()=>c.value?{transform:r.value==="left"?`translateX(calc(-100% + ${h.value*e.value}px))`:r.value==="right"?`translateX(calc(100% - ${h.value*e.value}px))`:r.value==="top"?`translateY(calc(-100% + ${h.value*e.value}px))`:r.value==="bottom"?`translateY(calc(100% - ${h.value*e.value}px))`:re(),transition:"none"}:void 0);return ue(c,()=>{const k=d.value?.style.transform??null,$=d.value?.style.transition??null;He(()=>{d.value?.style.setProperty("transform",L.value?.transform||"none"),d.value?.style.setProperty("transition",L.value?.transition||null)}),gt(()=>{d.value?.style.setProperty("transform",k),d.value?.style.setProperty("transition",$)})}),{isDragging:c,dragProgress:h,dragStyles:L}}function re(){throw new Error}const Ia=["start","end","left","right","top","bottom"],xa=fe({color:String,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,modelValue:{type:Boolean,default:null},permanent:Boolean,rail:{type:Boolean,default:null},railWidth:{type:[Number,String],default:56},scrim:{type:[Boolean,String],default:!0},image:String,temporary:Boolean,persistent:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},location:{type:String,default:"start",validator:t=>Ia.includes(t)},sticky:Boolean,...Bt(),...Fe(),...Dt(),...xt({mobile:null}),...It(),...Qe(),...Nt(),...ze({tag:"nav"}),...Tt()},"VNavigationDrawer"),Da=ke()({name:"VNavigationDrawer",props:xa(),emits:{"update:modelValue":t=>!0,"update:rail":t=>!0},setup(t,d){let{attrs:o,emit:i,slots:e}=d;const{isRtl:a}=pt(),{themeClasses:r}=ft(t),{borderClasses:n}=ht(t),{backgroundColorClasses:l,backgroundColorStyles:u}=Re(()=>t.color),{elevationClasses:y}=yt(t),{displayClasses:g,mobile:c}=bt(t),{roundedClasses:h}=_t(t),_=wt(),m=We(t,"modelValue",null,q=>!!q),{ssrBootStyles:C}=Te(),{scopeId:S}=St(),I=N(),U=J(!1),{runOpenDelay:z,runCloseDelay:L}=$t(t,q=>{U.value=q}),k=x(()=>t.rail&&t.expandOnHover&&U.value?Number(t.width):Number(t.rail?t.railWidth:t.width)),$=x(()=>Ct(t.location,a.value)),A=ne(()=>t.persistent),W=x(()=>!t.permanent&&(c.value||t.temporary)),G=x(()=>t.sticky&&!W.value&&$.value!=="bottom");ue(()=>t.expandOnHover&&t.rail!=null,()=>{F(U,q=>i("update:rail",!q))}),ue(()=>!t.disableResizeWatcher,()=>{F(W,q=>!t.permanent&&Et(()=>m.value=!q))}),ue(()=>!t.disableRouteWatcher&&!!_,()=>{F(_.currentRoute,()=>W.value&&(m.value=!1))}),F(()=>t.permanent,q=>{q&&(m.value=!0)}),t.modelValue==null&&!W.value&&(m.value=t.permanent||!c.value);const{isDragging:X,dragProgress:ce}=Na({el:I,isActive:m,isTemporary:W,width:k,touchless:ne(()=>t.touchless),position:$}),ye=x(()=>{const q=W.value?0:t.rail&&t.expandOnHover?Number(t.railWidth):k.value;return X.value?q*ce.value:q}),{layoutItemStyles:B,layoutItemScrimStyles:R}=Je({id:t.name,order:x(()=>parseInt(t.order,10)),position:$,layoutSize:ye,elementSize:k,active:Vt(m),disableTransitions:ne(()=>X.value),absolute:x(()=>t.absolute||G.value&&typeof M.value!="string")}),{isStuck:M,stickyStyles:be}=Sa({rootEl:I,isSticky:G,layoutItemStyles:B}),Be=Re(()=>typeof t.scrim=="string"?t.scrim:null),it=x(()=>({...X.value?{opacity:ce.value*.2,transition:"none"}:void 0,...R.value}));return kt({VList:{bgColor:"transparent"}}),Ne(()=>{const q=e.image||t.image;return b(O,null,[w(t.tag,K({ref:I,onMouseenter:z,onMouseleave:L,class:["v-navigation-drawer",`v-navigation-drawer--${$.value}`,{"v-navigation-drawer--expand-on-hover":t.expandOnHover,"v-navigation-drawer--floating":t.floating,"v-navigation-drawer--is-hovering":U.value,"v-navigation-drawer--rail":t.rail,"v-navigation-drawer--temporary":W.value,"v-navigation-drawer--persistent":A.value,"v-navigation-drawer--active":m.value,"v-navigation-drawer--sticky":G.value},r.value,l.value,n.value,g.value,y.value,h.value,t.class],style:[u.value,B.value,C.value,be.value,t.style]},S,o),{default:()=>[q&&b("div",{key:"image",class:"v-navigation-drawer__img"},[e.image?w(Mt,{key:"image-defaults",disabled:!t.image,defaults:{VImg:{alt:"",cover:!0,height:"inherit",src:t.image}}},e.image):w(Ie,{key:"image-img",alt:"",cover:!0,height:"inherit",src:t.image},null)]),e.prepend&&b("div",{class:"v-navigation-drawer__prepend"},[e.prepend?.()]),b("div",{class:"v-navigation-drawer__content"},[e.default?.()]),e.append&&b("div",{class:"v-navigation-drawer__append"},[e.append?.()])]}),w(Rt,{name:"fade-transition"},{default:()=>[W.value&&(X.value||m.value)&&!!t.scrim&&b("div",K({class:["v-navigation-drawer__scrim",Be.backgroundColorClasses.value],style:[it.value,Be.backgroundColorStyles.value],onClick:()=>{A.value||(m.value=!1)}},S),null)]})])}),{isStuck:M}}});function Ba(t,d){return t.length<=d?t:t.substring(0,d-3)+"..."}const $a={class:"loading-screen"},Ra={class:"loading-screen-info"},Ea=E({__name:"TabLoadingScreen",setup(t){const{t:d}=H();return(o,i)=>(v(),D("div",$a,[b("div",Ra,[w(je,{size:48}),b("span",null,p(f(d)("tab.placeholder.loading")),1)])]))}}),Ma=Q(Ea,[["__scopeId","data-v-b23d11da"]]),Pa=E({__name:"TabWindow",props:{id:{},component:{},componentProps:{}},setup(t){const d=se(),o=t,i=N(!1),e=N();F(e,()=>{n()});function a(){i.value=!0,n()}function r(l){d.replaceTabData(o.id,l),n()}function n(){if(i.value&&e.value!=null&&e.value.path!=null){const l=e.value.path();l!=null&&d.subjectPathStatus.definePath(o.id,l)}}return(l,u)=>(v(),D(O,null,[(v(),V(At,null,[Pt((v(),V(Ut(l.component),K({ref_key:"componentInstance",ref:e},l.componentProps,{onReady:a,"onUpdate:data":r}),null,16)),[[Lt,i.value]])],1024)),i.value?P("",!0):(v(),V(Ma,{key:0}))],64))}}),tt="/lab/logo/evitalab-logo-representative.svg",La={class:"editor-welcome-screen"},Ua={class:"editor-welcome-screen-hero"},Aa={class:"editor-welcome-screen-hero__header"},Wa={class:"editor-welcome-screen-hero__title"},Ha={class:"font-weight-bold mb-2",style:{"font-size":"4.375rem"}},za={class:"text-white",style:{"font-size":"1rem"}},Fa={class:"text-primary-lightest text-body-2",href:"https://github.com/FgForrest/evitalab/releases",target:"_blank"},ja={class:"text-gray-light",style:{"font-size":"1rem"}},Oa={class:"editor-welcome-screen-blog"},qa=["href"],Ya={class:"editor-welcome-screen-blog-img__wrap"},Ga=["src","alt"],Xa={class:"editor-welcome-screen-blog-item__title"},Ka={class:"editor-welcome-screen-blog-item__perex"},Za={class:"editor-welcome-screen-blog-item__btn"},Ja={class:"editor-welcome-screen-hero__links"},Qa={href:"https://evitadb.io/documentation",target:"_blank"},eo={href:"https://github.com/FgForrest/evitalab/",target:"_blank"},to={href:"https://discord.gg/VsNBWxgmSw",target:"_blank"},ao={href:"https://github.com/FgForrest/evitalab/issues",target:"_blank"},oo=E({__name:"StandaloneWelcomeContent",props:{version:{}},setup(t){const d=Wt(),{t:o}=H(),i=N([]);return d.getBlogPosts().then(e=>{i.value=e}),(e,a)=>{const r=Z("I18nT");return v(),D("div",La,[b("div",Ua,[b("header",Aa,[w(Ie,{width:"240",height:"240","max-width":"240","max-height":"240",alt:"evitaLab Logo",src:tt,class:"evitalab-logo"}),b("div",Wa,[b("h1",Ha,p(f(o)("app.name")),1),b("p",za,[T(p(e.version)+" ",1),b("a",Fa,"("+p(f(o)("welcomeScreen.standalone.changelog"))+")",1)]),b("p",ja,p(f(o)("welcomeScreen.standalone.description")),1)])]),b("div",Oa,[(v(!0),D(O,null,le(i.value,n=>(v(),D("a",{key:n.url,href:n.url,target:"_blank"},[b("span",Ya,[b("img",{class:"Blog_BlogMotive__72hVr",height:"160",width:"480",src:n.thumbnailUrl,alt:f(o)("welcomeScreen.standalone.blog.thumbnail.alt",{title:n.title})},null,8,Ga)]),b("span",Xa,p(n.title),1),b("span",Ka,[w(Ht,{source:n.perex},null,8,["source"])]),b("span",Za,p(f(o)("welcomeScreen.standalone.blog.button.read")),1)],8,qa))),128))]),a[0]||(a[0]=b("span",{class:"editor-welcome-screen-hr"},"Â ",-1)),b("ul",Ja,[w(r,{keypath:"welcomeScreen.standalone.link.evitaDBDocumentation.text",tag:"li"},{link:s(()=>[b("a",Qa,p(f(o)("welcomeScreen.standalone.link.evitaDBDocumentation.link")),1)]),_:1}),w(r,{keypath:"welcomeScreen.standalone.link.evitaLabGitHub.text",tag:"li"},{link:s(()=>[b("a",eo,p(f(o)("welcomeScreen.standalone.link.evitaLabGitHub.link")),1)]),_:1}),w(r,{keypath:"welcomeScreen.standalone.link.discord.text",tag:"li"},{link:s(()=>[b("a",to,p(f(o)("welcomeScreen.standalone.link.discord.link")),1)]),_:1}),b("li",null,[b("a",ao,p(f(o)("welcomeScreen.standalone.link.submitIssue")),1)])])])])}}}),lo=Q(oo,[["__scopeId","data-v-2555c168"]]),no={class:"editor-welcome-screen"},ro={class:"editor-welcome-screen-hero"},io={class:"editor-welcome-screen-hero__header"},so={class:"editor-welcome-screen-hero__title"},co={class:"font-weight-light mb-2",style:{"font-size":"2rem"}},uo={class:"font-weight-bold"},mo={class:"text-white",style:{"font-size":"1rem"}},vo={class:"text-primary-lightest text-body-2",href:"https://github.com/FgForrest/evitalab/releases",target:"_blank"},go=E({__name:"DriverWelcomeContent",props:{version:{}},setup(t){const d=Oe(),{t:o}=H(),i=x(()=>d.getConnection().name),e=localStorage.getItem("test");return(a,r)=>(v(),D("div",no,[b("div",ro,[b("header",io,[w(Ie,{width:"60",height:"60","max-width":"60","max-height":"60",alt:"evitaLab Logo",src:tt,class:"evitalab-logo"}),b("div",so,[T(p(f(e))+" ",1),b("h1",co,[r[0]||(r[0]=T(" Connected to: ")),b("span",uo,p(i.value),1)]),b("p",mo,[T(p(f(o)("welcomeScreen.driver.description"))+" "+p(a.version)+" ",1),b("a",vo,"("+p(f(o)("welcomeScreen.driver.changelog"))+")",1)])])])])]))}}),po=Q(go,[["__scopeId","data-v-825f264b"]]),fo=E({__name:"WelcomeScreen",setup(t){const d=qe(),o=x(()=>{const i="";return i.length===0?"?":i.substring(1)});return(i,e)=>f(d).runMode===f(Ee).Standalone?(v(),V(lo,{key:0,version:o.value},null,8,["version"])):f(d).runMode===f(Ee).Driver?(v(),V(po,{key:1,version:o.value},null,8,["version"])):P("",!0)}}),ho=E({__name:"TabSharedTroubleshooterDialog",props:{modelValue:{type:Boolean},originalConnectionName:{default:void 0},troubleshooterCallback:{type:Function,default:void 0}},emits:["resolve","reject"],setup(t,{emit:d}){const o=Oe(),i=j(),{t:e}=H(),a=t,r=d,n=N([]),l=N(!1),u=N(void 0),y=N(!1),g=x(()=>u.value!=null&&u.value.trim().length>0);F(()=>a.modelValue,_=>{if(_){const m=o.getConnection();n.value=[m],l.value=!0,u.value=m.id,y.value=a.originalConnectionName!=null&&a.originalConnectionName.trim().length>0&&a.originalConnectionName.trim().toLowerCase()===m.name.trim().toLowerCase()}});function c(){r("reject"),n.value=[],l.value=!1,u.value=void 0}async function h(){if(a.troubleshooterCallback==null)throw new Error("Cannot accept shared tab without troubleshooter callback.");try{const _=await a.troubleshooterCallback(u.value);return r("resolve",_),!0}catch(_){return await i.error("Could not resolve shared tab",_),!1}}return(_,m)=>(v(),V(Y,{"model-value":_.modelValue,changed:g.value,"confirm-button-icon":"mdi-check",confirm:h,reset:c},{activator:s(({props:C})=>[we(_.$slots,"activator",zt(Ft({props:C})))]),title:s(()=>[T(p(f(e)("tabShare.sharedTroubleshooterDialog.title")),1)]),"prepend-form":s(()=>[w(he,{type:"warning",icon:"mdi-alert-outline"},{default:s(()=>[T(p(f(e)("tabShare.sharedTroubleshooterDialog.info")),1)]),_:1})]),default:s(()=>[w(Ye,{modelValue:u.value,"onUpdate:modelValue":m[0]||(m[0]=C=>u.value=C),label:f(e)("tabShare.sharedTroubleshooterDialog.form.newConnectionId.label"),hint:y.value?f(e)("tabShare.sharedTroubleshooterDialog.form.newConnectionId.hint.connectionMatchedByName"):f(e)("tabShare.sharedTroubleshooterDialog.form.newConnectionId.hint.connectionNotMatchedByName"),items:n.value,"item-title":"name","item-value":"id",required:"",disabled:""},null,8,["modelValue","label","hint","items"])]),"confirm-button-body":s(()=>[T(p(f(e)("common.button.accept")),1)]),_:3},8,["model-value","changed"]))}}),yo=["innerHTML"],bo=["innerHTML"],_o=["innerHTML"],wo=E({__name:"TabSharedDialog",props:{modelValue:{type:Boolean}},emits:["update:modelValue"],setup(t,{emit:d}){const o=se(),i=jt(),e=j(),{t:a}=H(),r=t,n=d;F(()=>r.modelValue,S=>{if(S){const U=new URLSearchParams(document.location.search).get("sharedTab");U!=null&&(l.value=Gt.fromLinkParam(U))}});const l=N(void 0),u=x(()=>l.value==null?!1:l.value.tabData!=null),y=N(!1),g=N(void 0),c=N(void 0);async function h(){if(l.value!=null)try{const S=await i.resolve(l.value);o.createTab(S),C()}catch(S){S instanceof Yt?(y.value=!0,g.value=S.originalConnectionName,c.value=S.troubleshooterCallback):await e.error("Could not resolve shared tab",S)}}function _(S){o.createTab(S),C()}function m(){y.value=!1}function C(){n("update:modelValue",!1)}return(S,I)=>(v(),D(O,null,[w(Ot,{"model-value":S.modelValue,persistent:"","max-width":"36rem"},{title:s(()=>[T(p(f(a)("tabShare.sharedDialog.title")),1)]),default:s(()=>[u.value?(v(),D("span",{key:0,innerHTML:f(a)("tabShare.sharedDialog.text.withoutInitialData")},null,8,yo)):(v(),D("span",{key:1,innerHTML:f(a)("tabShare.sharedDialog.text.withInitialData")},null,8,bo)),u.value?(v(),V(he,{key:2,icon:"mdi-alert-outline",type:"warning",class:"mt-4"},{default:s(()=>[b("span",{innerHTML:f(a)("tabShare.sharedDialog.warning.potentiallyUnsafe")},null,8,_o)]),_:1})):P("",!0)]),"confirm-button":s(()=>[w(qt,{icon:"mdi-check",onConfirm:h},{default:s(()=>[T(p(f(a)("common.button.accept")),1)]),_:1})]),_:1},8,["model-value"]),w(ho,{"model-value":y.value,"original-connection-name":g.value,"troubleshooter-callback":c.value,onResolve:_,onReject:m},null,8,["model-value","original-connection-name","troubleshooter-callback"])],64))}}),So={key:1,style:{position:"relative"}},Co=E({__name:"WorkspaceTabWindowList",setup(t){const d=qe(),o=j(),i=Xt(),{t:e}=H(),a=se(),r=Kt(),n=N(!1),l=N(a.getTabDefinitions());F(l,()=>{const m=a.getTheNewTab();m&&(u.value=m.id,a.markTabAsVisited(m.id))},{deep:!0});const u=N();F(u,(m,C)=>{m!=null?(i.setContext(m),a.subjectPathStatus.activatePath(m)):C!=null&&(i.resetActivatedContext(),a.subjectPathStatus.deactivatePath())});function y(m){if(u.value==null)return;let S=a.getTabIndex(u.value)+m;S<0?S=l.value.length-1:S>=l.value.length&&(S=0),u.value=l.value[S].id}function g(m){const C=l.value.length,S=l.value.findIndex(U=>U.id===u.value),I=l.value.findIndex(U=>U.id===m);a.destroyTab(m),i.deleteContext(m),a.subjectPathStatus.deletePath(m),l.value.length===0?u.value=null:I===S&&I===C-1?u.value=l.value[I-1].id:I===S&&I<C-1&&(u.value=l.value[I].id)}async function c(m){const C=m.get("demoSnippetRequest");if(C!=null)try{return await r.resolve(C)}catch(S){await o.error("Could not resolve demo code snippet",S)}}async function h(m){return m.get("sharedTab")!=null}function _(){try{let m=!1;a.restoreTabsFromLastSession()&&(m=!0),a.restoreTabHistory()&&(m=!0),m&&o.info("Your last session has been restored.").then()}catch(m){console.error(m),o.warning("Failed to fully restore your last session.").then()}}if(d.playgroundMode){const m=new URLSearchParams(document.location.search);c(m).then(C=>(C!=null&&a.createTab(C),h(m))).then(C=>{C&&(n.value=!0)})}else _();return de(()=>{i.bindGlobal(te.System_Editor_PreviousTab,()=>y(-1)),i.bindGlobal(te.System_Editor_NextTab,()=>y(1)),i.bindGlobal(te.System_Editor_CloseTab,()=>{u.value!=null&&g(u.value)}),i.bindGlobal(te.System_Editor_CloseAllTabs,()=>a.destroyAllTabs())}),Ge(()=>{i.unbindGlobal(te.System_Editor_PreviousTab),i.unbindGlobal(te.System_Editor_NextTab),i.unbindGlobal(te.System_Editor_CloseTab),i.unbindGlobal(te.System_Editor_CloseAllTabs)}),(m,C)=>(v(),D(O,null,[l.value.length>0?(v(),V(et,{key:0,density:"compact",elevation:"0"},{default:s(()=>[w(Zt,{modelValue:u.value,"onUpdate:modelValue":C[0]||(C[0]=S=>u.value=S)},{default:s(()=>[(v(!0),D(O,null,le(l.value,S=>(v(),V(Qt,{key:S.id,value:S.id,"prepend-icon":S.icon,onMousedown:Se(I=>g(S.id),["middle"]),class:"lab-tab"},{default:s(()=>[b("span",null,[T(p(f(Ba)(S.title,30))+" ",1),S.title.length>30?(v(),V(ie,{key:0,activator:"parent"},{default:s(()=>[T(p(S.title),1)]),_:2},1024)):P("",!0)]),w(ea,{icon:"",variant:"plain",density:"compact",class:"ml-3",onClick:Se(I=>g(S.id),["stop"])},{default:s(()=>[w(ae,null,{default:s(()=>C[3]||(C[3]=[T("mdi-close")])),_:1,__:[3]}),w(ta,{command:f(te).System_Editor_CloseTab},{default:s(()=>[T(p(f(e)("tab.button.closeTab")),1)]),_:1},8,["command"])]),_:2},1032,["onClick"])]),_:2},1032,["value","prepend-icon","onMousedown"]))),128))]),_:1},8,["modelValue"])]),_:1})):P("",!0),w(wa,{scrollable:!1,class:"lab-editor"},{default:s(()=>[l.value.length>0?(v(),V(Jt,{key:0,modelValue:u.value,"onUpdate:modelValue":C[1]||(C[1]=S=>u.value=S)},{default:s(()=>[(v(!0),D(O,null,le(l.value,S=>(v(),V(aa,{key:S.id,value:S.id,transition:!1,"reverse-transition":!1,class:"window-item"},{default:s(()=>[w(Pa,{id:S.id,component:S.component,"component-props":S.componentProps()},null,8,["id","component","component-props"])]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])):(v(),D("div",So,[w(fo)]))]),_:1}),w(wo,{modelValue:n.value,"onUpdate:modelValue":C[2]||(C[2]=S=>n.value=S)},null,8,["modelValue"])],64))}}),bl=Q(Co,[["__scopeId","data-v-a534ed3b"]]),Vo={key:0,class:"editor-status"},ko=E({__name:"EditorStatus",props:{status:{}},setup(t){const{t:d}=H(),o=t,i=x(()=>o.status.activatedEditorInfo),e=x(()=>{if(i.value!=null&&i.value.selections.size==1)return i.value.selections.get(0)});return(a,r)=>i.value?(v(),D("div",Vo,[w(ie,null,{activator:s(({props:n})=>[b("span",K({class:"text-no-wrap"},n),[i.value.selections.size!=1?(v(),D(O,{key:0},[T(p(f(d)("common.statusBar.activeEditorStatus.selections.value.multipleSelections",{count:i.value.selections.size})),1)],64)):(v(),D(O,{key:1},[T(p(f(d)("common.statusBar.activeEditorStatus.selections.value.singleSelection.cursorPosition",{line:e.value.line,column:e.value.column}))+" ",1),e.value.selectedCharacterCount>0?(v(),D(O,{key:0},[T(" ("+p(f(d)("common.statusBar.activeEditorStatus.selections.value.singleSelection.selectionRange",{charsCount:e.value.selectedCharacterCount})),1),e.value.lineBreaks>0?(v(),D(O,{key:0},[T(", "+p(f(d)("common.statusBar.activeEditorStatus.selections.value.singleSelection.lineBreaks",{lineBreaks:e.value.lineBreaks})),1)],64)):P("",!0),r[0]||(r[0]=T(") "))],64)):P("",!0)],64))],16)]),default:s(()=>[T(p(f(d)("common.statusBar.activeEditorStatus.selections.label")),1)]),_:1}),w(ie,null,{activator:s(({props:n})=>[b("span",K({class:"text-no-wrap"},n),p(f(d)("common.statusBar.activeEditorStatus.tabSize.value",{tabSize:i.value.tabSize})),17)]),default:s(()=>[T(p(f(d)("common.statusBar.activeEditorStatus.tabSize.label")),1)]),_:1}),w(ie,null,{activator:s(({props:n})=>[b("span",K({class:"text-no-wrap"},n),p(i.value.language),17)]),default:s(()=>[T(p(f(d)("common.statusBar.activeEditorStatus.language.label")),1)]),_:1})])):P("",!0)}}),To=Q(ko,[["__scopeId","data-v-ab91fc98"]]),No=E({__name:"SubjectPathStatusItem",props:{item:{}},setup(t){const d=t;function o(){d.item.onClick!=null&&d.item.onClick()}return(i,e)=>(v(),D("div",{class:ge(["subject-path-status-item",{"subject-path-status-item--clickable":i.item.onClick!=null}]),onClick:o},[i.item.icon?(v(),V(ae,{key:0,icon:i.item.icon,size:"12"},null,8,["icon"])):P("",!0),b("span",null,p(i.item.value),1)],2))}}),Io=Q(No,[["__scopeId","data-v-fd5155de"]]),xo={};function Do(t,d){return v(),V(ae,{icon:"mdi-chevron-right",size:"12",class:"text-disabled subject-path-status-item-delimiter"})}const Bo=Q(xo,[["render",Do],["__scopeId","data-v-a85df1cb"]]),$o={key:0,class:"subject-path-status"},Ro=E({__name:"SubjectPathStatus",props:{status:{}},setup(t){const d=t,o=x(()=>d.status.activatedPath);return(i,e)=>o.value?(v(),D("div",$o,[(v(!0),D(O,null,le(o.value.items,(a,r)=>(v(),D(O,{key:r},[w(Io,{item:a},null,8,["item"]),r+1<o.value.items.size?(v(),V(Bo,{key:0})):P("",!0)],64))),128))])):P("",!0)}}),Eo=Q(Ro,[["__scopeId","data-v-91b66f15"]]),Mo={class:"left-content"},Po={class:"right-content"},Lo=E({__name:"WorkspaceStatusBar",setup(t){const d=se(),o=x(()=>d.subjectPathStatus),i=x(()=>d.editorStatus);return(e,a)=>(v(),V(et,{height:"28",location:"bottom",flat:"",class:"bg-primary-dark status-bar"},{default:s(()=>[b("div",Mo,[w(Eo,{status:o.value},null,8,["status"])]),b("div",Po,[w(To,{status:i.value},null,8,["status"])])]),_:1}))}}),_l=Q(Lo,[["__scopeId","data-v-18101a46"]]),Uo=E({__name:"CreateCatalogDialog",props:{modelValue:{type:Boolean}},emits:["update:modelValue"],setup(t,{emit:d}){const o=ee(),i=j(),{t:e}=H(),a=d,r=[g=>g!=null&&g.trim().length>0?!0:e("explorer.catalog.create.form.catalogName.validations.required"),async g=>{const c=await o.isCatalogNameValid(g);return c==null?!0:e(`explorer.catalog.create.form.catalogName.validations.${c}`)},async g=>await o.isCatalogNameAvailable(g)?!0:e("explorer.catalog.create.form.catalogName.validations.notAvailable")],n=N(""),l=x(()=>n.value.length>0);function u(){n.value=""}async function y(){try{return await o.createCatalog(n.value),await i.success(e("explorer.catalog.create.notification.catalogCreated",{catalogName:n.value})),!0}catch(g){return await i.error(e("explorer.catalog.create.notification.couldNotCreateCatalog",{catalogName:n.value,reason:g.message})),!1}}return(g,c)=>(v(),V(Y,{"model-value":g.modelValue,changed:l.value,"confirm-button-icon":"mdi-plus",confirm:y,reset:u,"onUpdate:modelValue":c[1]||(c[1]=h=>a("update:modelValue",h))},{title:s(()=>[T(p(f(e)("explorer.catalog.create.title")),1)]),default:s(()=>[w(me,{modelValue:n.value,"onUpdate:modelValue":c[0]||(c[0]=h=>n.value=h),label:f(e)("explorer.catalog.create.form.catalogName.label"),rules:r,required:""},null,8,["modelValue","label"])]),"confirm-button-body":s(()=>[T(p(f(e)("common.button.create")),1)]),_:1},8,["model-value","changed"]))}});var ve=(t=>(t.Info="info",t.Warning="warning",t.Error="error",t))(ve||{});class oe{value;type;constructor(d,o){this.value=d,this.type=o}static info(d){return new oe(d,ve.Info)}static warning(d){return new oe(d,ve.Warning)}static error(d){return new oe(d,ve.Error)}}const Ao={class:"tree-view-item__content"},Wo={key:0,class:"tree-view-item__flags"},Ho={key:0,class:"tree-view-item__flags"},zo=E({__name:"VTreeViewItem",props:{openable:{type:Boolean,default:!1},isOpen:{type:Boolean,default:!1},prependIcon:{},loading:{type:Boolean,default:!1},flags:{default:()=>[]},actions:{default:()=>[]}},emits:["click:action","click:actionMenu"],setup(t,{emit:d}){const o=t,i=N(!1),e=d;function a(){e("click:actionMenu"),o.actions&&o.actions.length>0&&(i.value=!0)}return(r,n)=>(v(),V(pe,{"prepend-icon":null,"append-icon":null,onContextmenu:Se(a,["prevent"])},{default:s(()=>[b("div",Ao,[r.openable?(v(),V(ae,{key:0},{default:s(()=>[T(p(r.isOpen?"mdi-chevron-up":"mdi-chevron-down"),1)]),_:1})):(v(),V(ae,{key:1})),r.loading?(v(),V(je,{key:2})):(v(),V(ae,{key:3},{default:s(()=>[T(p(r.prependIcon),1)]),_:1})),w(ie,null,{activator:s(({props:l})=>[b("span",K(l,{class:"tree-view-item__text text-truncate"}),[we(r.$slots,"default",{},()=>[n[3]||(n[3]=b("span",{class:"text-disabled"}," No items found ",-1))],!0),r.flags.length>0?(v(),D("span",Wo,[(v(!0),D(O,null,le(r.flags,u=>(v(),D("span",{key:u.value,class:ge(["tree-view-item__flag",`tree-view-item__flag--${u.type}`])},p(u.value),3))),128))])):P("",!0)],16)]),default:s(()=>[we(r.$slots,"tooltip",{},void 0,!0),r.flags.length>0?(v(),D("span",Ho,[(v(!0),D(O,null,le(r.flags,l=>(v(),D("span",{key:l.value,class:ge(["tree-view-item__flag","tree-view-item__lg-flag",`tree-view-item__flag--${l.type}`])},p(l.value),3))),128))])):P("",!0)]),_:3}),r.actions&&r.actions.length>0?(v(),V(Xe,{key:4,"menu-items":r.actions,modelValue:i.value,"onUpdate:modelValue":n[2]||(n[2]=l=>i.value=l)},{activator:s(({props:l})=>[w(ae,K(l,{class:"text-gray-light",onClick:n[0]||(n[0]=u=>e("click:actionMenu"))}),{default:s(()=>n[4]||(n[4]=[T(" mdi-dots-vertical ")])),_:2,__:[4]},1040)]),default:s(()=>[w(Ce,{density:"compact",items:r.actions,"onClick:select":n[1]||(n[1]=l=>r.$emit("click:action",l.id))},{item:s(({props:l})=>[w(pe,{"prepend-icon":l.prependIcon,value:l.value,disabled:l.disabled},{default:s(()=>[T(p(l.title),1)]),_:2},1032,["prepend-icon","value","disabled"])]),_:1},8,["items"])]),_:1},8,["menu-items","modelValue"])):P("",!0)])]),_:3}))}}),at=Q(zo,[["__scopeId","data-v-39da8931"]]),Fo={class:"pl-8 text-disabled"},ot=E({__name:"VTreeViewEmptyItem",setup(t){const{t:d}=H();return(o,i)=>(v(),V(pe,null,{default:s(()=>[b("span",Fo,p(f(d)("common.list.empty")),1)]),_:1}))}}),jo=E({__name:"DeleteCollectionDialog",props:{modelValue:{type:Boolean},catalogName:{},entityType:{}},emits:["update:modelValue"],setup(t,{emit:d}){const o=xe(),i=j(),{t:e}=H(),a=t,r=d;async function n(){try{return await o.deleteCollection(a.catalogName,a.entityType)?await i.success(e("explorer.collection.delete.notification.collectionDeleted",{entityType:a.entityType})):await i.info(e("explorer.collection.delete.notification.collectionNotDeleted",{entityType:a.entityType})),!0}catch(l){return await i.error(e("explorer.collection.delete.notification.couldNotDeleteCollection",{entityType:a.entityType,reason:l.message})),!1}}return(l,u)=>{const y=Z("I18nT");return v(),V(Y,{"model-value":l.modelValue,dangerous:"",changed:"","confirm-button-icon":"mdi-delete-outline",confirm:n,"onUpdate:modelValue":u[0]||(u[0]=g=>r("update:modelValue",g))},{title:s(()=>[w(y,{keypath:"explorer.collection.delete.title"},{entityType:s(()=>[b("strong",null,p(l.entityType),1)]),_:1})]),"prepend-form":s(()=>[T(p(f(e)("explorer.collection.delete.question")),1)]),"confirm-button-body":s(()=>[T(p(f(e)("common.button.delete")),1)]),_:1},8,["model-value"])}}}),Oo=E({__name:"RenameCollectionDialog",props:{modelValue:{type:Boolean},catalogName:{},entityType:{}},emits:["update:modelValue"],setup(t,{emit:d}){const o=xe(),i=j(),{t:e}=H(),a=t,r=d,n=[c=>c!=null&&c.trim().length>0?!0:e("explorer.collection.rename.form.newName.validations.required"),async c=>{const h=await o.isEntityTypeValid(c);return h==null?!0:e(`explorer.collection.rename.form.newName.validations.${h}`)},async c=>c===a.entityType||await o.isEntityTypeAvailable(a.catalogName,c)?!0:e("explorer.collection.rename.form.newName.validations.notAvailable")],l=N(a.entityType),u=x(()=>l.value!==a.entityType);function y(){l.value=a.entityType}async function g(){try{return await o.renameCollection(a.catalogName,a.entityType,l.value)?await i.success(e("explorer.collection.rename.notification.collectionRenamed",{entityType:a.entityType,newName:l.value})):await i.info(e("explorer.collection.rename.notification.collectionNotRenamed",{entityType:a.entityType})),!0}catch(c){return await i.error(e("explorer.collection.rename.notification.couldNotRenameCollection",{entityType:a.entityType,reason:c.message})),!1}}return(c,h)=>{const _=Z("I18nT");return v(),V(Y,{"model-value":c.modelValue,changed:u.value,dangerous:"","confirm-button-icon":"mdi-pencil-outline",confirm:g,reset:y,"onUpdate:modelValue":h[1]||(h[1]=m=>r("update:modelValue",m))},{title:s(()=>[w(_,{keypath:"explorer.collection.rename.title"},{entityType:s(()=>[b("strong",null,p(c.entityType),1)]),_:1})]),default:s(()=>[w(me,{modelValue:l.value,"onUpdate:modelValue":h[0]||(h[0]=m=>l.value=m),label:f(e)("explorer.collection.rename.form.newName.label"),rules:n,required:""},null,8,["modelValue","label"])]),"confirm-button-body":s(()=>[T(p(f(e)("common.button.rename")),1)]),_:1},8,["model-value","changed"])}}}),lt=Symbol("serverStatus");function qo(t){Ze(lt,t)}function nt(){return Ke(lt)}const rt=Symbol("catalog");function Yo(t){Ze(rt,t)}function Go(){return Ke(rt)}const Xo={class:"tree-view-item-data__content"},Ko={class:"tree-view-item-data__content"},Zo=E({__name:"CollectionItem",props:{entityCollection:{}},setup(t){const d=se(),o=oa(),i=la(),e=t,a=nt(),r=N(!1),n=N(!1),l=Go(),u=N(),y=x(()=>u.value==null?[]:Array.from(u.value.values()));if(F([a,l,()=>e.entityCollection],async()=>u.value=await h(),{immediate:!0}),l.value==null)throw new na("Catalog is not loaded yet, but collection item is already rendered!");function g(){d.createTab(o.createNew(l.value.name,e.entityCollection.entityType,void 0,!0))}function c(_){const m=u.value?.get(_);m instanceof De&&m.execute()}async function h(){return await i.createItems(a.value,l.value,e.entityCollection,()=>n.value=!0,()=>r.value=!0)}return(_,m)=>(v(),D("div",null,[w(at,{"prepend-icon":"mdi-list-box-outline",actions:y.value,onClick:g,"onClick:action":c,class:"text-gray-light"},{default:s(()=>[b("div",Xo,[b("span",null,p(_.entityCollection.entityType),1),w(Me,{size:"x-small",label:"",class:"chip ml-2",variant:"plain"},{default:s(()=>[T(p(f(Pe)(_.entityCollection.totalRecords,1)),1)]),_:1})])]),tooltip:s(()=>[b("div",Ko,[b("span",null,p(_.entityCollection.entityType),1),w(Me,{size:"x-small",label:"",class:"chip ml-2",variant:"plain"},{default:s(()=>[T(p(f(Pe)(_.entityCollection.totalRecords,1)),1)]),_:1})])]),_:1},8,["actions"]),n.value?(v(),V(Oo,{key:0,modelValue:n.value,"onUpdate:modelValue":m[0]||(m[0]=C=>n.value=C),"catalog-name":f(l).name,"entity-type":_.entityCollection.entityType},null,8,["modelValue","catalog-name","entity-type"])):P("",!0),r.value?(v(),V(jo,{key:1,modelValue:r.value,"onUpdate:modelValue":m[1]||(m[1]=C=>r.value=C),"catalog-name":f(l).name,"entity-type":_.entityCollection.entityType},null,8,["modelValue","catalog-name","entity-type"])):P("",!0)]))}}),Jo=Q(Zo,[["__scopeId","data-v-8ae9268e"]]),Qo=E({__name:"RenameCatalogDialog",props:{modelValue:{type:Boolean},catalog:{}},emits:["update:modelValue"],setup(t,{emit:d}){const o=ee(),i=j(),{t:e}=H(),a=t,r=d,n=[c=>c!=null&&c.trim().length>0?!0:e("explorer.catalog.rename.form.newName.validations.required"),async c=>{const h=await o.isCatalogNameValid(c);return h==null?!0:e(`explorer.catalog.rename.form.newName.validations.${h}`)},async c=>c===a.catalog.name||await o.isCatalogNameAvailable(c)?!0:e("explorer.catalog.rename.form.newName.validations.notAvailable")],l=N(a.catalog.name),u=x(()=>a.catalog.name!==l.value);function y(){l.value=a.catalog.name}async function g(){try{return o.renameCatalogWithProgress(a.catalog,l.value),await i.info(e("explorer.catalog.rename.notification.catalogRenameStarted",{catalogName:a.catalog.name})),!0}catch(c){return await i.error(e("explorer.catalog.rename.notification.couldNotRenameCatalog",{catalogName:a.catalog.name,reason:c.message})),!1}}return(c,h)=>{const _=Z("I18nT");return v(),V(Y,{"model-value":c.modelValue,changed:u.value,dangerous:"","confirm-button-icon":"mdi-pencil-outline",confirm:g,reset:y,"onUpdate:modelValue":h[1]||(h[1]=m=>r("update:modelValue",m))},{title:s(()=>[w(_,{keypath:"explorer.catalog.rename.title"},{catalogName:s(()=>[b("strong",null,p(c.catalog.name),1)]),_:1})]),default:s(()=>[w(me,{modelValue:l.value,"onUpdate:modelValue":h[0]||(h[0]=m=>l.value=m),label:f(e)("explorer.catalog.rename.form.newName.label"),rules:n,required:""},null,8,["modelValue","label"])]),"confirm-button-body":s(()=>[T(p(f(e)("common.button.rename")),1)]),_:1},8,["model-value","changed"])}}}),el=E({__name:"DeleteCatalogDialog",props:{modelValue:{type:Boolean},catalogName:{}},emits:["update:modelValue"],setup(t,{emit:d}){const o=ee(),i=j(),{t:e}=H(),a=t,r=d;async function n(){try{return await o.deleteCatalog(a.catalogName)?await i.success(e("explorer.catalog.delete.notification.catalogDeleted",{catalogName:a.catalogName})):await i.info(e("explorer.catalog.delete.notification.catalogNotDeleted",{catalogName:a.catalogName})),!0}catch(l){return await i.error(e("explorer.catalog.delete.notification.couldNotDeleteCatalog",{catalogName:a.catalogName,reason:l.message})),!1}}return(l,u)=>{const y=Z("I18nT");return v(),V(Y,{"model-value":l.modelValue,dangerous:"",changed:"","confirm-button-icon":"mdi-delete-outline",confirm:n,"onUpdate:modelValue":u[0]||(u[0]=g=>r("update:modelValue",g))},{title:s(()=>[w(y,{keypath:"explorer.catalog.delete.title"},{catalogName:s(()=>[b("strong",null,p(l.catalogName),1)]),_:1})]),"prepend-form":s(()=>[T(p(f(e)("explorer.catalog.delete.question")),1)]),"confirm-button-body":s(()=>[T(p(f(e)("common.button.delete")),1)]),_:1},8,["model-value"])}}}),tl=E({__name:"ReplaceCatalogDialog",props:{modelValue:{type:Boolean},catalog:{}},emits:["update:modelValue"],setup(t,{emit:d}){const o=ee(),i=j(),{t:e}=H(),a=t,r=d,n=[m=>m!=null&&m.trim().length>0?!0:e("explorer.catalog.replace.form.catalogNameToBeReplacedWith.validations.required"),async m=>m===a.catalog.name||await o.isCatalogExists(m)?!0:e("explorer.catalog.replace.form.catalogNameToBeReplacedWith.validations.notExists")],l=N(),u=x(()=>l.value==null?[]:l.value.map(m=>m.name)),y=N(!1),g=N(),c=x(()=>g.value!=null&&g.value.length>0);o.getCatalogs().then(m=>{l.value=m.filter(C=>C.name!==a.catalog.name).toArray(),y.value=!0});function h(){l.value=[],y.value=!1,g.value=""}async function _(){try{return o.replaceCatalogWithProgress(a.catalog,g.value),await i.info(e("explorer.catalog.replace.notification.catalogReplacementStarted",{catalogName:a.catalog.name})),!0}catch(m){return await i.error(e("explorer.catalog.replace.notification.couldNotReplaceCatalog",{catalogNameToBeReplaced:a.catalog.name,reason:m.message})),!1}}return(m,C)=>{const S=Z("I18nT");return v(),V(Y,{"model-value":m.modelValue,dangerous:"",changed:c.value,"confirm-button-icon":"mdi-file-replace-outline",confirm:_,reset:h,"onUpdate:modelValue":C[1]||(C[1]=I=>r("update:modelValue",I))},{title:s(()=>[w(S,{keypath:"explorer.catalog.replace.title"},{catalogNameToBeReplaced:s(()=>[b("strong",null,p(m.catalog.name),1)]),_:1})]),default:s(()=>[w(Ye,{modelValue:g.value,"onUpdate:modelValue":C[0]||(C[0]=I=>g.value=I),label:f(e)("explorer.catalog.replace.form.catalogNameToBeReplacedWith.label"),items:u.value,rules:n},null,8,["modelValue","label","items"])]),"append-form":s(()=>[w(he,{icon:"mdi-information-outline",type:"info"},{default:s(()=>[w(S,{keypath:"explorer.catalog.replace.info"},ra({catalogNameToBeReplaced:s(()=>[b("strong",null,p(m.catalog.name),1)]),_:2},[c.value?{name:"catalogNameToBeReplacedWith",fn:s(()=>[b("strong",null,p(g.value),1)]),key:"0"}:{name:"catalogNameToBeReplacedWith",fn:s(()=>[C[2]||(C[2]=b("strong",null,"?",-1))]),key:"1"}]),1024)]),_:1})]),"confirm-button-body":s(()=>[T(p(f(e)("common.button.replace")),1)]),_:1},8,["model-value","changed"])}}}),al=E({__name:"CreateCollectionDialog",props:{modelValue:{type:Boolean},catalogName:{}},emits:["update:modelValue"],setup(t,{emit:d}){const o=xe(),i=j(),{t:e}=H(),a=t,r=d,n=[c=>c!=null&&c.trim().length>0?!0:e("explorer.collection.create.form.entityType.validations.required"),async c=>{const h=await o.isEntityTypeValid(c);return h==null?!0:e(`explorer.collection.create.form.entityType.validations.${h}`)},async c=>await o.isEntityTypeAvailable(a.catalogName,c)?!0:e("explorer.collection.create.form.entityType.validations.notAvailable")],l=N(""),u=x(()=>l.value.length>0);function y(){l.value=""}async function g(){try{return await o.createCollection(a.catalogName,l.value),await i.success(e("explorer.collection.create.notification.collectionCreated",{entityType:l.value})),!0}catch(c){return await i.error(e("explorer.collection.create.notification.couldNotCreateCollection",{entityType:l.value,reason:c.message})),!1}}return(c,h)=>{const _=Z("I18nT");return v(),V(Y,{"model-value":c.modelValue,changed:u.value,"confirm-button-icon":"mdi-plus",confirm:g,reset:y,"onUpdate:modelValue":h[1]||(h[1]=m=>r("update:modelValue",m))},{title:s(()=>[w(_,{keypath:"explorer.collection.create.title"},{catalogName:s(()=>[b("strong",null,p(c.catalogName),1)]),_:1})]),default:s(()=>[w(me,{modelValue:l.value,"onUpdate:modelValue":h[0]||(h[0]=m=>l.value=m),label:f(e)("explorer.collection.create.form.entityType.label"),rules:n,required:""},null,8,["modelValue","label"])]),"confirm-button-body":s(()=>[T(p(f(e)("common.button.create")),1)]),_:1},8,["model-value","changed"])}}}),ol=E({__name:"SwitchCatalogToAliveStateDialog",props:{modelValue:{type:Boolean},catalog:{}},emits:["update:modelValue"],setup(t,{emit:d}){const o=ee(),i=j(),{t:e}=H(),a=t,r=d;async function n(){try{return o.switchCatalogAliveWithProgress(a.catalog),await i.info(e("explorer.catalog.switchToAliveState.notification.catalogSwitchStarted",{catalogName:a.catalog.name})),!0}catch(l){return await i.error(e("explorer.catalog.switchToAliveState.notification.couldNotSwitchCatalog",{catalogName:a.catalog.name,reason:l.message})),!1}}return(l,u)=>{const y=Z("I18nT");return v(),V(Y,{"model-value":l.modelValue,dangerous:"",changed:"","confirm-button-icon":"mdi-toggle-switch-outline",confirm:n,"onUpdate:modelValue":u[0]||(u[0]=g=>r("update:modelValue",g))},{title:s(()=>[w(y,{keypath:"explorer.catalog.switchToAliveState.title"},{catalogName:s(()=>[b("strong",null,p(l.catalog.name),1)]),_:1})]),"prepend-form":s(()=>[T(p(f(e)("explorer.catalog.switchToAliveState.description")),1)]),"append-form":s(()=>[w(he,{icon:"mdi-alert-outline",type:"warning"},{default:s(()=>[T(p(f(e)("explorer.catalog.switchToAliveState.warning")),1)]),_:1})]),"confirm-button-body":s(()=>[T(p(f(e)("common.button.switch")),1)]),_:1},8,["model-value"])}}}),ll=E({__name:"DuplicateCatalogDialog",props:{modelValue:{type:Boolean},catalog:{}},emits:["update:modelValue"],setup(t,{emit:d}){const{t:o}=H(),i=ee(),e=j(),a=t,r=d,n=N(),l=[c=>c!=null&&c.trim().length>0?!0:o("explorer.catalog.duplication.form.duplicationName.validations.required"),async c=>{const h=await i.isCatalogNameValid(c);return h==null?!0:o(`explorer.catalog.duplication.form.duplicationName.validations.${h}`)},async c=>c===a.catalog.name||await i.isCatalogNameAvailable(c)?!0:o("explorer.catalog.duplication.form.duplicationName.validations.notAvailable")],u=x(()=>a.catalog.name!==n.value);async function y(){try{return i.duplicateCatalogWithProgress(a.catalog,n.value),await e.info(o("explorer.catalog.duplication.notification.catalogDuplicationStarted",{catalogName:a.catalog.name})),!0}catch(c){return await e.error(o("explorer.catalog.duplication.notification.couldNotDuplicateCatalog",{catalogName:a.catalog.name,reason:c.message})),!1}}async function g(){n.value=""}return(c,h)=>{const _=Z("I18nT");return v(),V(Y,{"model-value":c.modelValue,confirm:y,"confirm-button-icon":"mdi-content-duplicate",changed:u.value,reset:g,"onUpdate:modelValue":h[1]||(h[1]=m=>r("update:modelValue",m))},{title:s(()=>[w(_,{keypath:"explorer.catalog.duplication.title"},{catalogName:s(()=>[b("strong",null,p(c.catalog.name),1)]),_:1})]),default:s(()=>[w(me,{modelValue:f(n),"onUpdate:modelValue":h[0]||(h[0]=m=>ia(n)?n.value=m:null),label:f(o)("explorer.catalog.duplication.form.duplicationName.label"),rules:l,required:""},null,8,["modelValue","label"])]),"confirm-button-body":s(()=>[T(p(f(o)("explorer.catalog.duplication.form.buttons.duplicate")),1)]),_:1},8,["model-value","changed"])}}}),nl=E({__name:"ActivateCatalog",props:{modelValue:{type:Boolean},catalog:{}},emits:["update:modelValue"],setup(t,{emit:d}){const o=t,i=d,{t:e}=H(),a=j(),r=ee(),n=x(()=>o.catalog!=null);async function l(){try{return r.activateCatalogWithProgress(o.catalog),await a.info(e("explorer.catalog.activateCatalog.notification.catalogActivationStarted",{catalogName:o.catalog.name})),!0}catch(u){return await a.error(e("explorer.catalog.activateCatalog.notification.couldNotActivateCatalog",{catalogName:o.catalog.name,reason:u.message})),!1}}return(u,y)=>{const g=Z("I18nT");return v(),V(Y,{"model-value":u.modelValue,confirm:l,changed:f(n),"confirm-button-icon":"mdi-check-circle-outline","onUpdate:modelValue":y[0]||(y[0]=c=>i("update:modelValue",c))},{title:s(()=>[w(g,{keypath:"explorer.catalog.activateCatalog.title"},{catalogName:s(()=>[b("strong",null,p(u.catalog.name),1)]),_:1})]),"prepend-form":s(()=>[T(p(f(e)("explorer.catalog.activateCatalog.description")),1)]),"confirm-button-body":s(()=>[T(p(f(e)("explorer.catalog.activateCatalog.buttons.activateCatalog")),1)]),_:1},8,["model-value","changed"])}}}),rl=E({__name:"DeactivateCatalog",props:{modelValue:{type:Boolean},catalog:{}},emits:["update:modelValue"],setup(t,{emit:d}){const o=t,i=d,{t:e}=H(),a=ee(),r=j(),n=x(()=>o.catalog!=null);async function l(){try{return a.deactivateCatalogWithProgress(o.catalog),await r.info(e("explorer.catalog.deactivateCatalog.notification.catalogDeactivationStarted")),!0}catch(u){return await r.error(e("explorer.catalog.deactivateCatalog.notification.couldNotDeactivateCatalog",{catalogName:o.catalog.name,reason:u.message})),!1}}return(u,y)=>{const g=Z("I18nT");return v(),V(Y,{"model-value":u.modelValue,confirm:l,changed:f(n),"confirm-button-icon":"mdi-close-circle-outline","onUpdate:modelValue":y[0]||(y[0]=c=>i("update:modelValue",c))},{title:s(()=>[w(g,{keypath:"explorer.catalog.deactivateCatalog.title"},{catalogName:s(()=>[b("strong",null,p(u.catalog.name),1)]),_:1})]),"prepend-form":s(()=>[T(p(f(e)("explorer.catalog.deactivateCatalog.description")),1)]),"confirm-button-body":s(()=>[T(p(f(e)("explorer.catalog.deactivateCatalog.buttons.deactivateCatalog")),1)]),_:1},8,["model-value","changed"])}}}),il=E({__name:"MakeCatalogImmutable",props:{modelValue:{type:Boolean},catalog:{}},emits:["update:modelValue"],setup(t,{emit:d}){const o=t,i=d,{t:e}=H(),a=ee(),r=j(),n=x(()=>o.catalog!=null);async function l(){try{return a.makeCatalogImmutableWithProgress(o.catalog),await r.info(e("explorer.catalog.makeCatalogImmutable.notification.catalogImmutableSwitchStarted",{catalogName:o.catalog.name})),!0}catch(u){return await r.error(e("explorer.catalog.makeCatalogImmutable.notification.couldNotMakeCatalogImmutable",{catalogName:o.catalog.name,reason:u.message})),!1}}return(u,y)=>{const g=Z("I18nT");return v(),V(Y,{"model-value":u.modelValue,confirm:l,changed:f(n),"confirm-button-icon":"mdi-lock-outline","onUpdate:modelValue":y[0]||(y[0]=c=>i("update:modelValue",c))},{title:s(()=>[w(g,{keypath:"explorer.catalog.makeCatalogImmutable.title"},{catalogName:s(()=>[b("strong",null,p(u.catalog.name),1)]),_:1})]),"prepend-form":s(()=>[T(p(f(e)("explorer.catalog.makeCatalogImmutable.description")),1)]),"confirm-button-body":s(()=>[T(p(f(e)("explorer.catalog.makeCatalogImmutable.buttons.makeCatalogImmutable")),1)]),_:1},8,["model-value","changed"])}}}),sl=E({__name:"MakeCatalogMutable",props:{modelValue:{type:Boolean},catalog:{}},emits:["update:modelValue"],setup(t,{emit:d}){const o=t,i=d,{t:e}=H(),a=ee(),r=j(),n=x(()=>o.catalog!=null);async function l(){try{return a.makeCatalogMutableWithProgress(o.catalog),await r.info(e("explorer.catalog.makeCatalogMutable.notification.catalogMutableSwitchStarted",{catalogName:o.catalog.name})),!0}catch(u){return await r.error(e("explorer.catalog.makeCatalogMutable.notification.couldNotMakeCatalogMutable",{catalogName:o.catalog.name,reason:u.message})),!1}}return(u,y)=>{const g=Z("I18nT");return v(),V(Y,{"model-value":u.modelValue,confirm:l,changed:f(n),"confirm-button-icon":"mdi-lock-open-variant-outline","onUpdate:modelValue":y[0]||(y[0]=c=>i("update:modelValue",c))},{title:s(()=>[w(g,{keypath:"explorer.catalog.makeCatalogMutable.title"},{catalogName:s(()=>[b("strong",null,p(u.catalog.name),1)]),_:1})]),"prepend-form":s(()=>[T(p(f(e)("explorer.catalog.makeCatalogMutable.description")),1)]),"confirm-button-body":s(()=>[T(p(f(e)("explorer.catalog.makeCatalogMutable.buttons.makeCatalogMutable")),1)]),_:1},8,["model-value","changed"])}}}),cl={key:0},ul={key:1},dl={key:0},ml=E({__name:"CatalogItem",props:{catalog:{}},setup(t){const d=ee(),o=sa(),i=ca(),e=se(),a=j(),{t:r}=H(),n=t,l=ne(n,"catalog"),u=nt(),y=N(!1),g=N(!1),c=N(!1),h=N(!1),_=N(!1),m=N(!1),C=N(!1),S=N(!1),I=N(!1),U=N(!1),z=N(!1),L=N([]);de(()=>k());function k(){if(L.value=[],n.catalog.catalogState===_e.Corrupted?L.value.push(oe.error(r("explorer.catalog.flag.corrupted"))):n.catalog.catalogState===_e.WarmingUp?L.value.push(oe.warning(r("explorer.catalog.flag.warmingUp"))):n.catalog.catalogState!==_e.Alive&&L.value.push(oe.info(r(`explorer.catalog.flag.${n.catalog.catalogState.toString()}`))),n.catalog.progresses)for(const B of n.catalog.progresses)L.value.push(oe.info(r(`explorer.catalog.flag.${B[0]}`,[B[1]])))}const $=N();F(l,()=>{k()},{deep:!0}),F([u,()=>n.catalog],async()=>$.value=await ye(),{immediate:!0});const A=x(()=>$.value==null?[]:Array.from($.value.values())),W=x(()=>ua(n.catalog.entityCollectionStatistics).sort((B,R)=>B.entityType.localeCompare(R.entityType)));Yo(l);const G=N(!1);async function X(){try{await d.closeSharedSession(n.catalog.name),await a.success(r("explorer.catalog.notification.closedSharedSession",{catalogName:n.catalog.name}))}catch(B){await a.error(r("explorer.catalog.notification.couldNotCloseSharedSession",{catalogName:n.catalog.name,reason:B.message}))}}function ce(B){const R=$.value?.get(B);R&&R instanceof De&&R.execute()}async function ye(){return await o.createItems(u.value,n.catalog,()=>X().then(),()=>y.value=!0,()=>C.value=!0,()=>g.value=!0,()=>S.value=!0,()=>I.value=!0,()=>U.value=!0,()=>z.value=!0,()=>c.value=!0,()=>h.value=!0,()=>_.value=!0,()=>m.value=!0,n.catalog.catalogState)}return(B,R)=>(v(),V(da,{value:B.catalog.name},{activator:s(({isOpen:M,props:be})=>[w(at,K(be,{openable:!B.catalog.unusable,"is-open":M,"prepend-icon":B.catalog.readOnly?"mdi-database-eye-outline":"mdi-database-outline",loading:G.value,flags:L.value,actions:A.value,"is-read-only":f(u)?.readOnly,"catalog-name":B.catalog.name,"onClick:action":ce,class:"text-gray-light"}),{default:s(()=>[b("span",null,p(B.catalog.name),1)]),tooltip:s(()=>[B.catalog.readOnly?(v(),D("span",ul,p(B.catalog.name)+" "+p(f(r)("explorer.catalog.title.readOnly")),1)):(v(),D("span",cl,p(B.catalog.name),1))]),_:2},1040,["openable","is-open","prepend-icon","loading","flags","actions","is-read-only","catalog-name"])]),default:s(()=>[B.catalog.unusable?P("",!0):(v(),D("div",dl,[B.catalog.entityCollectionStatistics.size>0?(v(!0),D(O,{key:0},le(W.value,M=>(v(),V(Jo,{key:M.entityType,"entity-collection":M},null,8,["entity-collection"]))),128)):(v(),V(ot,{key:1}))])),w(ma,{"model-value":m.value,"catalog-name":B.catalog.name,"onUpdate:modelValue":R[0]||(R[0]=M=>m.value=M),onBackup:R[1]||(R[1]=()=>{m.value=!1,f(e).createTab(f(i).createNew())})},null,8,["model-value","catalog-name"]),y.value?(v(),V(Qo,{key:1,modelValue:y.value,"onUpdate:modelValue":R[2]||(R[2]=M=>y.value=M),catalog:B.catalog},null,8,["modelValue","catalog"])):P("",!0),C.value?(v(),V(ll,{key:2,modelValue:C.value,"onUpdate:modelValue":R[3]||(R[3]=M=>C.value=M),catalog:B.catalog},null,8,["modelValue","catalog"])):P("",!0),g.value?(v(),V(tl,{key:3,modelValue:g.value,"onUpdate:modelValue":R[4]||(R[4]=M=>g.value=M),catalog:B.catalog},null,8,["modelValue","catalog"])):P("",!0),U.value?(v(),V(nl,{key:4,modelValue:U.value,"onUpdate:modelValue":R[5]||(R[5]=M=>U.value=M),catalog:B.catalog},null,8,["modelValue","catalog"])):P("",!0),z.value?(v(),V(rl,{key:5,modelValue:z.value,"onUpdate:modelValue":R[6]||(R[6]=M=>z.value=M),catalog:B.catalog},null,8,["modelValue","catalog"])):P("",!0),I.value?(v(),V(il,{key:6,modelValue:I.value,"onUpdate:modelValue":R[7]||(R[7]=M=>I.value=M),catalog:B.catalog},null,8,["modelValue","catalog"])):P("",!0),S.value?(v(),V(sl,{key:7,modelValue:S.value,"onUpdate:modelValue":R[8]||(R[8]=M=>S.value=M),catalog:B.catalog},null,8,["modelValue","catalog"])):P("",!0),c.value?(v(),V(ol,{key:8,modelValue:c.value,"onUpdate:modelValue":R[9]||(R[9]=M=>c.value=M),catalog:B.catalog},null,8,["modelValue","catalog"])):P("",!0),h.value?(v(),V(el,{key:9,modelValue:h.value,"onUpdate:modelValue":R[10]||(R[10]=M=>h.value=M),"catalog-name":B.catalog.name},null,8,["modelValue","catalog-name"])):P("",!0),_.value?(v(),V(al,{key:10,modelValue:_.value,"onUpdate:modelValue":R[11]||(R[11]=M=>_.value=M),"catalog-name":B.catalog.name},null,8,["modelValue","catalog-name"])):P("",!0)]),_:1},8,["value"]))}}),vl={class:"panel-header"},gl={class:"text-gray-light text-sm-body-2 font-weight-medium"},pl={class:"d-inline-flex align-center"},fl=E({__name:"ConnectionExplorerPanel",setup(t){const d=va(),o=ga(),i=j(),{t:e}=H();let a=!1;const r=N(!1),n=N(),l=d.registerServerStatusChangeCallback(async()=>{await C()});qo(n);const u=N(),y=d.registerCatalogChangeCallback(async()=>{await S()}),g=N(!1),c=N();F(n,async()=>c.value=await I(),{immediate:!0});const h=N(!1),_=x(()=>c.value==null?[]:Array.from(c.value.values()));async function m(){a||(r.value=!0,a=await C().then(z=>z?S():!1),r.value=!1)}async function C(){try{return n.value=await d.getServerStatus(),!0}catch(z){return await i.error(e("explorer.connection.notification.couldNotLoadServerStatus",{reason:z.message})),!1}}async function S(){try{return u.value=await d.getCatalogs(),!0}catch(z){return await i.error(e("explorer.connection.notification.couldNotLoadCatalogs",{reason:z.message})),!1}}async function I(){return o.createItems(n.value,()=>g.value=!0,()=>r.value=!0,()=>r.value=!1)}function U(z){if(c.value==null)return;const L=c.value.get(z);L instanceof De&&L.execute()}return Ge(()=>{d.unregisterServerStatusChangeCallback(l),d.unregisterCatalogChangeCallback(y)}),m().then(),(z,L)=>(v(),V(Da,{permanent:"",width:325,"onUpdate:modelValue":L[3]||(L[3]=k=>z.$emit("update:modelValue",k)),class:"bg-primary"},{default:s(()=>[w(Ce,{density:"compact",nav:""},{default:s(()=>[b("div",vl,[b("span",gl,[b("span",pl,[T(p(f(e)("explorer.title"))+" ",1),w(ie,{location:"bottom"},{activator:s(({props:k})=>[n.value?.readOnly?(v(),V(ae,K({key:0},k,{class:"icon",icon:"mdi-eye-outline"}),null,16)):P("",!0)]),default:s(()=>[T(p(f(e)("explorer.readOnlyToolTip"))+" ",1)]),_:1})])]),w(Xe,{"menu-items":c.value,modelValue:h.value,"onUpdate:modelValue":L[1]||(L[1]=k=>h.value=k)},{activator:s(({props:k})=>[r.value?(v(),V(pa,K({key:0},k,{indeterminate:"",size:"16",class:"connection-loading"}),null,16)):(v(),V(ae,K({key:1},k,{class:"text-gray-light"}),{default:s(()=>L[4]||(L[4]=[T(" mdi-dots-vertical ")])),_:2,__:[4]},1040))]),default:s(()=>[w(Ce,{density:"compact",items:_.value,"onClick:select":L[0]||(L[0]=k=>U(k.id))},{item:s(({props:k})=>[w(pe,{"prepend-icon":k.prependIcon,value:k.value,disabled:k.disabled},{default:s(()=>[T(p(k.title),1)]),_:2},1032,["prepend-icon","value","disabled"])]),_:1},8,["items"])]),_:1},8,["menu-items","modelValue"])]),u.value!=null&&u.value.size>0?(v(!0),D(O,{key:0},le(u.value,k=>(v(),V(ml,{key:k.name,catalog:k},null,8,["catalog"]))),128)):(v(),V(ot,{key:1})),g.value?(v(),V(Uo,{key:2,modelValue:g.value,"onUpdate:modelValue":L[2]||(L[2]=k=>g.value=k)},null,8,["modelValue"])):P("",!0)]),_:1})]),_:1}))}}),wl=Q(fl,[["__scopeId","data-v-5c8c2fb5"]]);export{wl as C,Da as V,_l as W,bl as a};
