var ft=Object.defineProperty;var ht=(e,l,n)=>l in e?ft(e,l,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[l]=n;var be=(e,l,n)=>(ht(e,typeof l!="symbol"?l+"":l,n),n);import{p as pe,O as R,P as Y,I as k,Q as yt,R as Q,q as fe,S as Te,T as bt,g as Ve,U as je,W as ce,X as ke,Y as ve,c as Ne,Z as Le,d as _,z as X,$ as Fe,m as Ge,a0 as _t,a1 as Qe,a2 as wt,a3 as St,a4 as Ct,a5 as Tt,a6 as Vt,a7 as kt,a8 as Nt,a9 as xt,aa as It,a as Dt,u as Rt,b as Et,ab as Bt,ac as Me,ad as $t,ae as Pt,af as Lt,ag as Mt,ah as Wt,ai as At,aj as Ht,M as xe,ak as Ut,al as zt,F as G,am as jt,an as Ft,f as H,n as F,o as p,h as $,J as C,ao as qe,x as y,y as S,_ as K,j as ie,e as x,ap as Gt,aq as Qt,ar as qt,as as Ot,E as z,at as Yt,r as oe,v as D,au as ae,w as m,av as Xt,L as Oe,aw as Ye,ax as We,l as O,t as _e,ay as Kt,az as Zt,aA as he,aB as Xe,aC as ee,aD as Jt,aE as ea,aF as ta,aG as aa,aH as oa,i as na,aI as la,C as J,s as Ke,aJ as ia,aK as sa,aL as ra,aM as we,V as ue,A as ca,aN as te,D as ua,aO as da,aP as Se,aQ as se,aR as ye,H as Ze,G as Ce,N as ge,aS as Ie,aT as Je,aU as et,aV as ma,aW as tt,aX as va,aY as re,aZ as de,a_ as ga,a$ as pa,b0 as at,b1 as fa,b2 as ha,b3 as ya,b4 as ba,b5 as _a,b6 as wa,b7 as Sa,b8 as Ca,b9 as Ae,ba as He,bb as Ta,bc as Va,bd as ka,be as Na,bf as xa}from"./index-a1fec0789db7623a.js";import{a as ot,u as nt,b as Ia}from"./layout-eb0ee407-a1fec0789db7623a.js";const Da=pe({scrollTarget:{type:String},scrollThreshold:{type:[String,Number],default:300}},"scroll");function Ra(e){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{canScroll:n}=l;let i=0,t=0;const a=R(null),s=Y(0),r=Y(0),o=Y(0),u=Y(!1),b=Y(!1),v=k(()=>Number(e.scrollThreshold)),d=k(()=>yt((v.value-s.value)/v.value||0)),f=()=>{const w=a.value;if(!w||n&&!n.value)return;i=s.value,s.value="window"in w?w.pageYOffset:w.scrollTop;const c=w instanceof Window?document.documentElement.scrollHeight:w.scrollHeight;if(t!==c){t=c;return}b.value=s.value<i,o.value=Math.abs(s.value-v.value)};return Q(b,()=>{r.value=r.value||s.value}),Q(u,()=>{r.value=0}),fe(()=>{Q(()=>e.scrollTarget,w=>{var h;const c=w?document.querySelector(w):window;c&&c!==a.value&&((h=a.value)==null||h.removeEventListener("scroll",f),a.value=c,a.value.addEventListener("scroll",f,{passive:!0}))},{immediate:!0})}),Te(()=>{var w;(w=a.value)==null||w.removeEventListener("scroll",f)}),n&&Q(n,f,{immediate:!0}),{scrollThreshold:v,currentScroll:s,currentThreshold:o,isScrollActive:u,scrollRatio:d,isScrollingUp:b,savedScroll:r}}const Ea=pe({scrollBehavior:String,modelValue:{type:Boolean,default:!0},location:{type:String,default:"top",validator:e=>["top","bottom"].includes(e)},...bt(),...ot(),...Da(),height:{type:[Number,String],default:64}},"VAppBar"),lt=Ve()({name:"VAppBar",props:Ea(),emits:{"update:modelValue":e=>!0},setup(e,l){let{slots:n}=l;const i=R(),t=je(e,"modelValue"),a=k(()=>{var W;const T=new Set(((W=e.scrollBehavior)==null?void 0:W.split(" "))??[]);return{hide:T.has("hide"),fullyHide:T.has("fully-hide"),inverted:T.has("inverted"),collapse:T.has("collapse"),elevate:T.has("elevate"),fadeImage:T.has("fade-image")}}),s=k(()=>{const T=a.value;return T.hide||T.fullyHide||T.inverted||T.collapse||T.elevate||T.fadeImage||!t.value}),{currentScroll:r,scrollThreshold:o,isScrollingUp:u,scrollRatio:b}=Ra(e,{canScroll:s}),v=k(()=>a.value.hide||a.value.fullyHide),d=k(()=>e.collapse||a.value.collapse&&(a.value.inverted?b.value>0:b.value===0)),f=k(()=>e.flat||a.value.fullyHide&&!t.value||a.value.elevate&&(a.value.inverted?r.value>0:r.value===0)),w=k(()=>a.value.fadeImage?a.value.inverted?1-b.value:b.value:void 0),c=k(()=>{var j,U;if(a.value.hide&&a.value.inverted)return 0;const T=((j=i.value)==null?void 0:j.contentHeight)??0,W=((U=i.value)==null?void 0:U.extensionHeight)??0;return v.value?r.value<o.value||a.value.fullyHide?T+W:T:T+W});ce(k(()=>!!e.scrollBehavior),()=>{Fe(()=>{v.value?a.value.inverted?t.value=r.value>o.value:t.value=u.value||r.value<o.value:t.value=!0})});const{ssrBootStyles:h}=ke(),{layoutItemStyles:g}=nt({id:e.name,order:k(()=>parseInt(e.order,10)),position:ve(e,"location"),layoutSize:c,elementSize:Y(void 0),active:t,absolute:ve(e,"absolute")});return Ne(()=>{const T=Le.filterProps(e);return _(Le,X({ref:i,class:["v-app-bar",{"v-app-bar--bottom":e.location==="bottom"},e.class],style:[{...g.value,"--v-toolbar-image-opacity":w.value,height:void 0,...h.value},e.style]},T,{collapse:d.value,flat:f.value}),n)}),{}}});const Ba=pe({scrollable:Boolean,...Ge(),..._t(),...Qe({tag:"main"})},"VMain"),$a=Ve()({name:"VMain",props:Ba(),setup(e,l){let{slots:n}=l;const{dimensionStyles:i}=wt(e),{mainStyles:t}=Ia(),{ssrBootStyles:a}=ke();return Ne(()=>_(e.tag,{class:["v-main",{"v-main--scrollable":e.scrollable},e.class],style:[t.value,a.value,i.value,e.style]},{default:()=>{var s,r;return[e.scrollable?_("div",{class:"v-main__scroller"},[(s=n.default)==null?void 0:s.call(n)]):(r=n.default)==null?void 0:r.call(n)]}})),{}}});function Pa(e){let{rootEl:l,isSticky:n,layoutItemStyles:i}=e;const t=Y(!1),a=Y(0),s=k(()=>{const u=typeof t.value=="boolean"?"top":t.value;return[n.value?{top:"auto",bottom:"auto",height:void 0}:void 0,t.value?{[u]:St(a.value)}:{top:i.value.top}]});fe(()=>{Q(n,u=>{u?window.addEventListener("scroll",o,{passive:!0}):window.removeEventListener("scroll",o)},{immediate:!0})}),Te(()=>{window.removeEventListener("scroll",o)});let r=0;function o(){const u=r>window.scrollY?"up":"down",b=l.value.getBoundingClientRect(),v=parseFloat(i.value.top??0),d=window.scrollY-Math.max(0,a.value-v),f=b.height+Math.max(a.value,v)-window.scrollY-window.innerHeight,w=parseFloat(getComputedStyle(l.value).getPropertyValue("--v-body-scroll-y"))||0;b.height<window.innerHeight-v?(t.value="top",a.value=v):u==="up"&&t.value==="bottom"||u==="down"&&t.value==="top"?(a.value=window.scrollY+b.top-w,t.value=!0):u==="down"&&f<=0?(a.value=0,t.value="bottom"):u==="up"&&d<=0&&(w?t.value!=="top"&&(a.value=-d+w+v,t.value="top"):(a.value=b.top+d,t.value="top")),r=window.scrollY}return{isStuck:t,stickyStyles:s}}const La=100,Ma=20;function Ue(e){const l=1.41421356237;return(e<0?-1:1)*Math.sqrt(Math.abs(e))*l}function ze(e){if(e.length<2)return 0;if(e.length===2)return e[1].t===e[0].t?0:(e[1].d-e[0].d)/(e[1].t-e[0].t);let l=0;for(let n=e.length-1;n>0;n--){if(e[n].t===e[n-1].t)continue;const i=Ue(l),t=(e[n].d-e[n-1].d)/(e[n].t-e[n-1].t);l+=(t-i)*Math.abs(t),n===e.length-1&&(l*=.5)}return Ue(l)*1e3}function Wa(){const e={};function l(t){Array.from(t.changedTouches).forEach(a=>{(e[a.identifier]??(e[a.identifier]=new Ct(Ma))).push([t.timeStamp,a])})}function n(t){Array.from(t.changedTouches).forEach(a=>{delete e[a.identifier]})}function i(t){var u;const a=(u=e[t])==null?void 0:u.values().reverse();if(!a)throw new Error(`No samples for touch id ${t}`);const s=a[0],r=[],o=[];for(const b of a){if(s[0]-b[0]>La)break;r.push({t:b[0],d:b[1].clientX}),o.push({t:b[0],d:b[1].clientY})}return{x:ze(r),y:ze(o),get direction(){const{x:b,y:v}=this,[d,f]=[Math.abs(b),Math.abs(v)];return d>f&&b>=0?"right":d>f&&b<=0?"left":f>d&&v>=0?"down":f>d&&v<=0?"up":Aa()}}}return{addMovement:l,endTouch:n,getVelocity:i}}function Aa(){throw new Error}function Ha(e){let{el:l,isActive:n,isTemporary:i,width:t,touchless:a,position:s}=e;fe(()=>{window.addEventListener("touchstart",T,{passive:!0}),window.addEventListener("touchmove",W,{passive:!1}),window.addEventListener("touchend",j,{passive:!0})}),Te(()=>{window.removeEventListener("touchstart",T),window.removeEventListener("touchmove",W),window.removeEventListener("touchend",j)});const r=k(()=>["left","right"].includes(s.value)),{addMovement:o,endTouch:u,getVelocity:b}=Wa();let v=!1;const d=Y(!1),f=Y(0),w=Y(0);let c;function h(V,P){return(s.value==="left"?V:s.value==="right"?document.documentElement.clientWidth-V:s.value==="top"?V:s.value==="bottom"?document.documentElement.clientHeight-V:ne())-(P?t.value:0)}function g(V){let P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const L=s.value==="left"?(V-w.value)/t.value:s.value==="right"?(document.documentElement.clientWidth-V-w.value)/t.value:s.value==="top"?(V-w.value)/t.value:s.value==="bottom"?(document.documentElement.clientHeight-V-w.value)/t.value:ne();return P?Math.max(0,Math.min(1,L)):L}function T(V){if(a.value)return;const P=V.changedTouches[0].clientX,L=V.changedTouches[0].clientY,E=25,I=s.value==="left"?P<E:s.value==="right"?P>document.documentElement.clientWidth-E:s.value==="top"?L<E:s.value==="bottom"?L>document.documentElement.clientHeight-E:ne(),N=n.value&&(s.value==="left"?P<t.value:s.value==="right"?P>document.documentElement.clientWidth-t.value:s.value==="top"?L<t.value:s.value==="bottom"?L>document.documentElement.clientHeight-t.value:ne());(I||N||n.value&&i.value)&&(c=[P,L],w.value=h(r.value?P:L,n.value),f.value=g(r.value?P:L),v=w.value>-20&&w.value<80,u(V),o(V))}function W(V){const P=V.changedTouches[0].clientX,L=V.changedTouches[0].clientY;if(v){if(!V.cancelable){v=!1;return}const I=Math.abs(P-c[0]),N=Math.abs(L-c[1]);(r.value?I>N&&I>3:N>I&&N>3)?(d.value=!0,v=!1):(r.value?N:I)>3&&(v=!1)}if(!d.value)return;V.preventDefault(),o(V);const E=g(r.value?P:L,!1);f.value=Math.max(0,Math.min(1,E)),E>1?w.value=h(r.value?P:L,!0):E<0&&(w.value=h(r.value?P:L,!1))}function j(V){if(v=!1,!d.value)return;o(V),d.value=!1;const P=b(V.changedTouches[0].identifier),L=Math.abs(P.x),E=Math.abs(P.y);(r.value?L>E&&L>400:E>L&&E>3)?n.value=P.direction===({left:"right",right:"left",top:"down",bottom:"up"}[s.value]||ne()):n.value=f.value>.5}const U=k(()=>d.value?{transform:s.value==="left"?`translateX(calc(-100% + ${f.value*t.value}px))`:s.value==="right"?`translateX(calc(100% - ${f.value*t.value}px))`:s.value==="top"?`translateY(calc(-100% + ${f.value*t.value}px))`:s.value==="bottom"?`translateY(calc(100% - ${f.value*t.value}px))`:ne(),transition:"none"}:void 0);return ce(d,()=>{var L,E;const V=((L=l.value)==null?void 0:L.style.transform)??null,P=((E=l.value)==null?void 0:E.style.transition)??null;Fe(()=>{var I,N,B,A;(N=l.value)==null||N.style.setProperty("transform",((I=U.value)==null?void 0:I.transform)||"none"),(A=l.value)==null||A.style.setProperty("transition",((B=U.value)==null?void 0:B.transition)||null)}),Tt(()=>{var I,N;(I=l.value)==null||I.style.setProperty("transform",V),(N=l.value)==null||N.style.setProperty("transition",P)})}),{isDragging:d,dragProgress:f,dragStyles:U}}function ne(){throw new Error}const Ua=["start","end","left","right","top","bottom"],za=pe({color:String,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,modelValue:{type:Boolean,default:null},permanent:Boolean,rail:{type:Boolean,default:null},railWidth:{type:[Number,String],default:56},scrim:{type:[Boolean,String],default:!0},image:String,temporary:Boolean,persistent:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},location:{type:String,default:"start",validator:e=>Ua.includes(e)},sticky:Boolean,...Vt(),...Ge(),...kt(),...Nt({mobile:null}),...xt(),...ot(),...It(),...Qe({tag:"nav"}),...Dt()},"VNavigationDrawer"),ja=Ve()({name:"VNavigationDrawer",props:za(),emits:{"update:modelValue":e=>!0,"update:rail":e=>!0},setup(e,l){let{attrs:n,emit:i,slots:t}=l;const{isRtl:a}=Rt(),{themeClasses:s}=Et(e),{borderClasses:r}=Bt(e),{backgroundColorClasses:o,backgroundColorStyles:u}=Me(ve(e,"color")),{elevationClasses:b}=$t(e),{displayClasses:v,mobile:d}=Pt(e),{roundedClasses:f}=Lt(e),w=Mt(),c=je(e,"modelValue",null,q=>!!q),{ssrBootStyles:h}=ke(),{scopeId:g}=Wt(),T=R(),W=Y(!1),{runOpenDelay:j,runCloseDelay:U}=jt(e,q=>{W.value=q}),V=k(()=>e.rail&&e.expandOnHover&&W.value?Number(e.width):Number(e.rail?e.railWidth:e.width)),P=k(()=>At(e.location,a.value)),L=k(()=>e.persistent),E=k(()=>!e.permanent&&(d.value||e.temporary)),I=k(()=>e.sticky&&!E.value&&P.value!=="bottom");ce(()=>e.expandOnHover&&e.rail!=null,()=>{Q(W,q=>i("update:rail",!q))}),ce(()=>!e.disableResizeWatcher,()=>{Q(E,q=>!e.permanent&&Ft(()=>c.value=!q))}),ce(()=>!e.disableRouteWatcher&&!!w,()=>{Q(w.currentRoute,()=>E.value&&(c.value=!1))}),Q(()=>e.permanent,q=>{q&&(c.value=!0)}),e.modelValue==null&&!E.value&&(c.value=e.permanent||!d.value);const{isDragging:N,dragProgress:B}=Ha({el:T,isActive:c,isTemporary:E,width:V,touchless:ve(e,"touchless"),position:P}),A=k(()=>{const q=E.value?0:e.rail&&e.expandOnHover?Number(e.railWidth):V.value;return N.value?q*B.value:q}),mt=k(()=>["top","bottom"].includes(e.location)?0:V.value),{layoutItemStyles:De,layoutItemScrimStyles:vt}=nt({id:e.name,order:k(()=>parseInt(e.order,10)),position:P,layoutSize:A,elementSize:mt,active:k(()=>c.value||N.value),disableTransitions:k(()=>N.value),absolute:k(()=>e.absolute||I.value&&typeof Re.value!="string")}),{isStuck:Re,stickyStyles:gt}=Pa({rootEl:T,isSticky:I,layoutItemStyles:De}),Ee=Me(k(()=>typeof e.scrim=="string"?e.scrim:null)),pt=k(()=>({...N.value?{opacity:B.value*.2,transition:"none"}:void 0,...vt.value}));return Ht({VList:{bgColor:"transparent"}}),Ne(()=>{const q=t.image||e.image;return _(G,null,[_(e.tag,X({ref:T,onMouseenter:j,onMouseleave:U,class:["v-navigation-drawer",`v-navigation-drawer--${P.value}`,{"v-navigation-drawer--expand-on-hover":e.expandOnHover,"v-navigation-drawer--floating":e.floating,"v-navigation-drawer--is-hovering":W.value,"v-navigation-drawer--rail":e.rail,"v-navigation-drawer--temporary":E.value,"v-navigation-drawer--persistent":L.value,"v-navigation-drawer--active":c.value,"v-navigation-drawer--sticky":I.value},s.value,o.value,r.value,v.value,b.value,f.value,e.class],style:[u.value,De.value,h.value,gt.value,e.style,["top","bottom"].includes(P.value)?{height:"auto"}:{}]},g,n),{default:()=>{var Be,$e,Pe;return[q&&_("div",{key:"image",class:"v-navigation-drawer__img"},[t.image?_(Ut,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{alt:"",cover:!0,height:"inherit",src:e.image}}},t.image):_(xe,{key:"image-img",alt:"",cover:!0,height:"inherit",src:e.image},null)]),t.prepend&&_("div",{class:"v-navigation-drawer__prepend"},[(Be=t.prepend)==null?void 0:Be.call(t)]),_("div",{class:"v-navigation-drawer__content"},[($e=t.default)==null?void 0:$e.call(t)]),t.append&&_("div",{class:"v-navigation-drawer__append"},[(Pe=t.append)==null?void 0:Pe.call(t)])]}}),_(zt,{name:"fade-transition"},{default:()=>[E.value&&(N.value||c.value)&&!!e.scrim&&_("div",X({class:["v-navigation-drawer__scrim",Ee.backgroundColorClasses.value],style:[pt.value,Ee.backgroundColorStyles.value],onClick:()=>{L.value||(c.value=!1)}},g),null)]})])}),{isStuck:Re}}});function Fa(e,l){return e.length<=l?e:e.substring(0,l-3)+"..."}const Ga={class:"loading-screen"},Qa={class:"loading-screen-info"},qa=H({__name:"TabLoadingScreen",setup(e){const{t:l}=F();return(n,i)=>(p(),$("div",Ga,[C("div",Qa,[_(qe,{size:48}),C("span",null,y(S(l)("tab.placeholder.loading")),1)])]))}});const Oa=K(qa,[["__scopeId","data-v-b23d11da"]]),Ya=H({__name:"TabWindow",props:{id:{},component:{},componentProps:{}},setup(e){const l=ie(),n=e,i=R(!1),t=R();Q(t,()=>{r()});function a(){i.value=!0,r()}function s(o){l.replaceTabData(n.id,o),r()}function r(){if(i.value&&t.value!=null&&t.value.path!=null){const o=t.value.path();o!=null&&l.subjectPathStatus.definePath(n.id,o)}}return(o,u)=>(p(),$(G,null,[(p(),x(Ot,null,[Gt((p(),x(qt(o.component),X({ref_key:"componentInstance",ref:t},o.componentProps,{onReady:a,"onUpdate:data":s}),null,16)),[[Qt,i.value]])],1024)),i.value?z("",!0):(p(),x(Oa,{key:0}))],64))}}),it="/lab/logo/evitalab-logo-representative.svg",Xa={class:"editor-welcome-screen"},Ka={class:"editor-welcome-screen-hero"},Za={class:"editor-welcome-screen-hero__header"},Ja={class:"editor-welcome-screen-hero__title"},eo={class:"font-weight-bold mb-2",style:{"font-size":"4.375rem"}},to={class:"text-white",style:{"font-size":"1rem"}},ao={class:"text-primary-lightest text-body-2",href:"https://github.com/FgForrest/evitalab/releases",target:"_blank"},oo={class:"text-gray-light",style:{"font-size":"1rem"}},no={class:"editor-welcome-screen-blog"},lo=["href"],io={class:"editor-welcome-screen-blog-img__wrap"},so=["src","alt"],ro={class:"editor-welcome-screen-blog-item__title"},co={class:"editor-welcome-screen-blog-item__perex"},uo={class:"editor-welcome-screen-blog-item__btn"},mo={class:"editor-welcome-screen-hero__links"},vo={href:"https://evitadb.io/documentation",target:"_blank"},go={href:"https://github.com/FgForrest/evitalab/",target:"_blank"},po={href:"https://discord.gg/VsNBWxgmSw",target:"_blank"},fo={href:"https://github.com/FgForrest/evitalab/issues",target:"_blank"},ho=H({__name:"StandaloneWelcomeContent",props:{version:{}},setup(e){const l=Yt(),{t:n}=F(),i=R([]);return l.getBlogPosts().then(t=>{i.value=t}),(t,a)=>{const s=oe("I18nT");return p(),$("div",Xa,[C("div",Ka,[C("header",Za,[_(xe,{width:"240",height:"240","max-width":"240","max-height":"240",alt:"evitaLab Logo",src:it,class:"evitalab-logo"}),C("div",Ja,[C("h1",eo,y(S(n)("app.name")),1),C("p",to,[D(y(t.version)+" ",1),C("a",ao,"("+y(S(n)("welcomeScreen.standalone.changelog"))+")",1)]),C("p",oo,y(S(n)("welcomeScreen.standalone.description")),1)])]),C("div",no,[(p(!0),$(G,null,ae(i.value,r=>(p(),$("a",{key:r.url,href:r.url,target:"_blank"},[C("span",io,[C("img",{class:"Blog_BlogMotive__72hVr",height:"160",width:"480",src:r.thumbnailUrl,alt:S(n)("welcomeScreen.standalone.blog.thumbnail.alt",{title:r.title})},null,8,so)]),C("span",ro,y(r.title),1),C("span",co,[_(Xt,{source:r.perex},null,8,["source"])]),C("span",uo,y(S(n)("welcomeScreen.standalone.blog.button.read")),1)],8,lo))),128))]),a[0]||(a[0]=C("span",{class:"editor-welcome-screen-hr"}," ",-1)),C("ul",mo,[_(s,{keypath:"welcomeScreen.standalone.link.evitaDBDocumentation.text",tag:"li"},{link:m(()=>[C("a",vo,y(S(n)("welcomeScreen.standalone.link.evitaDBDocumentation.link")),1)]),_:1}),_(s,{keypath:"welcomeScreen.standalone.link.evitaLabGitHub.text",tag:"li"},{link:m(()=>[C("a",go,y(S(n)("welcomeScreen.standalone.link.evitaLabGitHub.link")),1)]),_:1}),_(s,{keypath:"welcomeScreen.standalone.link.discord.text",tag:"li"},{link:m(()=>[C("a",po,y(S(n)("welcomeScreen.standalone.link.discord.link")),1)]),_:1}),C("li",null,[C("a",fo,y(S(n)("welcomeScreen.standalone.link.submitIssue")),1)])])])])}}});const yo=K(ho,[["__scopeId","data-v-c3493a3c"]]),bo={class:"editor-welcome-screen"},_o={class:"editor-welcome-screen-hero"},wo={class:"editor-welcome-screen-hero__header"},So={class:"editor-welcome-screen-hero__title"},Co={class:"font-weight-light mb-2",style:{"font-size":"2rem"}},To={class:"font-weight-bold"},Vo={class:"text-white",style:{"font-size":"1rem"}},ko={class:"text-primary-lightest text-body-2",href:"https://github.com/FgForrest/evitalab/releases",target:"_blank"},No=H({__name:"DriverWelcomeContent",props:{version:{}},setup(e){const l=Oe(),{t:n}=F(),i=k(()=>l.getConnection().name),t=localStorage.getItem("test");return(a,s)=>(p(),$("div",bo,[C("div",_o,[C("header",wo,[_(xe,{width:"60",height:"60","max-width":"60","max-height":"60",alt:"evitaLab Logo",src:it,class:"evitalab-logo"}),C("div",So,[D(y(S(t))+" ",1),C("h1",Co,[s[0]||(s[0]=D(" Connected to: ")),C("span",To,y(i.value),1)]),C("p",Vo,[D(y(S(n)("welcomeScreen.driver.description"))+" "+y(a.version)+" ",1),C("a",ko,"("+y(S(n)("welcomeScreen.driver.changelog"))+")",1)])])])])]))}});const xo=K(No,[["__scopeId","data-v-f8ab8097"]]),Io=H({__name:"WelcomeScreen",setup(e){const l=Ye(),n=k(()=>{const i="v2025.4.1";return i.length===0?"?":i.substring(1)});return(i,t)=>S(l).runMode===S(We).Standalone?(p(),x(yo,{key:0,version:n.value},null,8,["version"])):S(l).runMode===S(We).Driver?(p(),x(xo,{key:1,version:n.value},null,8,["version"])):z("",!0)}}),Do=H({__name:"TabSharedTroubleshooterDialog",props:{modelValue:{type:Boolean},originalConnectionName:{default:void 0},troubleshooterCallback:{type:Function,default:void 0}},emits:["resolve","reject"],setup(e,{emit:l}){const n=Oe(),i=O(),{t}=F(),a=e,s=l,r=R([]),o=R(!1),u=R(void 0),b=R(!1),v=k(()=>u.value!=null&&u.value.trim().length>0);Q(()=>a.modelValue,w=>{if(w){const c=n.getConnection();r.value=[c],o.value=!0,u.value=c.id,b.value=a.originalConnectionName!=null&&a.originalConnectionName.trim().length>0&&a.originalConnectionName.trim().toLowerCase()===c.name.trim().toLowerCase()}});function d(){s("reject"),r.value=[],o.value=!1,u.value=void 0}async function f(){if(a.troubleshooterCallback==null)throw new Error("Cannot accept shared tab without troubleshooter callback.");try{const w=await a.troubleshooterCallback(u.value);return s("resolve",w),!0}catch(w){return await i.error("Could not resolve shared tab",w),!1}}return(w,c)=>(p(),x(ee,{"model-value":w.modelValue,changed:v.value,"confirm-button-icon":"mdi-check",confirm:f,reset:d},{activator:m(({props:h})=>[_e(w.$slots,"activator",Kt(Zt({props:h})))]),title:m(()=>[D(y(S(t)("tabShare.sharedTroubleshooterDialog.title")),1)]),"prepend-form":m(()=>[_(he,{type:"warning",icon:"mdi-alert-outline"},{default:m(()=>[D(y(S(t)("tabShare.sharedTroubleshooterDialog.info")),1)]),_:1})]),default:m(()=>[_(Xe,{modelValue:u.value,"onUpdate:modelValue":c[0]||(c[0]=h=>u.value=h),label:S(t)("tabShare.sharedTroubleshooterDialog.form.newConnectionId.label"),hint:b.value?S(t)("tabShare.sharedTroubleshooterDialog.form.newConnectionId.hint.connectionMatchedByName"):S(t)("tabShare.sharedTroubleshooterDialog.form.newConnectionId.hint.connectionNotMatchedByName"),items:r.value,"item-title":"name","item-value":"id",required:"",disabled:""},null,8,["modelValue","label","hint","items"])]),"confirm-button-body":m(()=>[D(y(S(t)("common.button.accept")),1)]),_:3},8,["model-value","changed"]))}}),Ro=["innerHTML"],Eo=["innerHTML"],Bo=["innerHTML"],$o=H({__name:"TabSharedDialog",props:{modelValue:{type:Boolean}},emits:["update:modelValue"],setup(e,{emit:l}){const n=ie(),i=Jt(),t=O(),{t:a}=F(),s=e,r=l;Q(()=>s.modelValue,g=>{if(g){const W=new URLSearchParams(document.location.search).get("sharedTab");W!=null&&(o.value=aa.fromLinkParam(W))}});const o=R(void 0),u=k(()=>o.value==null?!1:o.value.tabData!=null),b=R(!1),v=R(void 0),d=R(void 0);async function f(){if(o.value!=null)try{const g=await i.resolve(o.value);n.createTab(g),h()}catch(g){g instanceof oa?(b.value=!0,v.value=g.originalConnectionName,d.value=g.troubleshooterCallback):await t.error("Could not resolve shared tab",g)}}function w(g){n.createTab(g),h()}function c(){b.value=!1}function h(){r("update:modelValue",!1)}return(g,T)=>(p(),$(G,null,[_(ta,{"model-value":g.modelValue,persistent:"","max-width":"36rem"},{title:m(()=>[D(y(S(a)("tabShare.sharedDialog.title")),1)]),default:m(()=>[u.value?(p(),$("span",{key:0,innerHTML:S(a)("tabShare.sharedDialog.text.withoutInitialData")},null,8,Ro)):(p(),$("span",{key:1,innerHTML:S(a)("tabShare.sharedDialog.text.withInitialData")},null,8,Eo)),u.value?(p(),x(he,{key:2,icon:"mdi-alert-outline",type:"warning",class:"mt-4"},{default:m(()=>[C("span",{innerHTML:S(a)("tabShare.sharedDialog.warning.potentiallyUnsafe")},null,8,Bo)]),_:1})):z("",!0)]),"confirm-button":m(()=>[_(ea,{icon:"mdi-check",onConfirm:f},{default:m(()=>[D(y(S(a)("common.button.accept")),1)]),_:1})]),_:1},8,["model-value"]),_(Do,{"model-value":b.value,"original-connection-name":v.value,"troubleshooter-callback":d.value,onResolve:w,onReject:c},null,8,["model-value","original-connection-name","troubleshooter-callback"])],64))}}),Po={key:1,style:{position:"relative"}},Lo=H({__name:"WorkspaceTabWindowList",setup(e){const l=Ye(),n=O(),i=na(),{t}=F(),a=ie(),s=la(),r=R(!1),o=R(a.getTabDefinitions());Q(o,()=>{const c=a.getTheNewTab();c&&(u.value=c.id,a.markTabAsVisited(c.id))},{deep:!0});const u=R();Q(u,(c,h)=>{c!=null?(i.setContext(c),a.subjectPathStatus.activatePath(c)):h!=null&&(i.resetActivatedContext(),a.subjectPathStatus.deactivatePath())});function b(c){if(u.value==null)return;let g=a.getTabIndex(u.value)+c;g<0?g=o.value.length-1:g>=o.value.length&&(g=0),u.value=o.value[g].id}function v(c){const h=o.value.length,g=o.value.findIndex(W=>W.id===u.value),T=o.value.findIndex(W=>W.id===c);a.destroyTab(c),i.deleteContext(c),a.subjectPathStatus.deletePath(c),o.value.length===0?u.value=null:T===g&&T===h-1?u.value=o.value[T-1].id:T===g&&T<h-1&&(u.value=o.value[T].id)}async function d(c){const h=c.get("demoSnippetRequest");if(h!=null)try{return await s.resolve(h)}catch(g){await n.error("Could not resolve demo code snippet",g)}}async function f(c){return c.get("sharedTab")!=null}function w(){try{let c=!1;a.restoreTabsFromLastSession()&&(c=!0),a.restoreTabHistory()&&(c=!0),c&&n.info("Your last session has been restored.").then()}catch(c){console.error(c),n.warning("Failed to fully restore your last session.").then()}}if(l.playgroundMode){const c=new URLSearchParams(document.location.search);d(c).then(h=>(h!=null&&a.createTab(h),f(c))).then(h=>{h&&(r.value=!0)})}else w();return fe(()=>{i.bindGlobal(J.System_Editor_PreviousTab,()=>b(-1)),i.bindGlobal(J.System_Editor_NextTab,()=>b(1)),i.bindGlobal(J.System_Editor_CloseTab,()=>{u.value!=null&&v(u.value)}),i.bindGlobal(J.System_Editor_CloseAllTabs,()=>a.destroyAllTabs())}),Ke(()=>{i.unbindGlobal(J.System_Editor_PreviousTab),i.unbindGlobal(J.System_Editor_NextTab),i.unbindGlobal(J.System_Editor_CloseTab),i.unbindGlobal(J.System_Editor_CloseAllTabs)}),(c,h)=>(p(),$(G,null,[o.value.length>0?(p(),x(lt,{key:0,density:"compact",elevation:"0"},{default:m(()=>[_(ia,{modelValue:u.value,"onUpdate:modelValue":h[0]||(h[0]=g=>u.value=g)},{default:m(()=>[(p(!0),$(G,null,ae(o.value,g=>(p(),x(ra,{key:g.id,value:g.id,"prepend-icon":g.icon,onMousedown:we(T=>v(g.id),["middle"]),class:"lab-tab"},{default:m(()=>[C("span",null,[D(y(S(Fa)(g.title,30))+" ",1),g.title.length>30?(p(),x(ue,{key:0,activator:"parent"},{default:m(()=>[D(y(g.title),1)]),_:2},1024)):z("",!0)]),_(ca,{icon:"",variant:"plain",density:"compact",class:"ml-3",onClick:we(T=>v(g.id),["stop"])},{default:m(()=>[_(te,null,{default:m(()=>h[3]||(h[3]=[D("mdi-close")])),_:1}),_(ua,{command:S(J).System_Editor_CloseTab},{default:m(()=>[D(y(S(t)("tab.button.closeTab")),1)]),_:1},8,["command"])]),_:2},1032,["onClick"])]),_:2},1032,["value","prepend-icon","onMousedown"]))),128))]),_:1},8,["modelValue"])]),_:1})):z("",!0),_($a,{scrollable:!1,class:"lab-editor"},{default:m(()=>[o.value.length>0?(p(),x(sa,{key:0,modelValue:u.value,"onUpdate:modelValue":h[1]||(h[1]=g=>u.value=g)},{default:m(()=>[(p(!0),$(G,null,ae(o.value,g=>(p(),x(da,{key:g.id,value:g.id,transition:!1,"reverse-transition":!1,class:"window-item"},{default:m(()=>[_(Ya,{id:g.id,component:g.component,"component-props":g.componentProps()},null,8,["id","component","component-props"])]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])):(p(),$("div",Po,[_(Io)]))]),_:1}),_($o,{modelValue:r.value,"onUpdate:modelValue":h[2]||(h[2]=g=>r.value=g)},null,8,["modelValue"])],64))}});const Cn=K(Lo,[["__scopeId","data-v-a534ed3b"]]),Mo={key:0,class:"editor-status"},Wo=H({__name:"EditorStatus",props:{status:{}},setup(e){const{t:l}=F(),n=e,i=k(()=>n.status.activatedEditorInfo),t=k(()=>{if(i.value!=null&&i.value.selections.size==1)return i.value.selections.get(0)});return(a,s)=>i.value?(p(),$("div",Mo,[_(ue,null,{activator:m(({props:r})=>[C("span",X({class:"text-no-wrap"},r),[i.value.selections.size!=1?(p(),$(G,{key:0},[D(y(S(l)("common.statusBar.activeEditorStatus.selections.value.multipleSelections",{count:i.value.selections.size})),1)],64)):(p(),$(G,{key:1},[D(y(S(l)("common.statusBar.activeEditorStatus.selections.value.singleSelection.cursorPosition",{line:t.value.line,column:t.value.column}))+" ",1),t.value.selectedCharacterCount>0?(p(),$(G,{key:0},[D(" ("+y(S(l)("common.statusBar.activeEditorStatus.selections.value.singleSelection.selectionRange",{charsCount:t.value.selectedCharacterCount})),1),t.value.lineBreaks>0?(p(),$(G,{key:0},[D(", "+y(S(l)("common.statusBar.activeEditorStatus.selections.value.singleSelection.lineBreaks",{lineBreaks:t.value.lineBreaks})),1)],64)):z("",!0),s[0]||(s[0]=D(") "))],64)):z("",!0)],64))],16)]),default:m(()=>[D(y(S(l)("common.statusBar.activeEditorStatus.selections.label")),1)]),_:1}),_(ue,null,{activator:m(({props:r})=>[C("span",X({class:"text-no-wrap"},r),y(S(l)("common.statusBar.activeEditorStatus.tabSize.value",{tabSize:i.value.tabSize})),17)]),default:m(()=>[D(y(S(l)("common.statusBar.activeEditorStatus.tabSize.label")),1)]),_:1}),_(ue,null,{activator:m(({props:r})=>[C("span",X({class:"text-no-wrap"},r),y(i.value.language),17)]),default:m(()=>[D(y(S(l)("common.statusBar.activeEditorStatus.language.label")),1)]),_:1})])):z("",!0)}});const Ao=K(Wo,[["__scopeId","data-v-ab91fc98"]]),Ho=H({__name:"SubjectPathStatusItem",props:{item:{}},setup(e){const l=e;function n(){l.item.onClick!=null&&l.item.onClick()}return(i,t)=>(p(),$("div",{class:Se(["subject-path-status-item",{"subject-path-status-item--clickable":i.item.onClick!=null}]),onClick:n},[i.item.icon?(p(),x(te,{key:0,icon:i.item.icon,size:"12"},null,8,["icon"])):z("",!0),C("span",null,y(i.item.value),1)],2))}});const Uo=K(Ho,[["__scopeId","data-v-3925741a"]]);const zo={};function jo(e,l){return p(),x(te,{icon:"mdi-chevron-right",size:"12",class:"text-disabled subject-path-status-item-delimiter"})}const Fo=K(zo,[["render",jo],["__scopeId","data-v-a85df1cb"]]),Go={key:0,class:"subject-path-status"},Qo=H({__name:"SubjectPathStatus",props:{status:{}},setup(e){const l=e,n=k(()=>l.status.activatedPath);return(i,t)=>n.value?(p(),$("div",Go,[(p(!0),$(G,null,ae(n.value.items,(a,s)=>(p(),$(G,{key:s},[_(Uo,{item:a},null,8,["item"]),s+1<n.value.items.size?(p(),x(Fo,{key:0})):z("",!0)],64))),128))])):z("",!0)}});const qo=K(Qo,[["__scopeId","data-v-91b66f15"]]),Oo={class:"left-content"},Yo={class:"right-content"},Xo=H({__name:"WorkspaceStatusBar",setup(e){const l=ie(),n=k(()=>l.subjectPathStatus),i=k(()=>l.editorStatus);return(t,a)=>(p(),x(lt,{height:"28",location:"bottom",flat:"",class:"bg-primary-dark status-bar"},{default:m(()=>[C("div",Oo,[_(qo,{status:n.value},null,8,["status"])]),C("div",Yo,[_(Ao,{status:i.value},null,8,["status"])])]),_:1}))}});const Tn=K(Xo,[["__scopeId","data-v-18101a46"]]),Ko=H({__name:"CreateCatalogDialog",props:{modelValue:{type:Boolean}},emits:["update:modelValue"],setup(e,{emit:l}){const n=se(),i=O(),{t}=F(),a=l,s=[v=>v!=null&&v.trim().length>0?!0:t("explorer.catalog.create.form.catalogName.validations.required"),async v=>{const d=await n.isCatalogNameValid(v);return d==null?!0:t(`explorer.catalog.create.form.catalogName.validations.${d}`)},async v=>await n.isCatalogNameAvailable(v)?!0:t("explorer.catalog.create.form.catalogName.validations.notAvailable")],r=R(""),o=k(()=>r.value.length>0);function u(){r.value=""}async function b(){try{return await n.createCatalog(r.value),await i.success(t("explorer.catalog.create.notification.catalogCreated",{catalogName:r.value})),!0}catch(v){return await i.error(t("explorer.catalog.create.notification.couldNotCreateCatalog",{catalogName:r.value,reason:v.message})),!1}}return(v,d)=>(p(),x(ee,{"model-value":v.modelValue,changed:o.value,"confirm-button-icon":"mdi-plus",confirm:b,reset:u,"onUpdate:modelValue":d[1]||(d[1]=f=>a("update:modelValue",f))},{title:m(()=>[D(y(S(t)("explorer.catalog.create.title")),1)]),default:m(()=>[_(ye,{modelValue:r.value,"onUpdate:modelValue":d[0]||(d[0]=f=>r.value=f),label:S(t)("explorer.catalog.create.form.catalogName.label"),rules:s,required:""},null,8,["modelValue","label"])]),"confirm-button-body":m(()=>[D(y(S(t)("common.button.create")),1)]),_:1},8,["model-value","changed"]))}}),Zo={class:"tree-view-item__content"},Jo={key:0,class:"tree-view-item__flags"},en={key:0,class:"tree-view-item__flags"},tn=H({__name:"VTreeViewItem",props:{openable:{type:Boolean,default:!1},isOpen:{type:Boolean,default:!1},prependIcon:{},loading:{type:Boolean,default:!1},flags:{default:()=>[]},actions:{default:()=>[]}},emits:["click:action","click:actionMenu"],setup(e,{emit:l}){const n=e,i=R(!1),t=l;function a(){t("click:actionMenu"),n.actions&&n.actions.length>0&&(i.value=!0)}return(s,r)=>(p(),x(ge,{"prepend-icon":null,"append-icon":null,onContextmenu:we(a,["prevent"])},{default:m(()=>[C("div",Zo,[s.openable?(p(),x(te,{key:0},{default:m(()=>[D(y(s.isOpen?"mdi-chevron-up":"mdi-chevron-down"),1)]),_:1})):(p(),x(te,{key:1})),s.loading?(p(),x(qe,{key:2})):(p(),x(te,{key:3},{default:m(()=>[D(y(s.prependIcon),1)]),_:1})),_(ue,null,{activator:m(({props:o})=>[C("span",X(o,{class:"tree-view-item__text text-truncate"}),[_e(s.$slots,"default",{},()=>[r[3]||(r[3]=C("span",{class:"text-disabled"}," No items found ",-1))],!0),s.flags.length>0?(p(),$("span",Jo,[(p(!0),$(G,null,ae(s.flags,u=>(p(),$("span",{key:u.value,class:Se(["tree-view-item__flag",`tree-view-item__flag--${u.type}`])},y(u.value),3))),128))])):z("",!0)],16)]),default:m(()=>[_e(s.$slots,"default",{},void 0,!0),s.flags.length>0?(p(),$("span",en,[(p(!0),$(G,null,ae(s.flags,o=>(p(),$("span",{key:o.value,class:Se(["tree-view-item__flag","tree-view-item__lg-flag",`tree-view-item__flag--${o.type}`])},y(o.value),3))),128))])):z("",!0)]),_:3}),s.actions&&s.actions.length>0?(p(),x(Ze,{key:4,"menu-items":s.actions,modelValue:i.value,"onUpdate:modelValue":r[2]||(r[2]=o=>i.value=o)},{activator:m(({props:o})=>[_(te,X(o,{class:"text-gray-light",onClick:r[0]||(r[0]=u=>t("click:actionMenu"))}),{default:m(()=>r[4]||(r[4]=[D(" mdi-dots-vertical ")])),_:2},1040)]),default:m(()=>[_(Ce,{density:"compact",items:s.actions,"onClick:select":r[1]||(r[1]=o=>s.$emit("click:action",o.id))},{item:m(({props:o})=>[_(ge,{"prepend-icon":o.prependIcon,value:o.value,disabled:o.disabled},{default:m(()=>[D(y(o.title),1)]),_:2},1032,["prepend-icon","value","disabled"])]),_:1},8,["items"])]),_:1},8,["menu-items","modelValue"])):z("",!0)])]),_:3}))}});const st=K(tn,[["__scopeId","data-v-1c78241c"]]),an={class:"pl-8 text-disabled"},rt=H({__name:"VTreeViewEmptyItem",setup(e){const{t:l}=F();return(n,i)=>(p(),x(ge,null,{default:m(()=>[C("span",an,y(S(l)("common.list.empty")),1)]),_:1}))}}),on=H({__name:"DeleteCollectionDialog",props:{modelValue:{type:Boolean},catalogName:{},entityType:{}},emits:["update:modelValue"],setup(e,{emit:l}){const n=Ie(),i=O(),{t}=F(),a=e,s=l;async function r(){try{return await n.deleteCollection(a.catalogName,a.entityType)?await i.success(t("explorer.collection.delete.notification.collectionDeleted",{entityType:a.entityType})):await i.info(t("explorer.collection.delete.notification.collectionNotDeleted",{entityType:a.entityType})),!0}catch(o){return await i.error(t("explorer.collection.delete.notification.couldNotDeleteCollection",{entityType:a.entityType,reason:o.message})),!1}}return(o,u)=>{const b=oe("I18nT");return p(),x(ee,{"model-value":o.modelValue,dangerous:"",changed:"","confirm-button-icon":"mdi-delete-outline",confirm:r,"onUpdate:modelValue":u[0]||(u[0]=v=>s("update:modelValue",v))},{title:m(()=>[_(b,{keypath:"explorer.collection.delete.title"},{entityType:m(()=>[C("strong",null,y(o.entityType),1)]),_:1})]),"prepend-form":m(()=>[D(y(S(t)("explorer.collection.delete.question")),1)]),"confirm-button-body":m(()=>[D(y(S(t)("common.button.delete")),1)]),_:1},8,["model-value"])}}}),nn=H({__name:"RenameCollectionDialog",props:{modelValue:{type:Boolean},catalogName:{},entityType:{}},emits:["update:modelValue"],setup(e,{emit:l}){const n=Ie(),i=O(),{t}=F(),a=e,s=l,r=[d=>d!=null&&d.trim().length>0?!0:t("explorer.collection.rename.form.newName.validations.required"),async d=>{const f=await n.isEntityTypeValid(d);return f==null?!0:t(`explorer.collection.rename.form.newName.validations.${f}`)},async d=>d===a.entityType||await n.isEntityTypeAvailable(a.catalogName,d)?!0:t("explorer.collection.rename.form.newName.validations.notAvailable")],o=R(a.entityType),u=k(()=>o.value!==a.entityType);function b(){o.value=a.entityType}async function v(){try{return await n.renameCollection(a.catalogName,a.entityType,o.value)?await i.success(t("explorer.collection.rename.notification.collectionRenamed",{entityType:a.entityType,newName:o.value})):await i.info(t("explorer.collection.rename.notification.collectionNotRenamed",{entityType:a.entityType})),!0}catch(d){return await i.error(t("explorer.collection.rename.notification.couldNotRenameCollection",{entityType:a.entityType,reason:d.message})),!1}}return(d,f)=>{const w=oe("I18nT");return p(),x(ee,{"model-value":d.modelValue,changed:u.value,dangerous:"","confirm-button-icon":"mdi-pencil-outline",confirm:v,reset:b,"onUpdate:modelValue":f[1]||(f[1]=c=>s("update:modelValue",c))},{title:m(()=>[_(w,{keypath:"explorer.collection.rename.title"},{entityType:m(()=>[C("strong",null,y(d.entityType),1)]),_:1})]),default:m(()=>[_(ye,{modelValue:o.value,"onUpdate:modelValue":f[0]||(f[0]=c=>o.value=c),label:S(t)("explorer.collection.rename.form.newName.label"),rules:r,required:""},null,8,["modelValue","label"])]),"confirm-button-body":m(()=>[D(y(S(t)("common.button.rename")),1)]),_:1},8,["model-value","changed"])}}}),ct=Symbol("serverStatus");function ln(e){Je(ct,e)}function ut(){return et(ct)}const dt=Symbol("catalog");function sn(e){Je(dt,e)}function rn(){return et(dt)}var Z=(e=>(e.ViewEntities="viewEntities",e.ViewSchema="viewSchema",e.ModifySubheader="modifySubheader",e.DeleteCollection="deleteCollection",e.RenameCollection="renameCollection",e))(Z||{});const cn=H({__name:"CollectionItem",props:{entityCollection:{}},setup(e){const l=ie(),n=ma(),i=tt(),{t}=F(),a=e,s=ut(),r=R(!1),o=R(!1),u=rn(),b=k(()=>w()),v=k(()=>Array.from(b.value.values()));if(u.value==null)throw new va("Catalog schema is not loaded yet, but collection item is already rendered!");function d(){l.createTab(n.createNew(u.value.name,a.entityCollection.entityType,void 0,!0))}function f(h){const g=b.value.get(h);g instanceof de&&g.execute()}function w(){const h=s.value!=null&&!s.value.readOnly,g=new Map;return g.set(Z.ViewEntities,c(Z.ViewEntities,ga.icon(),d)),g.set(Z.ViewSchema,c(Z.ViewSchema,at.icon(),()=>l.createTab(i.createNew(new pa(u.value.name,a.entityCollection.entityType))))),g.set(Z.ModifySubheader,new re(t("explorer.collection.subheader.modify"))),g.set(Z.RenameCollection,c(Z.RenameCollection,"mdi-pencil-outline",()=>o.value=!0,h)),g.set(Z.DeleteCollection,c(Z.DeleteCollection,"mdi-delete-outline",()=>r.value=!0,h)),g}function c(h,g,T,W=!0){return new de(h,t(`explorer.collection.actions.${h}`),g,T,void 0,!W)}return(h,g)=>(p(),$("div",null,[_(st,{"prepend-icon":"mdi-list-box-outline",actions:v.value,onClick:d,"onClick:action":f,class:"text-gray-light"},{default:m(()=>[D(y(h.entityCollection.entityType),1)]),_:1},8,["actions"]),o.value?(p(),x(nn,{key:0,modelValue:o.value,"onUpdate:modelValue":g[0]||(g[0]=T=>o.value=T),"catalog-name":S(u).name,"entity-type":h.entityCollection.entityType},null,8,["modelValue","catalog-name","entity-type"])):z("",!0),r.value?(p(),x(on,{key:1,modelValue:r.value,"onUpdate:modelValue":g[1]||(g[1]=T=>r.value=T),"catalog-name":S(u).name,"entity-type":h.entityCollection.entityType},null,8,["modelValue","catalog-name","entity-type"])):z("",!0)]))}}),un=H({__name:"RenameCatalogDialog",props:{modelValue:{type:Boolean},catalogName:{}},emits:["update:modelValue"],setup(e,{emit:l}){const n=se(),i=O(),{t}=F(),a=e,s=l,r=[d=>d!=null&&d.trim().length>0?!0:t("explorer.catalog.rename.form.newName.validations.required"),async d=>{const f=await n.isCatalogNameValid(d);return f==null?!0:t(`explorer.catalog.rename.form.newName.validations.${f}`)},async d=>d===a.catalogName||await n.isCatalogNameAvailable(d)?!0:t("explorer.catalog.rename.form.newName.validations.notAvailable")],o=R(a.catalogName),u=k(()=>a.catalogName!==o.value);function b(){o.value=a.catalogName}async function v(){try{return await n.renameCatalog(a.catalogName,o.value)?await i.success(t("explorer.catalog.rename.notification.catalogRenamed",{catalogName:a.catalogName,newName:o.value})):await i.info(t("explorer.catalog.rename.notification.catalogNotRenamed",{catalogName:a.catalogName})),!0}catch(d){return await i.error(t("explorer.catalog.rename.notification.couldNotRenameCatalog",{catalogName:a.catalogName,reason:d.message})),!1}}return(d,f)=>{const w=oe("I18nT");return p(),x(ee,{"model-value":d.modelValue,changed:u.value,dangerous:"","confirm-button-icon":"mdi-pencil-outline",confirm:v,reset:b,"onUpdate:modelValue":f[1]||(f[1]=c=>s("update:modelValue",c))},{title:m(()=>[_(w,{keypath:"explorer.catalog.rename.title"},{catalogName:m(()=>[C("strong",null,y(d.catalogName),1)]),_:1})]),default:m(()=>[_(ye,{modelValue:o.value,"onUpdate:modelValue":f[0]||(f[0]=c=>o.value=c),label:S(t)("explorer.catalog.rename.form.newName.label"),rules:r,required:""},null,8,["modelValue","label"])]),"confirm-button-body":m(()=>[D(y(S(t)("common.button.rename")),1)]),_:1},8,["model-value","changed"])}}}),dn=H({__name:"DeleteCatalogDialog",props:{modelValue:{type:Boolean},catalogName:{}},emits:["update:modelValue"],setup(e,{emit:l}){const n=se(),i=O(),{t}=F(),a=e,s=l;async function r(){try{return await n.deleteCatalog(a.catalogName)?await i.success(t("explorer.catalog.delete.notification.catalogDeleted",{catalogName:a.catalogName})):await i.info(t("explorer.catalog.delete.notification.catalogNotDeleted",{catalogName:a.catalogName})),!0}catch(o){return await i.error(t("explorer.catalog.delete.notification.couldNotDeleteCatalog",{catalogName:a.catalogName,reason:o.message})),!1}}return(o,u)=>{const b=oe("I18nT");return p(),x(ee,{"model-value":o.modelValue,dangerous:"",changed:"","confirm-button-icon":"mdi-delete-outline",confirm:r,"onUpdate:modelValue":u[0]||(u[0]=v=>s("update:modelValue",v))},{title:m(()=>[_(b,{keypath:"explorer.catalog.delete.title"},{catalogName:m(()=>[C("strong",null,y(o.catalogName),1)]),_:1})]),"prepend-form":m(()=>[D(y(S(t)("explorer.catalog.delete.question")),1)]),"confirm-button-body":m(()=>[D(y(S(t)("common.button.delete")),1)]),_:1},8,["model-value"])}}}),mn=H({__name:"ReplaceCatalogDialog",props:{modelValue:{type:Boolean},catalogName:{}},emits:["update:modelValue"],setup(e,{emit:l}){const n=se(),i=O(),{t}=F(),a=e,s=l,r=[c=>c!=null&&c.trim().length>0?!0:t("explorer.catalog.replace.form.catalogNameToBeReplacedWith.validations.required"),async c=>c===a.catalogName||await n.isCatalogExists(c)?!0:t("explorer.catalog.replace.form.catalogNameToBeReplacedWith.validations.notExists")],o=R(),u=k(()=>o.value==null?[]:o.value.map(c=>c.name)),b=R(!1),v=R(),d=k(()=>v.value!=null&&v.value.length>0);n.getCatalogs().then(c=>{o.value=c.filter(h=>h.name!==a.catalogName).toArray(),b.value=!0});function f(){o.value=[],b.value=!1,v.value=""}async function w(){try{return await n.replaceCatalog(v.value,a.catalogName)?await i.success(t("explorer.catalog.replace.notification.catalogReplaced",{catalogNameToBeReplaced:a.catalogName,catalogNameToBeReplacedWith:v.value})):await i.info(t("explorer.catalog.replace.notification.catalogNotReplaced",{catalogNameToBeReplaced:a.catalogName})),!0}catch(c){return await i.error(t("explorer.catalog.replace.notification.couldNotReplaceCatalog",{catalogNameToBeReplaced:a.catalogName,reason:c.message})),!1}}return(c,h)=>{const g=oe("I18nT");return p(),x(ee,{"model-value":c.modelValue,dangerous:"",changed:d.value,"confirm-button-icon":"mdi-file-replace-outline",confirm:w,reset:f,"onUpdate:modelValue":h[1]||(h[1]=T=>s("update:modelValue",T))},{title:m(()=>[_(g,{keypath:"explorer.catalog.replace.title"},{catalogNameToBeReplaced:m(()=>[C("strong",null,y(c.catalogName),1)]),_:1})]),default:m(()=>[_(Xe,{modelValue:v.value,"onUpdate:modelValue":h[0]||(h[0]=T=>v.value=T),label:S(t)("explorer.catalog.replace.form.catalogNameToBeReplacedWith.label"),items:u.value,rules:r},null,8,["modelValue","label","items"])]),"append-form":m(()=>[_(he,{icon:"mdi-information-outline",type:"info"},{default:m(()=>[_(g,{keypath:"explorer.catalog.replace.info"},fa({catalogNameToBeReplaced:m(()=>[C("strong",null,y(c.catalogName),1)]),_:2},[d.value?{name:"catalogNameToBeReplacedWith",fn:m(()=>[C("strong",null,y(v.value),1)]),key:"0"}:{name:"catalogNameToBeReplacedWith",fn:m(()=>[h[2]||(h[2]=C("strong",null,"?",-1))]),key:"1"}]),1024)]),_:1})]),"confirm-button-body":m(()=>[D(y(S(t)("common.button.replace")),1)]),_:1},8,["model-value","changed"])}}}),vn=H({__name:"CreateCollectionDialog",props:{modelValue:{type:Boolean},catalogName:{}},emits:["update:modelValue"],setup(e,{emit:l}){const n=Ie(),i=O(),{t}=F(),a=e,s=l,r=[d=>d!=null&&d.trim().length>0?!0:t("explorer.collection.create.form.entityType.validations.required"),async d=>{const f=await n.isEntityTypeValid(d);return f==null?!0:t(`explorer.collection.create.form.entityType.validations.${f}`)},async d=>await n.isEntityTypeAvailable(a.catalogName,d)?!0:t("explorer.collection.create.form.entityType.validations.notAvailable")],o=R(""),u=k(()=>o.value.length>0);function b(){o.value=""}async function v(){try{return await n.createCollection(a.catalogName,o.value),await i.success(t("explorer.collection.create.notification.collectionCreated",{entityType:o.value})),!0}catch(d){return await i.error(t("explorer.collection.create.notification.couldNotCreateCollection",{entityType:o.value,reason:d.message})),!1}}return(d,f)=>{const w=oe("I18nT");return p(),x(ee,{"model-value":d.modelValue,changed:u.value,"confirm-button-icon":"mdi-plus",confirm:v,reset:b,"onUpdate:modelValue":f[1]||(f[1]=c=>s("update:modelValue",c))},{title:m(()=>[_(w,{keypath:"explorer.collection.create.title"},{catalogName:m(()=>[C("strong",null,y(d.catalogName),1)]),_:1})]),default:m(()=>[_(ye,{modelValue:o.value,"onUpdate:modelValue":f[0]||(f[0]=c=>o.value=c),label:S(t)("explorer.collection.create.form.entityType.label"),rules:r,required:""},null,8,["modelValue","label"])]),"confirm-button-body":m(()=>[D(y(S(t)("common.button.create")),1)]),_:1},8,["model-value","changed"])}}}),gn=H({__name:"SwitchCatalogToAliveStateDialog",props:{modelValue:{type:Boolean},catalogName:{}},emits:["update:modelValue"],setup(e,{emit:l}){const n=se(),i=O(),{t}=F(),a=e,s=l;async function r(){try{return await n.switchCatalogToAliveState(a.catalogName)?await i.success(t("explorer.catalog.switchToAliveState.notification.catalogSwitched",{catalogName:a.catalogName})):await i.info(t("explorer.catalog.switchToAliveState.notification.catalogNotSwitched",{catalogName:a.catalogName})),!0}catch(o){return await i.error(t("explorer.catalog.switchToAliveState.notification.couldNotSwitchCatalog",{catalogName:a.catalogName,reason:o.message})),!1}}return(o,u)=>{const b=oe("I18nT");return p(),x(ee,{"model-value":o.modelValue,dangerous:"",changed:"","confirm-button-icon":"mdi-toggle-switch-outline",confirm:r,"onUpdate:modelValue":u[0]||(u[0]=v=>s("update:modelValue",v))},{title:m(()=>[_(b,{keypath:"explorer.catalog.switchToAliveState.title"},{catalogName:m(()=>[C("strong",null,y(o.catalogName),1)]),_:1})]),"prepend-form":m(()=>[D(y(S(t)("explorer.catalog.switchToAliveState.description")),1)]),"append-form":m(()=>[_(he,{icon:"mdi-alert-outline",type:"warning"},{default:m(()=>[D(y(S(t)("explorer.catalog.switchToAliveState.warning")),1)]),_:1})]),"confirm-button-body":m(()=>[D(y(S(t)("common.button.switch")),1)]),_:1},8,["model-value"])}}});var me=(e=>(e.Info="info",e.Warning="warning",e.Error="error",e))(me||{});class le{constructor(l,n){be(this,"value");be(this,"type");this.value=l,this.type=n}static info(l){return new le(l,me.Info)}static warning(l){return new le(l,me.Warning)}static error(l){return new le(l,me.Error)}}var M=(e=>(e.EvitaQLConsole="evitaQLConsole",e.GraphQLDataAPIConsole="graphQLDataApiConsole",e.GraphQLSchemaAPIConsole="graphQLSchemaApiConsole",e.ViewSchema="viewSchema",e.TrafficSubheader="trafficSubheader",e.ActiveTrafficRecording="activeTrafficRecording",e.ManageSubheader="manageSubheader",e.CloseSharedSession="closeSharedSession",e.ModifySubheader="modifySubheader",e.DeleteCatalog="deleteCatalog",e.RenameCatalog="renameCatalog",e.ReplaceCatalog="replaceCatalog",e.SwitchCatalogToAliveState="switchCatalogToAliveState",e.CollectionsSubheader="collectionsSubheader",e.CreateCollection="createCollection",e))(M||{});const pn={key:0},fn=H({__name:"CatalogItem",props:{catalog:{}},setup(e){const l=ie(),n=ha(),i=ya(),t=tt(),a=ba(),s=se(),r=O(),{t:o}=F(),u=e,b=ut(),v=R(!1),d=R(!1),f=R(!1),w=R(!1),c=R(!1),h=k(()=>{const I=[];return u.catalog.corrupted&&I.push(le.error(o("explorer.catalog.flag.corrupted"))),u.catalog.isInWarmup&&I.push(le.warning(o("explorer.catalog.flag.warmingUp"))),I}),g=k(()=>L()),T=k(()=>Array.from(g.value.values())),W=k(()=>_a.List(u.catalog.entityCollectionStatistics).sort((I,N)=>I.entityType.localeCompare(N.entityType))),j=R(u.catalog);sn(j);const U=R(!1);async function V(){try{await s.closeSharedSession(u.catalog.name),await r.success(o("explorer.catalog.notification.closedSharedSession",{catalogName:u.catalog.name}))}catch(I){await r.error(o("explorer.catalog.notification.couldNotCloseSharedSession",{catalogName:u.catalog.name,reason:I.message}))}}function P(I){var B;const N=(B=g.value)==null?void 0:B.get(I);N&&N instanceof de&&N.execute()}function L(){const I=b.value!=null&&b.value.apiEnabled(wa.GraphQL),N=!u.catalog.corrupted,B=b.value!=null&&!b.value.readOnly,A=new Map;return A.set(M.EvitaQLConsole,E(M.EvitaQLConsole,Ca.icon(),()=>{l.createTab(n.createNew(u.catalog.name))},N)),A.set(M.GraphQLDataAPIConsole,E(M.GraphQLDataAPIConsole,He.icon(),()=>{l.createTab(i.createNew(u.catalog.name,Ae.Data))},N&&I)),A.set(M.GraphQLSchemaAPIConsole,E(M.GraphQLSchemaAPIConsole,He.icon(),()=>{l.createTab(i.createNew(u.catalog.name,Ae.Schema))},N&&I)),A.set(M.ViewSchema,E(M.ViewSchema,at.icon(),()=>{l.createTab(t.createNew(new Ta(u.catalog.name)))},N)),A.set(M.TrafficSubheader,new re(o("explorer.catalog.subheader.traffic"))),A.set(M.ActiveTrafficRecording,E(M.ActiveTrafficRecording,Va.icon(),()=>l.createTab(a.createNew(u.catalog.name)),N&&B)),A.set(M.ManageSubheader,new re(o("explorer.catalog.subheader.manage"))),A.set(M.CloseSharedSession,E(M.CloseSharedSession,"mdi-lan-disconnect",()=>V().then())),A.set(M.ModifySubheader,new re(o("explorer.catalog.subheader.modify"))),A.set(M.RenameCatalog,E(M.RenameCatalog,"mdi-pencil-outline",()=>v.value=!0,N&&B)),A.set(M.ReplaceCatalog,E(M.ReplaceCatalog,"mdi-file-replace-outline",()=>d.value=!0,N&&B)),u.catalog.isInWarmup&&A.set(M.SwitchCatalogToAliveState,E(M.SwitchCatalogToAliveState,"mdi-toggle-switch-outline",()=>f.value=!0,N&&B)),A.set(M.DeleteCatalog,E(M.DeleteCatalog,"mdi-delete-outline",()=>w.value=!0,B)),A.set(M.CollectionsSubheader,new re(o("explorer.catalog.subheader.collections"))),A.set(M.CreateCollection,E(M.CreateCollection,"mdi-plus",()=>c.value=!0,N&&B)),new Map(A)}function E(I,N,B,A=!0){return new de(I,o(`explorer.catalog.actions.${I}`),N,B,void 0,!A)}return(I,N)=>(p(),x(Sa,{value:I.catalog.name},{activator:m(({isOpen:B,props:A})=>[_(st,X(A,{openable:!I.catalog.corrupted,"is-open":B,"prepend-icon":"mdi-menu",loading:U.value,flags:h.value,actions:T.value,"onClick:action":P,class:"text-gray-light"}),{default:m(()=>[D(y(I.catalog.name),1)]),_:2},1040,["openable","is-open","loading","flags","actions"])]),default:m(()=>[I.catalog.corrupted?z("",!0):(p(),$("div",pn,[I.catalog.entityCollectionStatistics.size>0?(p(!0),$(G,{key:0},ae(W.value,B=>(p(),x(cn,{key:B.entityType,"entity-collection":B},null,8,["entity-collection"]))),128)):(p(),x(rt,{key:1}))])),v.value?(p(),x(un,{key:1,modelValue:v.value,"onUpdate:modelValue":N[0]||(N[0]=B=>v.value=B),"catalog-name":I.catalog.name},null,8,["modelValue","catalog-name"])):z("",!0),d.value?(p(),x(mn,{key:2,modelValue:d.value,"onUpdate:modelValue":N[1]||(N[1]=B=>d.value=B),"catalog-name":I.catalog.name},null,8,["modelValue","catalog-name"])):z("",!0),f.value?(p(),x(gn,{key:3,modelValue:f.value,"onUpdate:modelValue":N[2]||(N[2]=B=>f.value=B),"catalog-name":I.catalog.name},null,8,["modelValue","catalog-name"])):z("",!0),w.value?(p(),x(dn,{key:4,modelValue:w.value,"onUpdate:modelValue":N[3]||(N[3]=B=>w.value=B),"catalog-name":I.catalog.name},null,8,["modelValue","catalog-name"])):z("",!0),c.value?(p(),x(vn,{key:5,modelValue:c.value,"onUpdate:modelValue":N[4]||(N[4]=B=>c.value=B),"catalog-name":I.catalog.name},null,8,["modelValue","catalog-name"])):z("",!0)]),_:1},8,["value"]))}}),hn={class:"panel-header"},yn={class:"text-gray-light text-sm-body-2 font-weight-medium"},bn=H({__name:"ConnectionExplorerPanel",setup(e){const l=ka(),n=Na(),i=O(),{t}=F();let a=!1;const s=R(!1),r=R(),o=l.registerServerStatusChangeCallback(async()=>{await h()});ln(r);const u=R(),b=l.registerCatalogChangeCallback(async()=>{await g()}),v=R(!1),d=R();Q(r,async()=>d.value=await T(),{immediate:!0});const f=R(!1),w=k(()=>d.value==null?[]:Array.from(d.value.values()));async function c(){a||(s.value=!0,a=await h().then(j=>j?g():!1),s.value=!1)}async function h(){try{return r.value=await l.getServerStatus(),!0}catch(j){return await i.error(t("explorer.connection.notification.couldNotLoadServerStatus",{reason:j.message})),!1}}async function g(){try{return u.value=await l.getCatalogs(),!0}catch(j){return await i.error(t("explorer.connection.notification.couldNotLoadCatalogs",{reason:j.message})),!1}}async function T(){return n.createItems(r.value,()=>v.value=!0,()=>s.value=!0,()=>s.value=!1)}function W(j){if(d.value==null)return;const U=d.value.get(j);U instanceof de&&U.execute()}return Ke(()=>{l.unregisterServerStatusChangeCallback(o),l.unregisterCatalogChangeCallback(b)}),c().then(),(j,U)=>(p(),x(ja,{permanent:"",width:325,"onUpdate:modelValue":U[3]||(U[3]=V=>j.$emit("update:modelValue",V)),class:"bg-primary"},{default:m(()=>[_(Ce,{density:"compact",nav:""},{default:m(()=>[C("div",hn,[C("span",yn,y(S(t)("explorer.title")),1),_(Ze,{"menu-items":d.value,modelValue:f.value,"onUpdate:modelValue":U[1]||(U[1]=V=>f.value=V)},{activator:m(({props:V})=>[s.value?(p(),x(xa,X({key:0},V,{indeterminate:"",size:"16",class:"connection-loading"}),null,16)):(p(),x(te,X({key:1},V,{class:"text-gray-light"}),{default:m(()=>U[4]||(U[4]=[D(" mdi-dots-vertical ")])),_:2},1040))]),default:m(()=>[_(Ce,{density:"compact",items:w.value,"onClick:select":U[0]||(U[0]=V=>W(V.id))},{item:m(({props:V})=>[_(ge,{"prepend-icon":V.prependIcon,value:V.value,disabled:V.disabled},{default:m(()=>[D(y(V.title),1)]),_:2},1032,["prepend-icon","value","disabled"])]),_:1},8,["items"])]),_:1},8,["menu-items","modelValue"])]),u.value!=null&&u.value.size>0?(p(!0),$(G,{key:0},ae(u.value,V=>(p(),x(fn,{key:V.name,catalog:V},null,8,["catalog"]))),128)):(p(),x(rt,{key:1})),v.value?(p(),x(Ko,{key:2,modelValue:v.value,"onUpdate:modelValue":U[2]||(U[2]=V=>v.value=V)},null,8,["modelValue"])):z("",!0)]),_:1})]),_:1}))}});const Vn=K(bn,[["__scopeId","data-v-1584742e"]]);export{Vn as C,ja as V,Tn as W,Cn as a};
