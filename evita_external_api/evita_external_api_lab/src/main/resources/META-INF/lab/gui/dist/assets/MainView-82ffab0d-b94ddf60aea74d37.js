var xt=Object.defineProperty;var Dt=(e,r,n)=>r in e?xt(e,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[r]=n;var Se=(e,r,n)=>(Dt(e,typeof r!="symbol"?r+"":r,n),n);import{p as Re,f as L,s as oe,h as R,i as Rt,j as te,k as we,l as Pe,n as Et,g as Me,q as nt,t as ke,v as Ue,x as xe,c as We,V as et,d as f,y as ae,z as lt,m as it,A as Bt,B as rt,C as $t,D as It,E as Lt,F as At,G as Pt,H as Mt,I as Ut,J as Wt,K as Ht,a as Gt,u as jt,b as qt,L as Ft,M as tt,N as zt,O as Qt,P as Yt,Q as Ot,R as Kt,S as Xt,T as Jt,U as He,W as Zt,X as ea,Y as K,Z as ta,$ as aa,a0 as H,a1 as Ge,a2 as pe,a3 as oa,a4 as ee,a5 as Q,a6 as J,a7 as je,o as v,e as N,w as s,a8 as Ve,a9 as ve,aa as E,ab as qe,ac as na,ad as b,ae as Fe,af as j,ag as Ee,ah as st,ai as ct,_ as ne,aj as be,ak as la,al as C,am as h,an as M,ao as ie,ap as De,aq as de,ar as ze,as as Qe,at as ut,au as Be,av as $e,aw as Ye,r as se,ax as re,ay as _e,az as ia,aA as dt,aB as ra,aC as sa,aD as mt,aE as Te,aF as ca,aG as Oe,aH as ua,aI as Ce,aJ as da,aK as vt,aL as ma,aM as va,aN as Ie,aO as pt,aP as pa,aQ as Le,aR as Ae,aS as ga,aT as fa,aU as gt,aV as ft,aW as ht,aX as ha,aY as ba,aZ as ya,a_ as _a,a$ as wa,b0 as Sa,b1 as ka,b2 as Va,b3 as Ta,b4 as Ca,b5 as Na,b6 as xa,b7 as Da,b8 as Ra,b9 as Ea,ba as Ba,bb as $a,bc as Ia,bd as La,be as Aa,bf as Pa,bg as Ma,bh as Ua,bi as Wa,bj as Ha,bk as Ga,bl as ja,bm as qa,bn as Fa}from"./index-b94ddf60aea74d37.js";import{a as bt,u as yt,b as za}from"./layout-fc7b3b2a-b94ddf60aea74d37.js";const Qa=Re({scrollTarget:{type:String},scrollThreshold:{type:[String,Number],default:300}},"scroll");function Ya(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{canScroll:n}=r;let l=0,t=0;const a=L(null),c=oe(0),d=oe(0),o=oe(0),m=oe(!1),p=oe(!1),u=R(()=>Number(e.scrollThreshold)),i=R(()=>Rt((u.value-c.value)/u.value||0)),g=()=>{const V=a.value;if(!V||n&&!n.value)return;l=c.value,c.value="window"in V?V.pageYOffset:V.scrollTop;const y=V instanceof Window?document.documentElement.scrollHeight:V.scrollHeight;if(t!==y){t=y;return}p.value=c.value<l,o.value=Math.abs(c.value-u.value)};return te(p,()=>{d.value=d.value||c.value}),te(m,()=>{d.value=0}),we(()=>{te(()=>e.scrollTarget,V=>{var D;const y=V?document.querySelector(V):window;y&&y!==a.value&&((D=a.value)==null||D.removeEventListener("scroll",g),a.value=y,a.value.addEventListener("scroll",g,{passive:!0}))},{immediate:!0})}),Pe(()=>{var V;(V=a.value)==null||V.removeEventListener("scroll",g)}),n&&te(n,g,{immediate:!0}),{scrollThreshold:u,currentScroll:c,currentThreshold:o,isScrollActive:m,scrollRatio:i,isScrollingUp:p,savedScroll:d}}const Oa=Re({scrollBehavior:String,modelValue:{type:Boolean,default:!0},location:{type:String,default:"top",validator:e=>["top","bottom"].includes(e)},...Et(),...bt(),...Qa(),height:{type:[Number,String],default:64}},"VAppBar"),_t=Me()({name:"VAppBar",props:Oa(),emits:{"update:modelValue":e=>!0},setup(e,r){let{slots:n}=r;const l=L(),t=nt(e,"modelValue"),a=R(()=>{var _;const S=new Set(((_=e.scrollBehavior)==null?void 0:_.split(" "))??[]);return{hide:S.has("hide"),fullyHide:S.has("fully-hide"),inverted:S.has("inverted"),collapse:S.has("collapse"),elevate:S.has("elevate"),fadeImage:S.has("fade-image")}}),c=R(()=>{const S=a.value;return S.hide||S.fullyHide||S.inverted||S.collapse||S.elevate||S.fadeImage||!t.value}),{currentScroll:d,scrollThreshold:o,isScrollingUp:m,scrollRatio:p}=Ya(e,{canScroll:c}),u=R(()=>a.value.hide||a.value.fullyHide),i=R(()=>e.collapse||a.value.collapse&&(a.value.inverted?p.value>0:p.value===0)),g=R(()=>e.flat||a.value.fullyHide&&!t.value||a.value.elevate&&(a.value.inverted?d.value>0:d.value===0)),V=R(()=>a.value.fadeImage?a.value.inverted?1-p.value:p.value:void 0),y=R(()=>{var k,x;if(a.value.hide&&a.value.inverted)return 0;const S=((k=l.value)==null?void 0:k.contentHeight)??0,_=((x=l.value)==null?void 0:x.extensionHeight)??0;return u.value?d.value<o.value||a.value.fullyHide?S+_:S:S+_});ke(R(()=>!!e.scrollBehavior),()=>{lt(()=>{u.value?a.value.inverted?t.value=d.value>o.value:t.value=m.value||d.value<o.value:t.value=!0})});const{ssrBootStyles:D}=Ue(),{layoutItemStyles:I}=yt({id:e.name,order:R(()=>parseInt(e.order,10)),position:xe(e,"location"),layoutSize:y,elementSize:oe(void 0),active:t,absolute:xe(e,"absolute")});return We(()=>{const S=et.filterProps(e);return f(et,ae({ref:l,class:["v-app-bar",{"v-app-bar--bottom":e.location==="bottom"},e.class],style:[{...I.value,"--v-toolbar-image-opacity":V.value,height:void 0,...D.value},e.style]},S,{collapse:i.value,flat:g.value}),n)}),{}}});const Ka=Re({scrollable:Boolean,...it(),...Bt(),...rt({tag:"main"})},"VMain"),Xa=Me()({name:"VMain",props:Ka(),setup(e,r){let{slots:n}=r;const{dimensionStyles:l}=$t(e),{mainStyles:t}=za(),{ssrBootStyles:a}=Ue();return We(()=>f(e.tag,{class:["v-main",{"v-main--scrollable":e.scrollable},e.class],style:[t.value,a.value,l.value,e.style]},{default:()=>{var c,d;return[e.scrollable?f("div",{class:"v-main__scroller"},[(c=n.default)==null?void 0:c.call(n)]):(d=n.default)==null?void 0:d.call(n)]}})),{}}});function Ja(e){let{rootEl:r,isSticky:n,layoutItemStyles:l}=e;const t=oe(!1),a=oe(0),c=R(()=>{const m=typeof t.value=="boolean"?"top":t.value;return[n.value?{top:"auto",bottom:"auto",height:void 0}:void 0,t.value?{[m]:It(a.value)}:{top:l.value.top}]});we(()=>{te(n,m=>{m?window.addEventListener("scroll",o,{passive:!0}):window.removeEventListener("scroll",o)},{immediate:!0})}),Pe(()=>{window.removeEventListener("scroll",o)});let d=0;function o(){const m=d>window.scrollY?"up":"down",p=r.value.getBoundingClientRect(),u=parseFloat(l.value.top??0),i=window.scrollY-Math.max(0,a.value-u),g=p.height+Math.max(a.value,u)-window.scrollY-window.innerHeight,V=parseFloat(getComputedStyle(r.value).getPropertyValue("--v-body-scroll-y"))||0;p.height<window.innerHeight-u?(t.value="top",a.value=u):m==="up"&&t.value==="bottom"||m==="down"&&t.value==="top"?(a.value=window.scrollY+p.top-V,t.value=!0):m==="down"&&g<=0?(a.value=0,t.value="bottom"):m==="up"&&i<=0&&(V?t.value!=="top"&&(a.value=-i+V+u,t.value="top"):(a.value=p.top+i,t.value="top")),d=window.scrollY}return{isStuck:t,stickyStyles:c}}const Za=100,eo=20;function at(e){const r=1.41421356237;return(e<0?-1:1)*Math.sqrt(Math.abs(e))*r}function ot(e){if(e.length<2)return 0;if(e.length===2)return e[1].t===e[0].t?0:(e[1].d-e[0].d)/(e[1].t-e[0].t);let r=0;for(let n=e.length-1;n>0;n--){if(e[n].t===e[n-1].t)continue;const l=at(r),t=(e[n].d-e[n-1].d)/(e[n].t-e[n-1].t);r+=(t-l)*Math.abs(t),n===e.length-1&&(r*=.5)}return at(r)*1e3}function to(){const e={};function r(t){Array.from(t.changedTouches).forEach(a=>{(e[a.identifier]??(e[a.identifier]=new Lt(eo))).push([t.timeStamp,a])})}function n(t){Array.from(t.changedTouches).forEach(a=>{delete e[a.identifier]})}function l(t){var m;const a=(m=e[t])==null?void 0:m.values().reverse();if(!a)throw new Error(`No samples for touch id ${t}`);const c=a[0],d=[],o=[];for(const p of a){if(c[0]-p[0]>Za)break;d.push({t:p[0],d:p[1].clientX}),o.push({t:p[0],d:p[1].clientY})}return{x:ot(d),y:ot(o),get direction(){const{x:p,y:u}=this,[i,g]=[Math.abs(p),Math.abs(u)];return i>g&&p>=0?"right":i>g&&p<=0?"left":g>i&&u>=0?"down":g>i&&u<=0?"up":ao()}}}return{addMovement:r,endTouch:n,getVelocity:l}}function ao(){throw new Error}function oo(e){let{el:r,isActive:n,isTemporary:l,width:t,touchless:a,position:c}=e;we(()=>{window.addEventListener("touchstart",S,{passive:!0}),window.addEventListener("touchmove",_,{passive:!1}),window.addEventListener("touchend",k,{passive:!0})}),Pe(()=>{window.removeEventListener("touchstart",S),window.removeEventListener("touchmove",_),window.removeEventListener("touchend",k)});const d=R(()=>["left","right"].includes(c.value)),{addMovement:o,endTouch:m,getVelocity:p}=to();let u=!1;const i=oe(!1),g=oe(0),V=oe(0);let y;function D(B,A){return(c.value==="left"?B:c.value==="right"?document.documentElement.clientWidth-B:c.value==="top"?B:c.value==="bottom"?document.documentElement.clientHeight-B:ye())-(A?t.value:0)}function I(B){let A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const W=c.value==="left"?(B-V.value)/t.value:c.value==="right"?(document.documentElement.clientWidth-B-V.value)/t.value:c.value==="top"?(B-V.value)/t.value:c.value==="bottom"?(document.documentElement.clientHeight-B-V.value)/t.value:ye();return A?Math.max(0,Math.min(1,W)):W}function S(B){if(a.value)return;const A=B.changedTouches[0].clientX,W=B.changedTouches[0].clientY,U=25,Y=c.value==="left"?A<U:c.value==="right"?A>document.documentElement.clientWidth-U:c.value==="top"?W<U:c.value==="bottom"?W>document.documentElement.clientHeight-U:ye(),z=n.value&&(c.value==="left"?A<t.value:c.value==="right"?A>document.documentElement.clientWidth-t.value:c.value==="top"?W<t.value:c.value==="bottom"?W>document.documentElement.clientHeight-t.value:ye());(Y||z||n.value&&l.value)&&(y=[A,W],V.value=D(d.value?A:W,n.value),g.value=I(d.value?A:W),u=V.value>-20&&V.value<80,m(B),o(B))}function _(B){const A=B.changedTouches[0].clientX,W=B.changedTouches[0].clientY;if(u){if(!B.cancelable){u=!1;return}const Y=Math.abs(A-y[0]),z=Math.abs(W-y[1]);(d.value?Y>z&&Y>3:z>Y&&z>3)?(i.value=!0,u=!1):(d.value?z:Y)>3&&(u=!1)}if(!i.value)return;B.preventDefault(),o(B);const U=I(d.value?A:W,!1);g.value=Math.max(0,Math.min(1,U)),U>1?V.value=D(d.value?A:W,!0):U<0&&(V.value=D(d.value?A:W,!1))}function k(B){if(u=!1,!i.value)return;o(B),i.value=!1;const A=p(B.changedTouches[0].identifier),W=Math.abs(A.x),U=Math.abs(A.y);(d.value?W>U&&W>400:U>W&&U>3)?n.value=A.direction===({left:"right",right:"left",top:"down",bottom:"up"}[c.value]||ye()):n.value=g.value>.5}const x=R(()=>i.value?{transform:c.value==="left"?`translateX(calc(-100% + ${g.value*t.value}px))`:c.value==="right"?`translateX(calc(100% - ${g.value*t.value}px))`:c.value==="top"?`translateY(calc(-100% + ${g.value*t.value}px))`:c.value==="bottom"?`translateY(calc(100% - ${g.value*t.value}px))`:ye(),transition:"none"}:void 0);return ke(i,()=>{var W,U;const B=((W=r.value)==null?void 0:W.style.transform)??null,A=((U=r.value)==null?void 0:U.style.transition)??null;lt(()=>{var Y,z,O,$;(z=r.value)==null||z.style.setProperty("transform",((Y=x.value)==null?void 0:Y.transform)||"none"),($=r.value)==null||$.style.setProperty("transition",((O=x.value)==null?void 0:O.transition)||null)}),At(()=>{var Y,z;(Y=r.value)==null||Y.style.setProperty("transform",B),(z=r.value)==null||z.style.setProperty("transition",A)})}),{isDragging:i,dragProgress:g,dragStyles:x}}function ye(){throw new Error}const no=["start","end","left","right","top","bottom"],lo=Re({color:String,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,modelValue:{type:Boolean,default:null},permanent:Boolean,rail:{type:Boolean,default:null},railWidth:{type:[Number,String],default:56},scrim:{type:[Boolean,String],default:!0},image:String,temporary:Boolean,persistent:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},location:{type:String,default:"start",validator:e=>no.includes(e)},sticky:Boolean,...Pt(),...it(),...Mt(),...Ut({mobile:null}),...Wt(),...bt(),...Ht(),...rt({tag:"nav"}),...Gt()},"VNavigationDrawer"),wt=Me()({name:"VNavigationDrawer",props:lo(),emits:{"update:modelValue":e=>!0,"update:rail":e=>!0},setup(e,r){let{attrs:n,emit:l,slots:t}=r;const{isRtl:a}=jt(),{themeClasses:c}=qt(e),{borderClasses:d}=Ft(e),{backgroundColorClasses:o,backgroundColorStyles:m}=tt(xe(e,"color")),{elevationClasses:p}=zt(e),{displayClasses:u,mobile:i}=Qt(e),{roundedClasses:g}=Yt(e),V=Ot(),y=nt(e,"modelValue",null,Z=>!!Z),{ssrBootStyles:D}=Ue(),{scopeId:I}=Kt(),S=L(),_=oe(!1),{runOpenDelay:k,runCloseDelay:x}=ta(e,Z=>{_.value=Z}),B=R(()=>e.rail&&e.expandOnHover&&_.value?Number(e.width):Number(e.rail?e.railWidth:e.width)),A=R(()=>Xt(e.location,a.value)),W=R(()=>e.persistent),U=R(()=>!e.permanent&&(i.value||e.temporary)),Y=R(()=>e.sticky&&!U.value&&A.value!=="bottom");ke(()=>e.expandOnHover&&e.rail!=null,()=>{te(_,Z=>l("update:rail",!Z))}),ke(()=>!e.disableResizeWatcher,()=>{te(U,Z=>!e.permanent&&aa(()=>y.value=!Z))}),ke(()=>!e.disableRouteWatcher&&!!V,()=>{te(V.currentRoute,()=>U.value&&(y.value=!1))}),te(()=>e.permanent,Z=>{Z&&(y.value=!0)}),e.modelValue==null&&!U.value&&(y.value=e.permanent||!i.value);const{isDragging:z,dragProgress:O}=oo({el:S,isActive:y,isTemporary:U,width:B,touchless:xe(e,"touchless"),position:A}),$=R(()=>{const Z=U.value?0:e.rail&&e.expandOnHover?Number(e.railWidth):B.value;return z.value?Z*O.value:Z}),w=R(()=>["top","bottom"].includes(e.location)?0:B.value),{layoutItemStyles:T,layoutItemScrimStyles:P}=yt({id:e.name,order:R(()=>parseInt(e.order,10)),position:A,layoutSize:$,elementSize:w,active:R(()=>y.value||z.value),disableTransitions:R(()=>z.value),absolute:R(()=>e.absolute||Y.value&&typeof ce.value!="string")}),{isStuck:ce,stickyStyles:ge}=Ja({rootEl:S,isSticky:Y,layoutItemStyles:T}),ue=tt(R(()=>typeof e.scrim=="string"?e.scrim:null)),X=R(()=>({...z.value?{opacity:O.value*.2,transition:"none"}:void 0,...P.value}));return Jt({VList:{bgColor:"transparent"}}),We(()=>{const Z=t.image||e.image;return f(K,null,[f(e.tag,ae({ref:S,onMouseenter:k,onMouseleave:x,class:["v-navigation-drawer",`v-navigation-drawer--${A.value}`,{"v-navigation-drawer--expand-on-hover":e.expandOnHover,"v-navigation-drawer--floating":e.floating,"v-navigation-drawer--is-hovering":_.value,"v-navigation-drawer--rail":e.rail,"v-navigation-drawer--temporary":U.value,"v-navigation-drawer--persistent":W.value,"v-navigation-drawer--active":y.value,"v-navigation-drawer--sticky":Y.value},c.value,o.value,d.value,u.value,p.value,g.value,e.class],style:[m.value,T.value,D.value,ge.value,e.style,["top","bottom"].includes(A.value)?{height:"auto"}:{}]},I,n),{default:()=>{var Xe,Je,Ze;return[Z&&f("div",{key:"image",class:"v-navigation-drawer__img"},[t.image?f(Zt,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{alt:"",cover:!0,height:"inherit",src:e.image}}},t.image):f(He,{key:"image-img",alt:"",cover:!0,height:"inherit",src:e.image},null)]),t.prepend&&f("div",{class:"v-navigation-drawer__prepend"},[(Xe=t.prepend)==null?void 0:Xe.call(t)]),f("div",{class:"v-navigation-drawer__content"},[(Je=t.default)==null?void 0:Je.call(t)]),t.append&&f("div",{class:"v-navigation-drawer__append"},[(Ze=t.append)==null?void 0:Ze.call(t)])]}}),f(ea,{name:"fade-transition"},{default:()=>[U.value&&(z.value||y.value)&&!!e.scrim&&f("div",ae({class:["v-navigation-drawer__scrim",ue.backgroundColorClasses.value],style:[X.value,ue.backgroundColorStyles.value],onClick:()=>{W.value||(y.value=!1)}},I),null)]})])}),{isStuck:ce}}});var fe=(e=>(e.Explorer="explorer",e))(fe||{});const io="/lab/logo/evitalab-logo-mini.png?raw=true",ro="/lab/documentation.svg",so="/lab/discord.svg";var q=(e=>(e.Keymap="keymap",e.EvitaLabGithub="evitaLabGithub",e.DiscussEvitaLab="discussEvitaLab",e.ReportEvitaLabIssue="reportEvitaLabIssue",e.EvitaDBDocumentation="evitaDBDocumentation",e.EvitaDBGithub="evitaDBGithub",e.DiscussEvitaDB="discussEvitaDB",e.ReportEvitaDBIssue="reportEvitaDBIssue",e))(q||{});const co=H({__name:"ManageMenu",setup(e){const r=Ge(),n=pe(),l=oa(),t=ee(),{t:a}=Q(),c=[{type:"subheader",title:a("panel.manage.manage.title")},{title:a(`panel.manage.manage.item.${q.Keymap}`),value:q.Keymap,command:J.System_Keymap,props:{prependIcon:"mdi-keyboard-outline"}},{type:"subheader",title:a("panel.manage.evitaLabHelp.title")},{title:a(`panel.manage.evitaLabHelp.item.${q.EvitaLabGithub}`),value:q.EvitaLabGithub,props:{prependIcon:"mdi-github"}},{title:a(`panel.manage.evitaLabHelp.item.${q.DiscussEvitaLab}`),value:q.DiscussEvitaLab,props:{prependIcon:"mdi-forum-outline"}},{title:a(`panel.manage.evitaLabHelp.item.${q.ReportEvitaLabIssue}`),value:q.ReportEvitaLabIssue,props:{prependIcon:"mdi-bug"}},{type:"subheader",title:a("panel.manage.evitaDBHelp.title")},{title:a(`panel.manage.evitaDBHelp.item.${q.EvitaDBDocumentation}`),value:q.EvitaDBDocumentation,props:{prependIcon:"mdi-book-open-variant"}},{title:a(`panel.manage.evitaDBHelp.item.${q.EvitaDBGithub}`),value:q.EvitaDBGithub,props:{prependIcon:"mdi-github"}},{title:a(`panel.manage.evitaDBHelp.item.${q.DiscussEvitaDB}`),value:q.DiscussEvitaDB,props:{prependIcon:"mdi-forum-outline"}},{title:a(`panel.manage.evitaDBHelp.item.${q.ReportEvitaDBIssue}`),value:q.ReportEvitaDBIssue,props:{prependIcon:"mdi-bug"}}];function d(){n.createTab(l.createNew())}function o(m){if(m.length>0)switch(m[0]){case q.Keymap:d();break;case q.EvitaLabGithub:window.open("https://github.com/lukashornych/evitalab","_blank");break;case q.DiscussEvitaLab:window.open("https://discord.gg/VsNBWxgmSw","_blank");break;case q.ReportEvitaLabIssue:window.open("https://github.com/lukashornych/evitalab/issues/new","_blank");break;case q.EvitaDBDocumentation:window.open("https://evitadb.io/documentation","_blank");break;case q.EvitaDBGithub:window.open("https://github.com/FgForrest/evitaDB","_blank");break;case q.DiscussEvitaDB:window.open("https://discord.gg/VsNBWxgmSw","_blank");break;case q.ReportEvitaDBIssue:window.open("https://github.com/FgForrest/evitaDB/issues/new","_blank");break;default:t.error(new ct(`Unknown manage option ${m[0]}`))}}return we(()=>{r.bindGlobal(J.System_Keymap,d)}),je(()=>{r.unbindGlobal(J.System_Keymap)}),(m,p)=>(v(),N(st,null,{activator:s(({props:u})=>[f(qe,ae(u,{icon:"",variant:"text",class:"manage-button"}),{default:s(()=>[Ve(m.$slots,"default",{},void 0,!0),f(ve,{activator:"parent"},{default:s(()=>p[0]||(p[0]=[E(" Manage evitaLab ")])),_:1})]),_:2},1040)]),default:s(()=>[f(Ee,{items:c,"onUpdate:selected":o},{title:s(({item:u})=>[f(na,null,{default:s(()=>[E(b(u.title)+" ",1),u.command!=null?(v(),N(Fe,{key:0,command:u.command},{default:s(()=>[E(b(u.title),1)]),_:2},1032,["command"])):j("",!0)]),_:2},1024)]),_:1})]),_:3}))}});const uo=ne(co,[["__scopeId","data-v-d2e32f29"]]),mo={class:"lab-nav-links"},vo={href:"https://evitadb.io/documentation",target:"_blank"},po=["alt"],go={href:"https://discord.gg/VsNBWxgmSw",target:"_blank"},fo=["alt"],ho=H({__name:"WorkspacePanel",props:{panel:{}},emits:["update:panel"],setup(e,{emit:r}){const n=Ge(),{t:l}=Q(),t=e,a=r,c=d();function d(){const m=[];return m.push(new be(fe.Explorer,l(`panel.item.${fe.Explorer}`),"mdi-connection",()=>{},J.System_Panels_ConnectionsExplorer)),m}function o(m){m.value?a("update:panel",m.id):a("update:panel",null)}return we(()=>{n.bindGlobal(J.System_Panels_ConnectionsExplorer,()=>{t.panel===fe.Explorer?a("update:panel",null):a("update:panel",fe.Explorer)})}),je(()=>{n.unbindGlobal(J.System_Panels_ConnectionsExplorer)}),(m,p)=>(v(),N(wt,{permanent:"",rail:"",class:"bg-primary-dark"},{prepend:s(()=>[f(uo,null,{default:s(()=>[f(la,{size:"30px"},{default:s(()=>[f(He,{alt:"evitaLab Logo",width:"30px",height:"30px",src:io})]),_:1})]),_:1})]),append:s(()=>[C("ul",mo,[C("li",null,[C("a",vo,[C("img",{src:ro,alt:h(l)("panel.link.evitaDBDocumentation.icon.alt")},null,8,po),f(ve,{activator:"parent"},{default:s(()=>[E(b(h(l)("panel.link.evitaDBDocumentation.tooltip")),1)]),_:1})])]),C("li",null,[C("a",go,[C("img",{src:so,alt:h(l)("panel.link.discord.icon.alt")},null,8,fo),f(ve,{activator:"parent"},{default:s(()=>[E(b(h(l)("panel.link.discord.tooltip")),1)]),_:1})])])])]),default:s(()=>[f(Ee,{density:"compact",nav:"",selected:[m.panel],"onClick:select":o,class:"navigation-items"},{default:s(()=>[(v(!0),M(K,null,ie(h(c),u=>(v(),N(De,{key:u.value,value:u.value},{default:s(()=>[f(de,null,{default:s(()=>[E(b(u.prependIcon),1)]),_:2},1024),f(Fe,{command:u.command},{default:s(()=>[E(b(u.title),1)]),_:2},1032,["command"])]),_:2},1032,["value"]))),128))]),_:1},8,["selected"])]),_:1}))}});const bo=ne(ho,[["__scopeId","data-v-d2d1dd7a"]]);var F=(e=>(e.Server="server",e.Tasks="tasks",e.TrafficRecordings="trafficRecordings",e.JfrRecordings="jfrRecordings",e.GraphQLSystemAPIConsole="graphQLSystemApiConsole",e.ManageSubheader="manageSubheader",e.Refresh="refresh",e.CloseAllSessions="closeAllSessions",e.ModifySubheader="modifySubheader",e.Edit="edit",e.Remove="remove",e.CatalogsSubheader="catalogsSubheader",e.CreateCatalog="createCatalog",e.CatalogBackups="catalogBackups",e))(F||{});const St=Symbol("connection");function yo(e){ze(St,e)}function kt(){return Qe(St)}const Vt=Symbol("serverStatus");function _o(e){ze(Vt,e)}function Tt(){return Qe(Vt)}const Ct=Symbol("catalog");function wo(e){ze(Ct,e)}function So(){return Qe(Ct)}const ko={class:"tree-view-item__content"},Vo={key:0,class:"tree-view-item__flags"},To={key:0,class:"tree-view-item__flags"},Co=H({__name:"VTreeViewItem",props:{openable:{type:Boolean,default:!1},isOpen:{type:Boolean,default:!1},prependIcon:{},loading:{type:Boolean,default:!1},flags:{default:()=>[]},actions:{default:()=>[]}},emits:["click:action","click:actionMenu"],setup(e,{emit:r}){const n=e,l=L(!1),t=r;function a(){t("click:actionMenu"),n.actions&&n.actions.length>0&&(l.value=!0)}return(c,d)=>(v(),N(De,{"prepend-icon":null,"append-icon":null,onContextmenu:$e(a,["prevent"])},{default:s(()=>[C("div",ko,[c.openable?(v(),N(de,{key:0},{default:s(()=>[E(b(c.isOpen?"mdi-chevron-up":"mdi-chevron-down"),1)]),_:1})):(v(),N(de,{key:1})),c.loading?(v(),N(ut,{key:2})):(v(),N(de,{key:3},{default:s(()=>[E(b(c.prependIcon),1)]),_:1})),f(ve,null,{activator:s(({props:o})=>[C("span",ae(o,{class:"tree-view-item__text text-truncate"}),[Ve(c.$slots,"default",{},()=>[d[3]||(d[3]=C("span",{class:"text-disabled"}," No items found ",-1))],!0),c.flags.length>0?(v(),M("span",Vo,[(v(!0),M(K,null,ie(c.flags,m=>(v(),M("span",{key:m.value,class:Be(["tree-view-item__flag",`tree-view-item__flag--${m.type}`])},b(m.value),3))),128))])):j("",!0)],16)]),default:s(()=>[Ve(c.$slots,"default",{},void 0,!0),c.flags.length>0?(v(),M("span",To,[(v(!0),M(K,null,ie(c.flags,o=>(v(),M("span",{key:o.value,class:Be(["tree-view-item__flag","tree-view-item__lg-flag",`tree-view-item__flag--${o.type}`])},b(o.value),3))),128))])):j("",!0)]),_:3}),c.actions&&c.actions.length>0?(v(),N(st,{key:4,"menu-items":c.actions,modelValue:l.value,"onUpdate:modelValue":d[2]||(d[2]=o=>l.value=o)},{activator:s(({props:o})=>[f(de,ae(o,{class:"text-gray-light",onClick:d[0]||(d[0]=m=>t("click:actionMenu"))}),{default:s(()=>d[4]||(d[4]=[E(" mdi-dots-vertical ")])),_:2},1040)]),default:s(()=>[f(Ee,{density:"compact",items:c.actions,"onClick:select":d[1]||(d[1]=o=>c.$emit("click:action",o.id))},{item:s(({props:o})=>[f(De,{"prepend-icon":o.prependIcon,value:o.value,disabled:o.disabled},{default:s(()=>[E(b(o.title),1)]),_:2},1032,["prepend-icon","value","disabled"])]),_:1},8,["items"])]),_:1},8,["menu-items","modelValue"])):j("",!0)])]),_:3}))}});const Ke=ne(Co,[["__scopeId","data-v-1c78241c"]]);var G=(e=>(e.EvitaQLConsole="evitaQLConsole",e.GraphQLDataAPIConsole="graphQLDataApiConsole",e.GraphQLSchemaAPIConsole="graphQLSchemaApiConsole",e.ViewSchema="viewSchema",e.TrafficSubheader="trafficSubheader",e.ActiveTrafficRecording="activeTrafficRecording",e.ManageSubheader="manageSubheader",e.CloseAllSessions="closeAllSessions",e.ModifySubheader="modifySubheader",e.DropCatalog="dropCatalog",e.RenameCatalog="renameCatalog",e.ReplaceCatalog="replaceCatalog",e.SwitchCatalogToAliveState="switchCatalogToAliveState",e.CollectionsSubheader="collectionsSubheader",e.CreateCollection="createCollection",e))(G||{});const No={class:"pl-8 text-disabled"},Nt=H({__name:"VTreeViewEmptyItem",setup(e){const{t:r}=Q();return(n,l)=>(v(),N(De,null,{default:s(()=>[C("span",No,b(h(r)("common.list.empty")),1)]),_:1}))}});var le=(e=>(e.ViewEntities="viewEntities",e.ViewSchema="viewSchema",e.ModifySubheader="modifySubheader",e.DropCollection="dropCollection",e.RenameCollection="renameCollection",e))(le||{});class me{constructor(r){Se(this,"title");Se(this,"type","subheader");this.title=r}}const xo=H({__name:"DropCollectionDialog",props:{modelValue:{type:Boolean},connection:{},catalogName:{},entityType:{}},emits:["update:modelValue","drop"],setup(e,{emit:r}){const n=Ye(),l=ee(),{t}=Q(),a=e,c=r;async function d(){try{return await n.dropCollection(a.connection,a.catalogName,a.entityType)?(l.success(t("explorer.collection.drop.notification.collectionDropped",{entityType:a.entityType})),c("drop")):l.info(t("explorer.collection.drop.notification.collectionNotDropped",{entityType:a.entityType})),!0}catch(o){return l.error(t("explorer.collection.drop.notification.couldNotDropCollection",{entityType:a.entityType,reason:o.message})),!1}}return(o,m)=>{const p=se("I18nT");return v(),N(re,{"model-value":o.modelValue,dangerous:"",changed:"","confirm-button-icon":"mdi-delete-outline",confirm:d,"onUpdate:modelValue":m[0]||(m[0]=u=>c("update:modelValue",u))},{title:s(()=>[f(p,{keypath:"explorer.collection.drop.title"},{entityType:s(()=>[C("strong",null,b(o.entityType),1)]),_:1})]),"prepend-form":s(()=>[E(b(h(t)("explorer.collection.drop.question")),1)]),"confirm-button-body":s(()=>[E(b(h(t)("common.button.drop")),1)]),_:1},8,["model-value"])}}}),Do=H({__name:"RenameCollectionDialog",props:{modelValue:{type:Boolean},connection:{},catalogName:{},entityType:{}},emits:["update:modelValue","rename"],setup(e,{emit:r}){const n=Ye(),l=ee(),{t}=Q(),a=e,c=r,d=[i=>i!=null&&i.trim().length>0?!0:t("explorer.collection.rename.form.newName.validations.required"),async i=>{const g=await n.isEntityTypeValid(a.connection,i);return g==null?!0:t(`explorer.collection.rename.form.newName.validations.${g}`)},async i=>i===a.entityType||await n.isEntityTypeAvailable(a.connection,a.catalogName,i)?!0:t("explorer.collection.rename.form.newName.validations.notAvailable")],o=L(a.entityType),m=R(()=>o.value!==a.entityType);function p(){o.value=a.entityType}async function u(){try{return await n.renameCollection(a.connection,a.catalogName,a.entityType,o.value)?(l.success(t("explorer.collection.rename.notification.collectionRenamed",{entityType:a.entityType,newName:o.value})),c("rename")):l.info(t("explorer.collection.rename.notification.collectionNotRenamed",{entityType:a.entityType})),!0}catch(i){return l.error(t("explorer.collection.rename.notification.couldNotRenameCollection",{entityType:a.entityType,reason:i.message})),!1}}return(i,g)=>{const V=se("I18nT");return v(),N(re,{"model-value":i.modelValue,changed:m.value,dangerous:"","confirm-button-icon":"mdi-pencil-outline",confirm:u,reset:p,"onUpdate:modelValue":g[1]||(g[1]=y=>c("update:modelValue",y))},{title:s(()=>[f(V,{keypath:"explorer.collection.rename.title"},{entityType:s(()=>[C("strong",null,b(i.entityType),1)]),_:1})]),default:s(()=>[f(_e,{modelValue:o.value,"onUpdate:modelValue":g[0]||(g[0]=y=>o.value=y),label:h(t)("explorer.collection.rename.form.newName.label"),rules:d,required:""},null,8,["modelValue","label"])]),"confirm-button-body":s(()=>[E(b(h(t)("common.button.rename")),1)]),_:1},8,["model-value","changed"])}}}),Ro=H({__name:"CollectionItem",props:{entityCollection:{}},emits:["change"],setup(e,{emit:r}){const n=pe(),l=ia(),t=dt(),{t:a}=Q(),c=e,d=r,o=Tt(),m=L(!1),p=L(!1),u=kt(),i=So(),g=R(()=>I()),V=R(()=>Array.from(g.value.values()));if(i.value==null)throw new ct("Catalog schema is not loaded yet, but collection item is already rendered!");function y(){n.createTab(l.createNew(u,i.value.name,c.entityCollection.entityType,void 0,!0))}function D(_){const k=g.value.get(_);k instanceof be&&k.execute()}function I(){const _=o.value!=null&&!o.value.readOnly,k=new Map;return k.set(le.ViewEntities,S(le.ViewEntities,ra.icon(),y)),k.set(le.ViewSchema,S(le.ViewSchema,mt.icon(),()=>n.createTab(t.createNew(u,new sa(i.value.name,c.entityCollection.entityType))))),k.set(le.ModifySubheader,new me(a("explorer.collection.subheader.modify"))),k.set(le.RenameCollection,S(le.RenameCollection,"mdi-pencil-outline",()=>p.value=!0,_)),k.set(le.DropCollection,S(le.DropCollection,"mdi-delete-outline",()=>m.value=!0,_)),k}function S(_,k,x,B=!0){return new be(_,a(`explorer.collection.actions.${_}`),k,x,void 0,!B)}return(_,k)=>(v(),M("div",null,[f(Ke,{"prepend-icon":"mdi-list-box-outline",actions:V.value,onClick:y,"onClick:action":D,class:"text-gray-light"},{default:s(()=>[E(b(_.entityCollection.entityType),1)]),_:1},8,["actions"]),p.value?(v(),N(Do,{key:0,modelValue:p.value,"onUpdate:modelValue":k[0]||(k[0]=x=>p.value=x),connection:h(u),"catalog-name":h(i).name,"entity-type":_.entityCollection.entityType,onRename:k[1]||(k[1]=x=>d("change"))},null,8,["modelValue","connection","catalog-name","entity-type"])):j("",!0),m.value?(v(),N(xo,{key:1,modelValue:m.value,"onUpdate:modelValue":k[2]||(k[2]=x=>m.value=x),connection:h(u),"catalog-name":h(i).name,"entity-type":_.entityCollection.entityType,onDrop:k[3]||(k[3]=x=>d("change"))},null,8,["modelValue","connection","catalog-name","entity-type"])):j("",!0)]))}}),Eo=H({__name:"RenameCatalogDialog",props:{modelValue:{type:Boolean},connection:{},catalogName:{}},emits:["update:modelValue","rename"],setup(e,{emit:r}){const n=Te(),l=ee(),{t}=Q(),a=e,c=r,d=[i=>i!=null&&i.trim().length>0?!0:t("explorer.catalog.rename.form.newName.validations.required"),async i=>{const g=await n.isCatalogNameValid(a.connection,i);return g==null?!0:t(`explorer.catalog.rename.form.newName.validations.${g}`)},async i=>i===a.catalogName||await n.isCatalogNameAvailable(a.connection,i)?!0:t("explorer.catalog.rename.form.newName.validations.notAvailable")],o=L(a.catalogName),m=R(()=>a.catalogName!==o.value);function p(){o.value=a.catalogName}async function u(){try{return await n.renameCatalog(a.connection,a.catalogName,o.value)?(l.success(t("explorer.catalog.rename.notification.catalogRenamed",{catalogName:a.catalogName,newName:o.value})),c("rename")):l.info(t("explorer.catalog.rename.notification.catalogNotRenamed",{catalogName:a.catalogName})),!0}catch(i){return l.error(t("explorer.catalog.rename.notification.couldNotRenameCatalog",{catalogName:a.catalogName,reason:i.message})),!1}}return(i,g)=>{const V=se("I18nT");return v(),N(re,{"model-value":i.modelValue,changed:m.value,dangerous:"","confirm-button-icon":"mdi-pencil-outline",confirm:u,reset:p,"onUpdate:modelValue":g[1]||(g[1]=y=>c("update:modelValue",y))},{title:s(()=>[f(V,{keypath:"explorer.catalog.rename.title"},{catalogName:s(()=>[C("strong",null,b(i.catalogName),1)]),_:1})]),default:s(()=>[f(_e,{modelValue:o.value,"onUpdate:modelValue":g[0]||(g[0]=y=>o.value=y),label:h(t)("explorer.catalog.rename.form.newName.label"),rules:d,required:""},null,8,["modelValue","label"])]),"confirm-button-body":s(()=>[E(b(h(t)("common.button.rename")),1)]),_:1},8,["model-value","changed"])}}}),Bo=H({__name:"DropCatalogDialog",props:{modelValue:{type:Boolean},connection:{},catalogName:{}},emits:["update:modelValue","drop"],setup(e,{emit:r}){const n=Te(),l=ee(),{t}=Q(),a=e,c=r;async function d(){try{return await n.dropCatalog(a.connection,a.catalogName)?(l.success(t("explorer.catalog.drop.notification.catalogDropped",{catalogName:a.catalogName})),c("drop")):l.info(t("explorer.catalog.drop.notification.catalogNotDropped",{catalogName:a.catalogName})),!0}catch(o){return l.error(t("explorer.catalog.drop.notification.couldNotDropCatalog",{catalogName:a.catalogName,reason:o.message})),!1}}return(o,m)=>{const p=se("I18nT");return v(),N(re,{"model-value":o.modelValue,dangerous:"",changed:"","confirm-button-icon":"mdi-delete-outline",confirm:d,"onUpdate:modelValue":m[0]||(m[0]=u=>c("update:modelValue",u))},{title:s(()=>[f(p,{keypath:"explorer.catalog.drop.title"},{catalogName:s(()=>[C("strong",null,b(o.catalogName),1)]),_:1})]),"prepend-form":s(()=>[E(b(h(t)("explorer.catalog.drop.question")),1)]),"confirm-button-body":s(()=>[E(b(h(t)("common.button.drop")),1)]),_:1},8,["model-value"])}}}),$o=H({__name:"ReplaceCatalogDialog",props:{modelValue:{type:Boolean},connection:{},catalogName:{}},emits:["update:modelValue","replace"],setup(e,{emit:r}){const n=Te(),l=ee(),{t}=Q(),a=e,c=r,d=[y=>y!=null&&y.trim().length>0?!0:t("explorer.catalog.replace.form.catalogNameToBeReplacedWith.validations.required"),async y=>y===a.catalogName||await n.isCatalogExists(a.connection,y)?!0:t("explorer.catalog.replace.form.catalogNameToBeReplacedWith.validations.notExists")],o=L(),m=R(()=>o.value==null?[]:o.value.map(y=>y.name)),p=L(!1),u=L(),i=R(()=>u.value!=null&&u.value.length>0);n.getCatalogs(a.connection).then(y=>{o.value=y.filter(D=>D.name!==a.catalogName),p.value=!0});function g(){o.value=[],p.value=!1,u.value=""}async function V(){try{return await n.replaceCatalog(a.connection,u.value,a.catalogName)?(l.success(t("explorer.catalog.replace.notification.catalogReplaced",{catalogNameToBeReplaced:a.catalogName,catalogNameToBeReplacedWith:u.value})),c("replace")):l.info(t("explorer.catalog.replace.notification.catalogNotReplaced",{catalogNameToBeReplaced:a.catalogName})),!0}catch(y){return l.error(t("explorer.catalog.replace.notification.couldNotReplaceCatalog",{catalogNameToBeReplaced:a.catalogName,reason:y.message})),!1}}return(y,D)=>{const I=se("I18nT");return v(),N(re,{"model-value":y.modelValue,dangerous:"",changed:i.value,"confirm-button-icon":"mdi-file-replace-outline",confirm:V,reset:g,"onUpdate:modelValue":D[1]||(D[1]=S=>c("update:modelValue",S))},{title:s(()=>[f(I,{keypath:"explorer.catalog.replace.title"},{catalogNameToBeReplaced:s(()=>[C("strong",null,b(y.catalogName),1)]),_:1})]),default:s(()=>[f(ca,{modelValue:u.value,"onUpdate:modelValue":D[0]||(D[0]=S=>u.value=S),label:h(t)("explorer.catalog.replace.form.catalogNameToBeReplacedWith.label"),items:m.value,rules:d},null,8,["modelValue","label","items"])]),"append-form":s(()=>[f(Oe,{icon:"mdi-information-outline",type:"info"},{default:s(()=>[f(I,{keypath:"explorer.catalog.replace.info"},ua({catalogNameToBeReplaced:s(()=>[C("strong",null,b(y.catalogName),1)]),_:2},[i.value?{name:"catalogNameToBeReplacedWith",fn:s(()=>[C("strong",null,b(u.value),1)]),key:"0"}:{name:"catalogNameToBeReplacedWith",fn:s(()=>[D[2]||(D[2]=C("strong",null,"?",-1))]),key:"1"}]),1024)]),_:1})]),"confirm-button-body":s(()=>[E(b(h(t)("common.button.replace")),1)]),_:1},8,["model-value","changed"])}}}),Io=H({__name:"CreateCollectionDialog",props:{modelValue:{type:Boolean},connection:{},catalogName:{}},emits:["update:modelValue","create"],setup(e,{emit:r}){const n=Ye(),l=ee(),{t}=Q(),a=e,c=r,d=[i=>i!=null&&i.trim().length>0?!0:t("explorer.collection.create.form.entityType.validations.required"),async i=>{const g=await n.isEntityTypeValid(a.connection,i);return g==null?!0:t(`explorer.collection.create.form.entityType.validations.${g}`)},async i=>await n.isEntityTypeAvailable(a.connection,a.catalogName,i)?!0:t("explorer.collection.create.form.entityType.validations.notAvailable")],o=L(""),m=R(()=>o.value.length>0);function p(){o.value=""}async function u(){try{return await n.createCollection(a.connection,a.catalogName,o.value),l.success(t("explorer.collection.create.notification.collectionCreated",{entityType:o.value})),c("create"),!0}catch(i){return l.error(t("explorer.collection.create.notification.couldNotCreateCollection",{entityType:o.value,reason:i.message})),!1}}return(i,g)=>{const V=se("I18nT");return v(),N(re,{"model-value":i.modelValue,changed:m.value,"confirm-button-icon":"mdi-plus",confirm:u,reset:p,"onUpdate:modelValue":g[1]||(g[1]=y=>c("update:modelValue",y))},{title:s(()=>[f(V,{keypath:"explorer.collection.create.title"},{catalogName:s(()=>[C("strong",null,b(i.catalogName),1)]),_:1})]),default:s(()=>[f(_e,{modelValue:o.value,"onUpdate:modelValue":g[0]||(g[0]=y=>o.value=y),label:h(t)("explorer.collection.create.form.entityType.label"),rules:d,required:""},null,8,["modelValue","label"])]),"confirm-button-body":s(()=>[E(b(h(t)("common.button.create")),1)]),_:1},8,["model-value","changed"])}}}),Lo=H({__name:"SwitchCatalogToAliveStateDialog",props:{modelValue:{type:Boolean},connection:{},catalogName:{}},emits:["update:modelValue","switch"],setup(e,{emit:r}){const n=Te(),l=ee(),{t}=Q(),a=e,c=r;async function d(){try{return await n.switchCatalogToAliveState(a.connection,a.catalogName)?(l.success(t("explorer.catalog.switchToAliveState.notification.catalogSwitched",{catalogName:a.catalogName})),c("switch")):l.info(t("explorer.catalog.switchToAliveState.notification.catalogNotSwitched",{catalogName:a.catalogName})),!0}catch(o){return l.error(t("explorer.catalog.switchToAliveState.notification.couldNotSwitchCatalog",{catalogName:a.catalogName,reason:o.message})),!1}}return(o,m)=>{const p=se("I18nT");return v(),N(re,{"model-value":o.modelValue,dangerous:"",changed:"","confirm-button-icon":"mdi-toggle-switch-outline",confirm:d,"onUpdate:modelValue":m[0]||(m[0]=u=>c("update:modelValue",u))},{title:s(()=>[f(p,{keypath:"explorer.catalog.switchToAliveState.title"},{catalogName:s(()=>[C("strong",null,b(o.catalogName),1)]),_:1})]),"prepend-form":s(()=>[E(b(h(t)("explorer.catalog.switchToAliveState.description")),1)]),"append-form":s(()=>[f(Oe,{icon:"mdi-alert-outline",type:"warning"},{default:s(()=>[E(b(h(t)("explorer.catalog.switchToAliveState.warning")),1)]),_:1})]),"confirm-button-body":s(()=>[E(b(h(t)("common.button.switch")),1)]),_:1},8,["model-value"])}}});var Ne=(e=>(e.Info="info",e.Warning="warning",e.Error="error",e))(Ne||{});class he{constructor(r,n){Se(this,"value");Se(this,"type");this.value=r,this.type=n}static info(r){return new he(r,Ne.Info)}static warning(r){return new he(r,Ne.Warning)}static error(r){return new he(r,Ne.Error)}}const Ao={key:0},Po=H({__name:"CatalogItem",props:{catalog:{}},emits:["change"],setup(e,{emit:r}){const n=pe(),l=Ce(),t=da(),a=vt(),c=dt(),d=ma(),o=ee(),{t:m}=Q(),p=e,u=r,i=Tt(),g=L(!1),V=L(!1),y=L(!1),D=L(!1),I=L(!1),S=kt(),_=R(()=>{const $=[];return p.catalog.corrupted&&$.push(he.error(m("explorer.catalog.flag.corrupted"))),p.catalog.isInWarmup&&$.push(he.warning(m("explorer.catalog.flag.warmingUp"))),$}),k=R(()=>z()),x=R(()=>Array.from(k.value.values())),B=R(()=>va.List(p.catalog.entityCollections).sort(($,w)=>$.entityType.localeCompare(w.entityType))),A=L(p.catalog);wo(A);const W=L(!1);async function U(){try{await l.closeAllSessions(S,p.catalog.name),o.success(m("explorer.catalog.notification.closedAllSessions",{catalogName:p.catalog.name}))}catch($){o.error(m("explorer.catalog.notification.couldNotCloseSessions",{catalogName:p.catalog.name,reason:$.message}))}}function Y($){var T;const w=(T=k.value)==null?void 0:T.get($);w&&w instanceof be&&w.execute()}function z(){const $=i.value!=null&&i.value.apiEnabled(Ie.GraphQL),w=!p.catalog.corrupted,T=i.value!=null&&!i.value.readOnly,P=new Map;return P.set(G.EvitaQLConsole,O(G.EvitaQLConsole,pa.icon(),()=>{n.createTab(t.createNew(S,p.catalog.name))},w)),P.set(G.GraphQLDataAPIConsole,O(G.GraphQLDataAPIConsole,Ae.icon(),()=>{n.createTab(a.createNew(S,p.catalog.name,Le.Data))},w&&$)),P.set(G.GraphQLSchemaAPIConsole,O(G.GraphQLSchemaAPIConsole,Ae.icon(),()=>{n.createTab(a.createNew(S,p.catalog.name,Le.Schema))},w&&$)),P.set(G.ViewSchema,O(G.ViewSchema,mt.icon(),()=>{n.createTab(c.createNew(S,new ga(p.catalog.name)))},w)),P.set(G.TrafficSubheader,new me(m("explorer.catalog.subheader.traffic"))),P.set(G.ActiveTrafficRecording,O(G.ActiveTrafficRecording,fa.icon(),()=>n.createTab(d.createNew(S,p.catalog.name)),w&&T)),P.set(G.ManageSubheader,new me(m("explorer.catalog.subheader.manage"))),P.set(G.CloseAllSessions,O(G.CloseAllSessions,"mdi-lan-disconnect",()=>U())),P.set(G.ModifySubheader,new me(m("explorer.catalog.subheader.modify"))),P.set(G.RenameCatalog,O(G.RenameCatalog,"mdi-pencil-outline",()=>g.value=!0,w&&T)),P.set(G.ReplaceCatalog,O(G.ReplaceCatalog,"mdi-file-replace-outline",()=>V.value=!0,w&&T)),p.catalog.isInWarmup&&P.set(G.SwitchCatalogToAliveState,O(G.SwitchCatalogToAliveState,"mdi-toggle-switch-outline",()=>y.value=!0,w&&T)),P.set(G.DropCatalog,O(G.DropCatalog,"mdi-delete-outline",()=>D.value=!0,T)),P.set(G.CollectionsSubheader,new me(m("explorer.catalog.subheader.collections"))),P.set(G.CreateCollection,O(G.CreateCollection,"mdi-plus",()=>I.value=!0,w&&T)),new Map(P)}function O($,w,T,P=!0){return new be($,m(`explorer.catalog.actions.${$}`),w,T,void 0,!P)}return($,w)=>(v(),N(pt,{value:`${h(S).name}|${$.catalog.name}`},{activator:s(({isOpen:T,props:P})=>[f(Ke,ae(P,{openable:!$.catalog.corrupted,"is-open":T,"prepend-icon":"mdi-menu",loading:W.value,flags:_.value,actions:x.value,"onClick:action":Y,class:"text-gray-light"}),{default:s(()=>[E(b($.catalog.name),1)]),_:2},1040,["openable","is-open","loading","flags","actions"])]),default:s(()=>[$.catalog.corrupted?j("",!0):(v(),M("div",Ao,[$.catalog.entityCollections.size>0?(v(!0),M(K,{key:0},ie(B.value,T=>(v(),N(Ro,{key:T.entityType,"entity-collection":T,onChange:w[0]||(w[0]=P=>u("change"))},null,8,["entity-collection"]))),128)):(v(),N(Nt,{key:1}))])),g.value?(v(),N(Eo,{key:1,modelValue:g.value,"onUpdate:modelValue":w[1]||(w[1]=T=>g.value=T),connection:h(S),"catalog-name":$.catalog.name,onRename:w[2]||(w[2]=T=>u("change"))},null,8,["modelValue","connection","catalog-name"])):j("",!0),V.value?(v(),N($o,{key:2,modelValue:V.value,"onUpdate:modelValue":w[3]||(w[3]=T=>V.value=T),connection:h(S),"catalog-name":$.catalog.name,onReplace:w[4]||(w[4]=T=>u("change"))},null,8,["modelValue","connection","catalog-name"])):j("",!0),y.value?(v(),N(Lo,{key:3,modelValue:y.value,"onUpdate:modelValue":w[5]||(w[5]=T=>y.value=T),connection:h(S),"catalog-name":$.catalog.name,onSwitch:w[6]||(w[6]=T=>u("change"))},null,8,["modelValue","connection","catalog-name"])):j("",!0),D.value?(v(),N(Bo,{key:4,modelValue:D.value,"onUpdate:modelValue":w[7]||(w[7]=T=>D.value=T),connection:h(S),"catalog-name":$.catalog.name,onDrop:w[8]||(w[8]=T=>u("change"))},null,8,["modelValue","connection","catalog-name"])):j("",!0),I.value?(v(),N(Io,{key:5,modelValue:I.value,"onUpdate:modelValue":w[9]||(w[9]=T=>I.value=T),connection:h(S),"catalog-name":$.catalog.name,onCreate:w[10]||(w[10]=T=>u("change"))},null,8,["modelValue","connection","catalog-name"])):j("",!0)]),_:1},8,["value"]))}}),Mo=H({__name:"RemoveConnectionDialog",props:{modelValue:{type:Boolean},connection:{}},emits:["update:modelValue"],setup(e,{emit:r}){const n=Ce(),l=ee(),{t}=Q(),a=e,c=r;async function d(){try{return n.removeConnection(a.connection.id),l.success(t("explorer.connection.remove.notification.connectionRemoved",{connectionName:a.connection.name})),!0}catch(o){return l.error(t("explorer.connection.remove.notification.couldNotRemoveConnection",{connectionName:a.connection.name,reason:o.message})),!1}}return(o,m)=>{const p=se("I18nT");return v(),N(re,{"model-value":o.modelValue,dangerous:"",changed:"","confirm-button-icon":"mdi-delete-outline",confirm:d,"onUpdate:modelValue":m[0]||(m[0]=u=>c("update:modelValue",u))},{activator:s(({props:u})=>[Ve(o.$slots,"activator",gt(ft(u)))]),title:s(()=>[f(p,{keypath:"explorer.connection.remove.title"},{connectionName:s(()=>[C("strong",null,b(o.connection.name),1)]),_:1})]),"prepend-form":s(()=>[E(b(h(t)("explorer.connection.remove.question")),1)]),"confirm-button-body":s(()=>[E(b(h(t)("common.button.remove")),1)]),_:3},8,["model-value"])}}}),Uo=H({__name:"CreateCatalogDialog",props:{modelValue:{type:Boolean},connection:{}},emits:["update:modelValue","create"],setup(e,{emit:r}){const n=Te(),l=ee(),{t}=Q(),a=e,c=r,d=[i=>i!=null&&i.trim().length>0?!0:t("explorer.catalog.create.form.catalogName.validations.required"),async i=>{const g=await n.isCatalogNameValid(a.connection,i);return g==null?!0:t(`explorer.catalog.create.form.catalogName.validations.${g}`)},async i=>await n.isCatalogNameAvailable(a.connection,i)?!0:t("explorer.catalog.create.form.catalogName.validations.notAvailable")],o=L(""),m=R(()=>o.value.length>0);function p(){o.value=""}async function u(){try{return await n.createCatalog(a.connection,o.value),l.success(t("explorer.catalog.create.notification.catalogCreated",{catalogName:o.value})),c("create"),!0}catch(i){return l.error(t("explorer.catalog.create.notification.couldNotCreateCatalog",{catalogName:o.value,reason:i.message})),!1}}return(i,g)=>(v(),N(re,{"model-value":i.modelValue,changed:m.value,"confirm-button-icon":"mdi-plus",confirm:u,reset:p,"onUpdate:modelValue":g[1]||(g[1]=V=>c("update:modelValue",V))},{title:s(()=>[E(b(h(t)("explorer.catalog.create.title")),1)]),default:s(()=>[f(_e,{modelValue:o.value,"onUpdate:modelValue":g[0]||(g[0]=V=>o.value=V),label:h(t)("explorer.catalog.create.form.catalogName.label"),rules:d,required:""},null,8,["modelValue","label"])]),"confirm-button-body":s(()=>[E(b(h(t)("common.button.create")),1)]),_:1},8,["model-value","changed"]))}}),Wo={key:0},Ho=H({__name:"ConnectionItem",props:{connection:{}},setup(e){const r=ht(),n=pe(),l=Ce(),t=vt(),a=ha(),c=ba(),d=ya(),o=_a(),m=wa(),p=ee(),{t:u}=Q(),i=e;yo(i.connection);const g=L();_o(g);const V=R(()=>{const w=[];return i.connection.preconfigured&&w.push(he.info(u("explorer.connection.flag.preconfigured"))),w}),y=L();te([()=>i.connection,g],async()=>y.value=await O(),{immediate:!0});const D=R(()=>y.value==null?[]:Array.from(y.value.values())),I=L(),S=L(!1),_=L(!1),k=L(!1);let x=!1;async function B(){x||(S.value=!0,x=await W().then(w=>w?U():!1),S.value=!1)}async function A(){S.value=!0,await W().then(w=>w?U():!1),S.value=!1}async function W(){try{return g.value=await l.getServerStatus(i.connection),!0}catch(w){return p.error(u("explorer.connection.notification.couldNotLoadServerStatus",{connectionName:i.connection.name,reason:w.message})),!1}}async function U(){try{return I.value=(await l.getCatalogs(i.connection,!0)).sort((w,T)=>w.name.localeCompare(T.name)),!0}catch(w){return p.error(u("explorer.connection.notification.couldNotLoadCatalogs",{connectionName:i.connection.name,reason:w.message})),!1}}async function Y(){try{await l.closeAllSessions(i.connection),p.success(u("explorer.connection.notification.closedAllSessions",{connectionName:i.connection.name}))}catch(w){p.error(u("explorer.connection.notification.couldNotCloseSessions",{connectionName:i.connection.name,reason:w.message}))}}function z(w){if(y.value==null)return;const T=y.value.get(w);T instanceof be&&T.execute()}async function O(){const w=g.value!=null&&g.value.apiEnabled(Ie.GraphQL),T=g.value!=null&&g.value.apiEnabled(Ie.Observability),P=!i.connection.preconfigured,ce=!r.readOnly,ge=g.value!=null,ue=ge&&!g.value.readOnly,X=new Map;return X.set(F.Server,$(F.Server,Sa.icon(),()=>n.createTab(a.createNew(i.connection)),ge)),X.set(F.Tasks,$(F.Tasks,ka.icon(),()=>{n.createTab(c.createNew(i.connection))},ue)),X.set(F.TrafficRecordings,$(F.TrafficRecordings,Va.icon(),()=>{n.createTab(o.createNew(i.connection))},ue)),X.set(F.JfrRecordings,$(F.JfrRecordings,Ta.icon(),()=>{n.createTab(d.createNew(i.connection))},ue&&T)),X.set(F.GraphQLSystemAPIConsole,$(F.GraphQLSystemAPIConsole,Ae.icon(),()=>n.createTab(t.createNew(i.connection,"system",Le.System)),w)),X.set(F.ManageSubheader,new me(u("explorer.connection.subheader.manage"))),X.set(F.Refresh,$(F.Refresh,"mdi-refresh",async()=>await A())),X.set(F.CloseAllSessions,$(F.CloseAllSessions,"mdi-lan-disconnect",()=>Y(),ge)),X.set(F.ModifySubheader,new me(u("explorer.connection.subheader.modify"))),X.set(F.Remove,$(F.Remove,"mdi-delete-outline",()=>_.value=!0,P&&ce)),X.set(F.CatalogsSubheader,new me(u("explorer.connection.subheader.catalogs"))),X.set(F.CreateCatalog,$(F.CreateCatalog,"mdi-plus",()=>k.value=!0,ue)),X.set(F.CatalogBackups,$(F.CatalogBackups,Ca.icon(),()=>{n.createTab(m.createNew(i.connection))},ue)),X}function $(w,T,P,ce=!0){return new be(w,u(`explorer.connection.actions.${w}`),T,P,void 0,!ce)}return(w,T)=>(v(),M("div",null,[f(pt,{value:w.connection.name},{activator:s(({isOpen:P,props:ce})=>[f(Ke,ae(ce,{openable:"","is-open":P,"prepend-icon":"mdi-power-plug-outline",loading:S.value,flags:V.value,actions:D.value,onClick:T[0]||(T[0]=ge=>B()),"onClick:actionMenu":T[1]||(T[1]=ge=>B()),"onClick:action":z}),{default:s(()=>[E(b(w.connection.name),1)]),_:2},1040,["is-open","loading","flags","actions"])]),default:s(()=>[I.value!==void 0?(v(),M("div",Wo,[I.value.size>0?(v(!0),M(K,{key:0},ie(I.value,P=>(v(),N(Po,{key:P.name,catalog:P,onChange:U},null,8,["catalog"]))),128)):(v(),N(Nt,{key:1}))])):j("",!0),_.value?(v(),N(Mo,{key:1,modelValue:_.value,"onUpdate:modelValue":T[2]||(T[2]=P=>_.value=P),connection:w.connection},null,8,["modelValue","connection"])):j("",!0),k.value?(v(),N(Uo,{key:2,modelValue:k.value,"onUpdate:modelValue":T[3]||(T[3]=P=>k.value=P),connection:w.connection,onCreate:U},null,8,["modelValue","connection"])):j("",!0)]),_:1},8,["value"])]))}}),Go=H({__name:"ConnectToServerDialog",props:{modelValue:{type:Boolean},connection:{default:void 0}},emits:["update:modelValue"],setup(e,{emit:r}){const n=Ce(),l=ee(),{t}=Q(),a=r,c=[D=>D?!0:t("explorer.connection.connect.form.connectionName.validations.required"),D=>n.isConnectionExists(D)?t("explorer.connection.connect.form.connectionName.validations.duplicate"):!0],d=[D=>D?!0:t("explorer.connection.connect.form.serverUrl.validations.required"),D=>{try{return new URL(D),!0}catch{return t("explorer.connection.connect.form.serverUrl.validations.invalidUrl")}},async D=>{const I=await g(D);return I==null?(p.value=1,!0):(p.value=2,I)}],o=L(""),m=L(""),p=L(0),u=R(()=>o.value!=null&&o.value.length>0&&m.value!=null&&m.value.length>0),i=R(()=>{switch(p.value){case 0:return"";case 1:return"mdi-check-circle-outline";case 2:return"mdi-close-circle-outline"}});async function g(D){var I,S;try{const _=D.endsWith("/")?D:D+"/",k=await Na.post(`${_}io.evitadb.externalApi.grpc.generated.EvitaManagementService/ServerStatus`,{headers:{"Content-Type":"application/json",Accept:"application/json"},body:"{}"}).json();return k.readiness!=="API_READY"?t("explorer.connection.connect.form.serverUrl.validations.notReady"):((I=k.api.lab)==null?void 0:I.enabled)!==!0?t("explorer.connection.connect.form.serverUrl.validations.labApiMissing"):((S=k.api.gRPC)==null?void 0:S.enabled)!==!0?t("explorer.connection.connect.form.serverUrl.validations.grpcApiMissing"):void 0}catch{return t("explorer.connection.connect.form.serverUrl.validations.unreachable")}}function V(){o.value="",m.value="",p.value=0}async function y(){try{return n.addConnection(xa.user(void 0,o.value,m.value)),l.success(t("explorer.connection.connect.notification.connectionAdded",{connectionName:o.value})),!0}catch(D){return l.error(t("explorer.connection.connect.notification.couldNotAddConnection",{reason:D.message})),!1}}return(D,I)=>(v(),N(re,{"model-value":D.modelValue,changed:u.value,"confirm-button-icon":"mdi-power-plug-outline",confirm:y,reset:V,"onUpdate:modelValue":I[2]||(I[2]=S=>a("update:modelValue",S))},{activator:s(({props:S})=>[Ve(D.$slots,"activator",gt(ft({props:S})))]),title:s(()=>[E(b(h(t)("explorer.connection.connect.title")),1)]),default:s(()=>[f(_e,{modelValue:o.value,"onUpdate:modelValue":I[0]||(I[0]=S=>o.value=S),label:h(t)("explorer.connection.connect.form.connectionName.label"),placeholder:"evitaDB",rules:c,required:""},null,8,["modelValue","label"]),f(_e,{modelValue:m.value,"onUpdate:modelValue":I[1]||(I[1]=S=>m.value=S),label:h(t)("explorer.connection.connect.form.serverUrl.label"),placeholder:"https://{evitadb-server}:5555",hint:h(t)("explorer.connection.connect.form.serverUrl.hint"),required:"",rules:d,"append-inner-icon":i.value},null,8,["modelValue","label","hint","append-inner-icon"])]),"confirm-button-body":s(()=>[E(b(h(t)("explorer.connection.connect.button.connect")),1)]),_:3},8,["model-value","changed"]))}}),jo={key:0,class:"pa-2"},qo=H({__name:"ConnectionExplorerPanel",props:{modelValue:{type:Boolean}},emits:["update:modelValue"],setup(e,{emit:r}){const n=ht(),l=Ce(),{t}=Q(),a=L(!1),c=R(()=>l.getConnections().sort((d,o)=>d.preconfigured&&!o.preconfigured?-1:o.preconfigured&&!d.preconfigured?1:d.name.localeCompare(o.name)));return(d,o)=>(v(),N(wt,{permanent:"","model-value":d.modelValue,width:325,"onUpdate:modelValue":o[2]||(o[2]=m=>d.$emit("update:modelValue",m)),class:"bg-primary"},{append:s(()=>[h(n).readOnly?j("",!0):(v(),M("div",jo,[f(Go,{modelValue:a.value,"onUpdate:modelValue":o[1]||(o[1]=m=>a.value=m)},{activator:s(({props:m})=>[f(qe,ae({"prepend-icon":"mdi-power-plug-outline",block:"",variant:"outlined"},m,{onClick:o[0]||(o[0]=p=>a.value=!0)}),{default:s(()=>[E(b(h(t)("explorer.button.connect")),1)]),_:2},1040)]),_:1},8,["modelValue"])]))]),default:s(()=>[f(Ee,{density:"compact",nav:""},{default:s(()=>[f(Da,{class:"text-gray-light text-sm-body-2 font-weight-medium"},{default:s(()=>[E(b(h(t)("explorer.title")),1)]),_:1}),(v(!0),M(K,null,ie(c.value,m=>(v(),N(Ho,{key:m.name,connection:m},null,8,["connection"]))),128))]),_:1})]),_:1},8,["model-value"]))}});function Fo(e,r){return e.length<=r?e:e.substring(0,r-3)+"..."}const zo={class:"loading-screen"},Qo={class:"loading-screen-info"},Yo=H({__name:"TabLoadingScreen",setup(e){const{t:r}=Q();return(n,l)=>(v(),M("div",zo,[C("div",Qo,[f(ut,{size:48}),C("span",null,b(h(r)("tab.placeholder.loading")),1)])]))}});const Oo=ne(Yo,[["__scopeId","data-v-b23d11da"]]),Ko=H({__name:"TabWindow",props:{id:{},component:{},componentProps:{}},setup(e){const r=pe(),n=e,l=L(!1),t=L();te(t,()=>{d()});function a(){l.value=!0,d()}function c(o){r.replaceTabData(n.id,o),d()}function d(){if(l.value&&t.value!=null&&t.value.path!=null){const o=t.value.path();o!=null&&r.subjectPathStatus.definePath(n.id,o)}}return(o,m)=>(v(),M(K,null,[(v(),N($a,null,[Ra((v(),N(Ba(o.component),ae({ref_key:"componentInstance",ref:t},o.componentProps,{onReady:a,"onUpdate:data":c}),null,16)),[[Ea,l.value]])],1024)),l.value?j("",!0):(v(),N(Oo,{key:0}))],64))}}),Xo="/lab/logo/evitalab-logo-representative.svg",Jo={class:"editor-welcome-screen"},Zo={class:"editor-welcome-screen-hero"},en={class:"editor-welcome-screen-hero__header"},tn={class:"editor-welcome-screen-hero__title"},an={class:"font-weight-bold mb-2",style:{"font-size":"4.375rem"}},on={class:"text-white",style:{"font-size":"1rem"}},nn={class:"text-primary-lightest text-body-2",href:"https://github.com/lukashornych/evitalab/releases",target:"_blank"},ln={class:"text-gray-light",style:{"font-size":"1rem"}},rn={class:"editor-welcome-screen-blog"},sn=["href"],cn={class:"editor-welcome-screen-blog-img__wrap"},un=["src","alt"],dn={class:"editor-welcome-screen-blog-item__title"},mn={class:"editor-welcome-screen-blog-item__perex"},vn={class:"editor-welcome-screen-blog-item__btn"},pn={class:"editor-welcome-screen-hero__links"},gn={href:"https://evitadb.io/documentation",target:"_blank"},fn={href:"https://github.com/lukashornych/evitalab/",target:"_blank"},hn={href:"https://discord.gg/VsNBWxgmSw",target:"_blank"},bn={href:"https://github.com/lukashornych/evitalab/issues",target:"_blank"},yn=H({__name:"WelcomeScreen",setup(e){const r=Ia(),{t:n}=Q(),l=R(()=>{const a="v2025.1.1";return a.length===0?"?":a.substring(1)}),t=L([]);return r.getBlogPosts().then(a=>{t.value=a}),(a,c)=>{const d=se("I18nT");return v(),M("div",Jo,[C("div",Zo,[C("header",en,[f(He,{width:"240",height:"240","max-width":"240","max-height":"240",alt:"evitaLab Logo",src:Xo,class:"evitalab-logo"}),C("div",tn,[C("h1",an,b(h(n)("app.name")),1),C("p",on,[E(b(l.value)+" ",1),C("a",nn,"("+b(h(n)("welcomeScreen.changelog"))+")",1)]),C("p",ln,b(h(n)("welcomeScreen.description")),1)])]),C("div",rn,[(v(!0),M(K,null,ie(t.value,o=>(v(),M("a",{key:o.url,href:o.url,target:"_blank"},[C("span",cn,[C("img",{class:"Blog_BlogMotive__72hVr",height:"160",width:"480",src:o.thumbnailUrl,alt:h(n)("welcomeScreen.blog.thumbnail.alt",{title:o.title})},null,8,un)]),C("span",dn,b(o.title),1),C("span",mn,[f(La,{source:o.perex},null,8,["source"])]),C("span",vn,b(h(n)("welcomeScreen.blog.button.read")),1)],8,sn))),128))]),c[0]||(c[0]=C("span",{class:"editor-welcome-screen-hr"},"",-1)),C("ul",pn,[f(d,{keypath:"welcomeScreen.link.evitaDBDocumentation.text",tag:"li"},{link:s(()=>[C("a",gn,b(h(n)("welcomeScreen.link.evitaDBDocumentation.link")),1)]),_:1}),f(d,{keypath:"welcomeScreen.link.evitaLabGitHub.text",tag:"li"},{link:s(()=>[C("a",fn,b(h(n)("welcomeScreen.link.evitaLabGitHub.link")),1)]),_:1}),f(d,{keypath:"welcomeScreen.link.discord.text",tag:"li"},{link:s(()=>[C("a",hn,b(h(n)("welcomeScreen.link.discord.link")),1)]),_:1}),C("li",null,[C("a",bn,b(h(n)("welcomeScreen.link.submitIssue")),1)])])])])}}});const _n=ne(yn,[["__scopeId","data-v-70fa2ac3"]]),wn=["innerHTML"],Sn=["innerHTML"],kn=["innerHTML"],Vn=H({__name:"TabSharedDialog",props:{tabRequest:{}},emits:["resolve"],setup(e,{emit:r}){const n=pe(),{t:l}=Q(),t=e,a=r;function c(){n.createTab(t.tabRequest),a("resolve")}function d(){a("resolve")}return(o,m)=>(v(),N(Ma,{"model-value":!0,"max-width":"36rem","onUpdate:modelValue":d},{title:s(()=>[E(b(h(l)("tabShare.sharedDialog.title")),1)]),default:s(()=>[o.tabRequest.initialData!=null?(v(),M("span",{key:0,innerHTML:h(l)("tabShare.sharedDialog.text.withoutInitialData")},null,8,wn)):(v(),M("span",{key:1,innerHTML:h(l)("tabShare.sharedDialog.text.withInitialData")},null,8,Sn)),o.tabRequest.initialData!=null?(v(),N(Oe,{key:2,icon:"mdi-alert-outline",type:"warning",class:"mt-4"},{default:s(()=>[C("span",{innerHTML:h(l)("tabShare.sharedDialog.warning.potentiallyUnsafe")},null,8,kn)]),_:1})):j("",!0)]),"reject-button":s(()=>[f(Aa,{onReject:d},{default:s(()=>[E(b(h(l)("tabShare.sharedDialog.button.reject")),1)]),_:1})]),"confirm-button":s(()=>[f(Pa,{icon:"mdi-check",onConfirm:c},{default:s(()=>[E(b(h(l)("tabShare.sharedDialog.button.accept")),1)]),_:1})]),_:1}))}}),Tn={key:1,style:{position:"relative"}},Cn=H({__name:"WorkspaceTabWindowList",setup(e){const r=Ua(),n=ee(),l=Ge(),{t}=Q(),a=pe(),c=Wa(),d=Ha(),o=L(!1),m=L(!1),p=L(),u=L(a.getTabDefinitions());te(u,()=>{const _=a.getTheNewTab();_&&(i.value=_.id,a.markTabAsVisited(_.id))},{deep:!0});const i=L();te(i,(_,k)=>{_!=null?(l.setContext(_),a.subjectPathStatus.activatePath(_)):k!=null&&(l.resetActivatedContext(),a.subjectPathStatus.deactivatePath())});function g(_){if(i.value==null)return;let x=a.getTabIndex(i.value)+_;x<0?x=u.value.length-1:x>=u.value.length&&(x=0),i.value=u.value[x].id}function V(_){const k=u.value.length,x=u.value.findIndex(A=>A.id===i.value),B=u.value.findIndex(A=>A.id===_);a.destroyTab(_),l.deleteContext(_),a.subjectPathStatus.deletePath(_),u.value.length===0?i.value=null:B===x&&B===k-1?i.value=u.value[B-1].id:B===x&&B<k-1&&(i.value=u.value[B].id)}async function y(){const _=r.query.demoSnippetRequest;if(_!=null)try{return await c.resolve(_)}catch(k){n.error(k)}}async function D(){const _=r.query.sharedTab;if(_!=null)try{return await d.resolve(_)}catch(k){n.error(k)}}function I(){try{let _=!1;a.restoreTabsFromLastSession()&&(_=!0),a.restoreTabHistory()&&(_=!0),_&&n.info("Your last session has been restored.")}catch(_){console.error(_),n.warning("Failed to fully restore your last session.")}}function S(){a.storeOpenedTabs(),a.storeTabHistory()}return y().then(_=>(_!=null&&(o.value=!0,a.createTab(_)),D())).then(_=>{_!=null&&(o.value=!0,p.value=_,m.value=!0),o.value||I()}),we(()=>{l.bindGlobal(J.System_Editor_PreviousTab,()=>g(-1)),l.bindGlobal(J.System_Editor_NextTab,()=>g(1)),l.bindGlobal(J.System_Editor_CloseTab,()=>{i.value!=null&&V(i.value)}),l.bindGlobal(J.System_Editor_CloseAllTabs,()=>a.destroyAllTabs())}),je(()=>{l.unbindGlobal(J.System_Editor_PreviousTab),l.unbindGlobal(J.System_Editor_NextTab),l.unbindGlobal(J.System_Editor_CloseTab),l.unbindGlobal(J.System_Editor_CloseAllTabs)}),window.addEventListener("beforeunload",()=>{o.value||S()}),(_,k)=>(v(),M(K,null,[u.value.length>0?(v(),N(_t,{key:0,density:"compact",elevation:"0"},{default:s(()=>[f(Ga,{modelValue:i.value,"onUpdate:modelValue":k[0]||(k[0]=x=>i.value=x)},{default:s(()=>[(v(!0),M(K,null,ie(u.value,x=>(v(),N(qa,{key:x.id,value:x.id,"prepend-icon":x.icon,onMousedown:$e(B=>V(x.id),["middle"]),class:"lab-tab"},{default:s(()=>[C("span",null,[E(b(h(Fo)(x.title,30))+" ",1),x.title.length>30?(v(),N(ve,{key:0,activator:"parent"},{default:s(()=>[E(b(x.title),1)]),_:2},1024)):j("",!0)]),f(qe,{icon:"",variant:"plain",density:"compact",class:"ml-3",onClick:$e(B=>V(x.id),["stop"])},{default:s(()=>[f(de,null,{default:s(()=>k[3]||(k[3]=[E("mdi-close")])),_:1}),f(Fe,{command:h(J).System_Editor_CloseTab},{default:s(()=>[E(b(h(t)("tab.button.closeTab")),1)]),_:1},8,["command"])]),_:2},1032,["onClick"])]),_:2},1032,["value","prepend-icon","onMousedown"]))),128))]),_:1},8,["modelValue"])]),_:1})):j("",!0),f(Xa,{scrollable:!1,class:"lab-editor"},{default:s(()=>[u.value.length>0?(v(),N(ja,{key:0,modelValue:i.value,"onUpdate:modelValue":k[1]||(k[1]=x=>i.value=x)},{default:s(()=>[(v(!0),M(K,null,ie(u.value,x=>(v(),N(Fa,{key:x.id,value:x.id,transition:!1,"reverse-transition":!1,class:"window-item"},{default:s(()=>[f(Ko,{id:x.id,component:x.component,"component-props":x.componentProps()},null,8,["id","component","component-props"])]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])):(v(),M("div",Tn,[f(_n)]))]),_:1}),p.value?(v(),N(Vn,{key:1,"tab-request":p.value,onResolve:k[2]||(k[2]=x=>p.value=void 0)},null,8,["tab-request"])):j("",!0)],64))}});const Nn=ne(Cn,[["__scopeId","data-v-b8c6aeb8"]]),xn={key:0,class:"editor-status"},Dn=H({__name:"EditorStatus",props:{status:{}},setup(e){const{t:r}=Q(),n=e,l=R(()=>n.status.activatedEditorInfo),t=R(()=>{if(l.value!=null&&l.value.selections.size==1)return l.value.selections.get(0)});return(a,c)=>l.value?(v(),M("div",xn,[f(ve,null,{activator:s(({props:d})=>[C("span",ae({class:"text-no-wrap"},d),[l.value.selections.size!=1?(v(),M(K,{key:0},[E(b(h(r)("common.statusBar.activeEditorStatus.selections.value.multipleSelections",{count:l.value.selections.size})),1)],64)):(v(),M(K,{key:1},[E(b(h(r)("common.statusBar.activeEditorStatus.selections.value.singleSelection.cursorPosition",{line:t.value.line,column:t.value.column}))+" ",1),t.value.selectedCharacterCount>0?(v(),M(K,{key:0},[E(" ("+b(h(r)("common.statusBar.activeEditorStatus.selections.value.singleSelection.selectionRange",{charsCount:t.value.selectedCharacterCount})),1),t.value.lineBreaks>0?(v(),M(K,{key:0},[E(", "+b(h(r)("common.statusBar.activeEditorStatus.selections.value.singleSelection.lineBreaks",{lineBreaks:t.value.lineBreaks})),1)],64)):j("",!0),c[0]||(c[0]=E(") "))],64)):j("",!0)],64))],16)]),default:s(()=>[E(b(h(r)("common.statusBar.activeEditorStatus.selections.label")),1)]),_:1}),f(ve,null,{activator:s(({props:d})=>[C("span",ae({class:"text-no-wrap"},d),b(h(r)("common.statusBar.activeEditorStatus.tabSize.value",{tabSize:l.value.tabSize})),17)]),default:s(()=>[E(b(h(r)("common.statusBar.activeEditorStatus.tabSize.label")),1)]),_:1}),f(ve,null,{activator:s(({props:d})=>[C("span",ae({class:"text-no-wrap"},d),b(l.value.language),17)]),default:s(()=>[E(b(h(r)("common.statusBar.activeEditorStatus.language.label")),1)]),_:1})])):j("",!0)}});const Rn=ne(Dn,[["__scopeId","data-v-ab91fc98"]]),En=H({__name:"SubjectPathStatusItem",props:{item:{}},setup(e){const r=e;function n(){r.item.onClick!=null&&r.item.onClick()}return(l,t)=>(v(),M("div",{class:Be(["subject-path-status-item",{"subject-path-status-item--clickable":l.item.onClick!=null}]),onClick:n},[l.item.icon?(v(),N(de,{key:0,icon:l.item.icon,size:"12"},null,8,["icon"])):j("",!0),C("span",null,b(l.item.value),1)],2))}});const Bn=ne(En,[["__scopeId","data-v-3925741a"]]);const $n={};function In(e,r){return v(),N(de,{icon:"mdi-chevron-right",size:"12",class:"text-disabled subject-path-status-item-delimiter"})}const Ln=ne($n,[["render",In],["__scopeId","data-v-a85df1cb"]]),An={key:0,class:"subject-path-status"},Pn=H({__name:"SubjectPathStatus",props:{status:{}},setup(e){const r=e,n=R(()=>r.status.activatedPath);return(l,t)=>n.value?(v(),M("div",An,[(v(!0),M(K,null,ie(n.value.items,(a,c)=>(v(),M(K,{key:c},[f(Bn,{item:a},null,8,["item"]),c+1<n.value.items.size?(v(),N(Ln,{key:0})):j("",!0)],64))),128))])):j("",!0)}});const Mn=ne(Pn,[["__scopeId","data-v-91b66f15"]]),Un={class:"left-content"},Wn={class:"right-content"},Hn=H({__name:"WorkspaceStatusBar",setup(e){const r=pe(),n=R(()=>r.subjectPathStatus),l=R(()=>r.editorStatus);return(t,a)=>(v(),N(_t,{height:"28",location:"bottom",flat:"",class:"bg-primary-dark status-bar"},{default:s(()=>[C("div",Un,[f(Mn,{status:n.value},null,8,["status"])]),C("div",Wn,[f(Rn,{status:l.value},null,8,["status"])])]),_:1}))}});const Gn=ne(Hn,[["__scopeId","data-v-18101a46"]]),zn=H({__name:"MainView",setup(e){const r=L(fe.Explorer);return(n,l)=>(v(),M(K,null,[f(Gn),f(bo,{panel:r.value,"onUpdate:panel":l[0]||(l[0]=t=>r.value=t)},null,8,["panel"]),f(qo,{"model-value":r.value===h(fe).Explorer},null,8,["model-value"]),f(Nn)],64))}});export{zn as default};
